{"version":3,"sources":["Layouts/AppBar.js","Layouts/AppMenu.js","Services/API.js","Components/Orders/OrderDetails.js","Components/Orders/OrdersTable.js","Components/Orders/index.js","Services/Notifications.js","Components/Products/Item.js","Components/Products/Group.js","Services/FileReader.js","Components/UploadImage.js","Components/Config/UpdateableInput.js","Components/Products/ProductDialog.js","Components/TextPrompt.js","Components/Products/index.js","Components/Config/Informacion.js","Services/Geo.js","Components/Map.js","Components/Config/Cobertura.js","Components/Config/HorarioDialog.js","Components/Config/Horarios.js","Components/Config/index.js","App.js","Login.js","index.js"],"names":["_default","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","menuEl","handleMenu","bind","assertThisInitialized","handleClose","handleLogOut","event","setState","currentTarget","window","confirm","onLogOut","_this$props","title","store","user","open","Boolean","react_default","a","createElement","index_es","position","style","zIndex","display","flexDirection","flexGrow","variant","color","textAlign","titulo","toUpperCase","aria-owns","undefined","aria-haspopup","onClick","icons_index_es","id","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","onClose","minWidth","React","PureComponent","AppMenu","STEPS","current_step","maxWidth","paddingTop","width","map","step","index","Fragment","key","addDividerBefore","component","Link","to","selected","button","Icon","URL","QUITO","lat","lng","session","Date","toString","Math","floor","random","storeLoginData","info","localStorage","setItem","JSON","stringify","removeItem","viewLoginData","getItem","parse","getToken","location","reload","message","token","socket","LISTENERS","ON_ORDERS_CHANGED","Fetch","URI","options","DEFAULTS","method","cache","mode","headers","Content-Type","Access-Control-Allow-Origin","fetch","objectSpread","then","response","ok","json","clone","catch","text","x","status","statusText","obj","ex","API","LogIn","data","concat","body","GetOrders","storeID","URLSearchParams","Authorization","btoa","GetOrder","ID","OrdersOnRoute","orders","OrdersDelivered","ListenOnOrderChange","fn","push","splice","indexOf","GetGroups","SaveGroup","group","RequestActionGroup","DeleteGroup","GetProduct","SaveProduct","product","RequestActionProduct","DeleteProduct","GetConfigInfo","setConfigInfo","info_item","START_LISTENING","io","query","reconnection","transports","console","on","origin","forEach","payload","deletedAt","STOP_LISTENING","disconnect","error","close","_this2","match","params","history","goBack","_this$state","height","padding","size","facturaConDatos","documento_factura","identificacion_factura","_detalle_","toConsumableArray","detalle","valor_delivery","pvp","cantidad","pagaIva","TOTALES","reduce","neto","iva","total","round","fecha","f","toDateString","toLocaleTimeString","FechaHoraStr","fechaEnvio","createdAt","numero","nombre","Documento","identificacion","telefono","direccion","referencia","flex","marginRight","item","RowDet","assign","descripcion","mts_delivery","segs_delivery","join","marginTop","toFixed","FormaPago","numeroTransaccion","nota","Documento_factura","marginLeft","DatosFacturaItem","icon","BusinessOutlined","razonsocial_factura","PhoneOutlined","telefono_factura","LocationOnOutlined","direccion_factura","Component","withRouter","_React$PureComponent","_class","handleClick","onMounted","estado","inherits","createClass","value","stopPropagation","path","onSelect","now","timeCol","rows","filter","overflow","OrdersTable_Row","onCheck","react_router","OrderDetails","Row","tabIndex","cursor","onContextMenu","hover","checked","scope","toLocaleString","day","DayOfYear","today","RenderTimeCol","date","start","getFullYear","diff","valueOf","loading","goToCenter","navigationValue","stepID","handleRightClick","handleSelect","handleCurrentLocation","handleNavigation","handleChangeState","__updateRecords","REMOVE_LISTENER","STOP_TIMER","_event$target","target","prev","find","_this3","selections","length","alert","IDS","results","addIfNotExists","res","_this4","_this$state2","margin","code","G_M_K","textColor","indicatorColor","onChange","label","render","OrdersTable","paddingLeft","paddingRight","disabled","href","currentLocation","locations","rutas","i","ruta","Map","googleMapURL","containerElement","loadingElement","mapElement","center","withScriptjs","withGoogleMap","lib","defaultCenter","defaultZoom","disableDefaultUI","zoomControl","clickableIcons","MarkerWithLabel","labelAnchor","google","maps","Point","labelStyle","background","border","_ref","N","slicedToArray","Notification","onclick","focus","Item","paused_color","paused","onItemClick","image","imgSrc","whiteSpace","onItemAction","name","fontSize","handleMenuClose","items","loading_action","onGroupAction","scrollBehavior","sort","b","orden","p","onGroupEdit","onGroupDelete","ReadImgAsUrl","files","Promise","resolve","reject","file","type","mbs","reader","FileReader","onload","e","result","onerror","readAsDataURL","timeout","UploadImage","document","getElementById","click","IMG_STYLE","maxHeight","hidden","accept","verticalAlign","src","alt","withStyles","paper","_class2","idGrupo","habilitado","handleInput","handleCheck","handleDelete","handlePhotoChange","handlePhotoDrop","handlePhotoOver","_info$split","split","_info$split2","_event$currentTarget","defineProperty","_event$currentTarget2","isNaN","delete","preventDefault","_this5","_this6","dataTransfer","classList","remove","add","dropEffect","clearTimeout","setTimeout","_this7","precioFinal","porcentajeIVA","onDrop","onDragOver","onDragEnter","handlePhotoEnter","onDragLeave","handlePhotoLeave","classes","paddingBottom","overflowX","autoFocus","fullWidth","textField","inputProps","multiline","InputProps","endAdornment","control","select","SelectProps","native","grupos","g","eliminable","marginBottom","input","inputLabel","handleSubmit","onSubmit","currentGroup","deleteGroup","editGroup","editGroupEnding","updateGrupo","handleGroupAction","handleItemClick","handleItemAction","editItemEnd","updateProduct","rawGroups","action","prop_name","grupo_a_actualizar","grupo","scrollGroupToItem","new_element","hasOwnProperty","exists","scrollToGroupId","onError","err","requestAnimationFrame","div","groupDIV","scrollTop","offsetTop","idProducto","scrollLeft","offsetLeft","changed_prop","_this8","Group_default","ProductDialog","d","TextPrompt_default","Input","fb","feedback","visible_props","helperText","validated","onUpdate","parseFloat","timeouts","handleUpdateProp","handleLogo","configuracion","avoidCatch","promise","logoSrc","slogan","whatsAppMessage","whatsAppPhone","container","xs","maxLength","navigator","geolocation","PositionByIP","getCurrentPosition","geoLocation","coords","latitude","longitude","QUITO_BOUNDS","west","north","east","south","Components_Map","API_KEY","mapProps","objectWithoutProperties","Map_Map","marker","polygons","enableDrawingManager","onPolygonComplete","onMapMounted","onPolygonClick","onPolygonMouseUp","ref","elevation","DrawingManager_default","defaultDrawingMode","drawing","OverlayType","POLYGON","defaultOptions","drawingControl","drawingControlOptions","ControlPosition","TOP_CENTER","drawingModes","polygonOptions","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","editable","onMouseUp","baseTransporte","kmBaseTransporte","recargoPorKm","google_maps_key","cobrarTransporte","coberturas","editMode","handleTabContext","tabContextEl","handleTabContextClose","handleDeleteAllCoberturas","updateFeedback","handleMapMounted","handleNewPolygon","handlePolygonMouseUp","handleEditMode","handleMapClick","k","Geo","currentPosition","Polygon","vertices","getPath","getLength","getAt","toJSON","setMap","latLng","has_changed","previous","coord","prev_coord","LAST_COBERTURAS","mapRef","_fitBoundsToPolygon","_","bounds","LatLngBounds","extend","current_bounds","getBounds","union","fitBounds","hay_coberturas","MAP_OPTIONS","dias","desde","hasta","handleChange","handleDays","parts","INDEX","guardar","TimeSelect","DaysSelect","selectProps","o","horarios","handleEdit","horario","HorarioDialog_default","TimeToString","tz","ToDayString","minHour","_minHour","hour","min","currentTab","defaultConfiguracion","LoadedTabs","handleTabChange","Informacion_default","Cobertura_default","Horarios_default","Inbox","Category","Settings","handleMounted","permission","Notifications","ListenOrderChanges","requestPermission","log","react_router_dom","AppBar_default","Orders_default","Products_default","Config_default","exact","styles","pdw","showPassword","handleTogglePassword","pwd","withStoresInfo","userInfo","onLogged","required","startAdornment","LaunchApp","ReactDOM","App_default","LoggedOut","LaunchLogin","Login_default","Logged"],"mappings":"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","file":"static/js/main.d88fa0bb.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { AppBar, Toolbar, Typography, IconButton, Menu, MenuItem } from \"@material-ui/core\";\r\nimport { AccountCircle } from \"@material-ui/icons\";\r\n\r\nexport default class extends React.PureComponent {\r\n    state = {\r\n        menuEl: null\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleMenu = this.handleMenu.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleLogOut = this.handleLogOut.bind(this);\r\n    }\r\n    handleMenu(event) {\r\n        this.setState({ menuEl: event.currentTarget });\r\n    }\r\n    handleClose() {\r\n        this.setState({ menuEl: null });\r\n    }\r\n    handleLogOut() {\r\n        var ok = window.confirm(\"Est seguro de cerrar sesin?\");\r\n        if (ok) this.props.onLogOut();\r\n        this.handleClose();\r\n    }\r\n    render() {\r\n        const { title, store, user } = this.props;\r\n        const { menuEl } = this.state;\r\n        const open = Boolean(menuEl);\r\n        return (<AppBar position=\"fixed\" style={{ zIndex: 1201 }}>\r\n            <Toolbar style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                <Typography style={{ flexGrow: 1 }} variant=\"h4\" color=\"inherit\" >{title || \"\"}</Typography>\r\n                <div style={{ display: \"block\", textAlign: \"right\" }}>\r\n                    <Typography color=\"inherit\" variant=\"button\">{(store.titulo || \"\").toUpperCase()}</Typography>\r\n                    <Typography color=\"inherit\" variant=\"caption\">{user}</Typography>\r\n                </div>\r\n                <div>\r\n                    <IconButton\r\n                        title={store.titulo}\r\n                        aria-owns={open ? 'menu-appbar' : undefined}\r\n                        aria-haspopup=\"true\"\r\n                        onClick={this.handleMenu}\r\n                        color=\"inherit\"\r\n                    >\r\n                        <AccountCircle />\r\n                    </IconButton>\r\n                    <Menu\r\n                        id=\"menu-appbar\"\r\n                        anchorEl={menuEl}\r\n                        anchorOrigin={{\r\n                            vertical: 'top',\r\n                            horizontal: 'right',\r\n                        }}\r\n                        transformOrigin={{\r\n                            vertical: 'top',\r\n                            horizontal: 'right',\r\n                        }}\r\n                        open={open}\r\n                        onClose={this.handleClose}\r\n                    >\r\n                        <MenuItem style={{ minWidth: 150 }} onClick={this.handleLogOut}>Salir</MenuItem>\r\n                    </Menu>\r\n                </div>\r\n            </Toolbar>\r\n        </AppBar>)\r\n    }\r\n};","import React from \"react\";\r\nimport { Drawer, List, ListItem, ListItemText, ListItemIcon, Divider } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\nexport default function (props) {\r\n    const { STEPS, current_step } = props;\r\n    return (<Drawer variant=\"permanent\" style={{ maxWidth: 200 }}>\r\n        <div style={{ paddingTop: 70, width: 200 }}>\r\n            <List>\r\n                {STEPS.map((step, index) => (<React.Fragment key={index}>\r\n                    {step.addDividerBefore && <Divider />}\r\n                    <ListItem\r\n                        component={Link}\r\n                        to={\"/\" + step.id}\r\n                        selected={step.id === current_step}\r\n                        button\r\n                    >\r\n                        <ListItemText>{step.title}</ListItemText>\r\n                        <ListItemIcon>{<step.Icon />}</ListItemIcon>\r\n                    </ListItem>\r\n                </React.Fragment>\r\n                ))}\r\n            </List>\r\n        </div>\r\n    </Drawer>)\r\n}","import io from \"socket.io-client\";\r\n/*const URL = (window.location.href.indexOf(\"http://localhost\") === 0)\r\n    ? \"http://localhost:10000/data/\"\r\n    : (window.location.protocol === \"https:\"\r\n        ? \"https://orders-runfoodapp.rj.r.appspot.com/data/\"\r\n        : \"http://runfoodapp.ddns.net:10000/data/\");*/\r\nconst URL = \"https://orders.runfoodapp.com\";\r\n//const URL = \"http://localhost:10000\";\r\n\r\nconst QUITO = { lat: -0.180653, lng: -78.467834 };\r\n\r\nconst session = new Date().toString() + \":\" + Math.floor(100000 + Math.random() * 900000);\r\n\r\nexport function storeLoginData(info) {\r\n    if (info) {\r\n        window.localStorage.setItem(\"__\", JSON.stringify(info));\r\n    } else {\r\n        window.localStorage.removeItem(\"__\");\r\n    }\r\n}\r\nexport function viewLoginData() {\r\n    let info = window.localStorage.getItem(\"__\");\r\n    if (!info) return;\r\n    info = JSON.parse(info);\r\n    if (!info.position) info.position = QUITO;\r\n    return info;\r\n}\r\nfunction getToken() {\r\n    const info = viewLoginData();\r\n    if (!info) {\r\n        window.location.reload();\r\n        throw { message: \"Necesitas iniciar sesin para entrar aqu.\" };\r\n    }\r\n    return info.token + \"+\" + session;\r\n}\r\n\r\nconst LISTENERS = {\r\n    ON_ORDERS_CHANGED: []\r\n};\r\nlet socket;\r\nconst API = {\r\n    LogIn(data) {\r\n        return Fetch(`${URL}/login`, {\r\n            body: JSON.stringify(data),\r\n            method: \"POST\"\r\n        }).catch(x => {\r\n            if (x.status === 400) throw { ...x, message: \"Usuario o contrasea incorrectos.\" };\r\n            if (x.status === 401) throw { ...x };\r\n            if (x.status === 401) throw { ...x };\r\n        });\r\n    },\r\n\r\n    GetOrders(body) {\r\n        return Fetch(`${URL}/data/${this.storeID}/order?${new URLSearchParams(body).toString()}`, {\r\n            headers: {\r\n                \"Authorization\": \"Basic \" + btoa(getToken())\r\n            }\r\n        });\r\n    },\r\n    GetOrder(ID) {\r\n        return Fetch(`${URL}/data/${this.storeID}/order/${ID}`, {\r\n            headers: {\r\n                \"Authorization\": \"Basic \" + btoa(getToken())\r\n            }\r\n        });\r\n    },\r\n    OrdersOnRoute(orders) {\r\n        return Fetch(`${URL}/data/${this.storeID}/order-actions/ON-ROUTE`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify({ orders }),\r\n            headers: {\r\n                \"Authorization\": \"Basic \" + btoa(getToken())\r\n            }\r\n        });\r\n    },\r\n    OrdersDelivered(orders) {\r\n        return Fetch(`${URL}/data/${this.storeID}/order-actions/DELIVERED`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify({ orders }),\r\n            headers: {\r\n                \"Authorization\": \"Basic \" + btoa(getToken())\r\n            }\r\n        });\r\n    },\r\n    ListenOnOrderChange(fn) {\r\n        LISTENERS.ON_ORDERS_CHANGED.push(fn);\r\n        return () => LISTENERS.ON_ORDERS_CHANGED.splice(LISTENERS.ON_ORDERS_CHANGED.indexOf(fn), 1);\r\n    },\r\n\r\n    GetGroups() {\r\n        return Fetch(`${URL}/data/${this.storeID}/group?admin_info=true`, {\r\n            headers: {\r\n                \"Authorization\": \"Basic \" + btoa(getToken())\r\n            }\r\n        });\r\n    },\r\n    SaveGroup(group) {\r\n        const ID = group.id;\r\n        return Fetch(`${URL}/data/${this.storeID}/group${ID ? `/${ID}` : \"\"}`, {\r\n            method: ID ? \"PUT\" : \"POST\",\r\n            body: JSON.stringify(group),\r\n            headers: {\r\n                \"Authorization\": \"Basic \" + btoa(getToken())\r\n            }\r\n        })\r\n    },\r\n    RequestActionGroup(group) {\r\n        return Fetch(`${URL}/data/${this.storeID}/group/${group.id}`, {\r\n            method: \"PATCH\",\r\n            body: JSON.stringify(group),\r\n            headers: {\r\n                \"Authorization\": \"Basic \" + btoa(getToken())\r\n            }\r\n        })\r\n    },\r\n    DeleteGroup(group) {\r\n        return Fetch(`${URL}/data/${this.storeID}/group/${group.id}`, {\r\n            method: \"DELETE\",\r\n            body: JSON.stringify(group),\r\n            headers: {\r\n                \"Authorization\": \"Basic \" + btoa(getToken())\r\n            }\r\n        });\r\n    },\r\n\r\n    GetProduct(ID) {\r\n        return Fetch(`${URL}/data/${this.storeID}/product/${ID}?admin_info=true`, {\r\n            headers: {\r\n                \"Authorization\": \"Basic \" + btoa(getToken())\r\n            }\r\n        });\r\n    },\r\n    SaveProduct(product) {\r\n        const ID = product.id && product.id !== \"NUEVO\" && product.id;\r\n        return Fetch(`${URL}/data/${this.storeID}/product${ID ? `/${ID}` : \"\"}`, {\r\n            method: ID ? \"PUT\" : \"POST\",\r\n            body: JSON.stringify(product),\r\n            headers: {\r\n                \"Authorization\": \"Basic \" + btoa(getToken())\r\n            }\r\n        })\r\n    },\r\n    RequestActionProduct(product) {\r\n        return Fetch(`${URL}/data/${this.storeID}/product/${product.id}`, {\r\n            method: \"PATCH\",\r\n            body: JSON.stringify(product),\r\n            headers: {\r\n                \"Authorization\": \"Basic \" + btoa(getToken())\r\n            }\r\n        })\r\n    },\r\n    DeleteProduct(product) {\r\n        return Fetch(`${URL}/data/${this.storeID}/product/${product.id}`,\r\n            {\r\n                method: \"DELETE\",\r\n                body: JSON.stringify(product),\r\n                headers: {\r\n                    \"Authorization\": \"Basic \" + btoa(getToken())\r\n                }\r\n            })\r\n    },\r\n\r\n\r\n    GetConfigInfo() {\r\n        return Fetch(`${URL}/data/${this.storeID}/config`, {\r\n            headers: {\r\n                \"Authorization\": \"Basic \" + btoa(getToken())\r\n            }\r\n        });\r\n    },\r\n    setConfigInfo(info_item) {\r\n        return Fetch(`${URL}/data/${this.storeID}/config`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(info_item),\r\n            headers: {\r\n                \"Authorization\": \"Basic \" + btoa(getToken())\r\n            }\r\n        });\r\n    },\r\n\r\n    START_LISTENING() {\r\n        socket = io(URL, {\r\n            query: {\r\n                token: btoa(getToken())\r\n            },\r\n            reconnection: true,\r\n            transports: [\"polling\"]\r\n        });\r\n        console.info(\"SOCKET CONNECTED\");\r\n        socket.on(\"ORDERS_CHANGED\", data => {\r\n            if (data.origin === btoa(getToken())) return;\r\n            LISTENERS.ON_ORDERS_CHANGED.forEach(fn => fn(data.payload, !data.deletedAt));\r\n        });\r\n    },\r\n    STOP_LISTENING() {\r\n        socket && socket.disconnect();\r\n        console.info(\"SOCKET DISCONNECTED\");\r\n    }\r\n}\r\n\r\nfunction Fetch(URI, options) {\r\n    const DEFAULTS = {\r\n        method: \"GET\",\r\n        cache: \"reload\",\r\n        mode: \"cors\",\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Access-Control-Allow-Origin': '*'\r\n        }\r\n    };\r\n    // headers\r\n    if (options && options.headers) {\r\n        for (const key in options.headers) {\r\n            DEFAULTS.headers[key] = options.headers[key];\r\n        }\r\n        delete options.headers;\r\n    }\r\n    return fetch(URI, { ...DEFAULTS, ...options }).then(response => {\r\n        if (response.ok) {\r\n            return response.json();\r\n        } else {\r\n            return response.clone().json()\r\n                .catch(() => {\r\n                    return response.text().then(x => {\r\n                        throw {\r\n                            message: x,\r\n                            status: response.status,\r\n                            statusText: response.statusText\r\n                        }\r\n                    })\r\n                }).then(obj => {\r\n                    throw {\r\n                        ...obj,\r\n                        status: response.status,\r\n                        statusText: response.statusText\r\n                    }\r\n                })\r\n        }\r\n    }).catch(ex => {\r\n        if (ex.message === \"Failed to fetch\") {\r\n            throw {\r\n                message: \"Este servicio no se encuentra disponible por el momento. Intentelo ms tarde.\",\r\n                status: 0\r\n            }\r\n        }\r\n        if (!ex.message) ex.message = ex.statusText;\r\n        throw ex;\r\n    });\r\n}\r\nexport default API;\r\n\r\n","import React from \"react\";\r\nimport { DialogContent, Dialog, CircularProgress, Typography, Divider, DialogActions, Button } from \"@material-ui/core\";\r\nimport { PhoneOutlined, BusinessOutlined, LocationOnOutlined } from \"@material-ui/icons\";\r\nimport API from \"../../Services/API\";\r\n\r\nexport default class extends React.Component {\r\n    state = {\r\n        data: null,\r\n        error: null\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.close = this.close.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        API.GetOrder(this.props.match.params.id)\r\n            .then(\r\n                data => this.setState({ data })\r\n            ).catch(error => this.setState({ error }));\r\n    }\r\n    close() {\r\n        this.props.history.goBack();\r\n    }\r\n    render() {\r\n        const { data, error } = this.state;\r\n        if (!data) return (<Dialog open={true} onClose={this.close} >\r\n            <DialogContent style={{ minWidth: 400, height: 400 }}>\r\n                {error\r\n                    ? (<div style={{ textAlign: \"center\", padding: 20 }}>\r\n                        <Typography variant=\"h6\">Ocurri un error</Typography>\r\n                        <Typography variant=\"body2\">{error.message}</Typography>\r\n                        <Typography variant=\"button\">{error.status} {error.statusText}</Typography>\r\n                    </div>)\r\n                    : (<div style={{ textAlign: \"center\", padding: 100 }}>\r\n                        <CircularProgress size={100} />\r\n                        <Typography variant=\"h6\">CARGANDO...</Typography>\r\n                    </div>)}\r\n            </DialogContent>\r\n        </Dialog>);\r\n\r\n        const facturaConDatos = data.documento_factura && data.identificacion_factura;\r\n        var _detalle_ = [...data.detalle];\r\n        if (data.valor_delivery) _detalle_.push({\r\n            id: \"DOMICILIO\",\r\n            pvp: data.valor_delivery,\r\n            cantidad: 1,\r\n            pagaIva: 0\r\n        });\r\n        const TOTALES = _detalle_.reduce((a, x) => {\r\n            a.neto += (x.pvp * x.cantidad);\r\n            a.cantidad += x.cantidad;\r\n            if (x.pagaIva) a.iva += (a.neto * 12) / 100;\r\n            return a;\r\n        }, {\r\n            cantidad: 0,\r\n            neto: 0,\r\n            iva: 0\r\n        });\r\n        TOTALES.total = (TOTALES.neto + TOTALES.iva + (TOTALES.valor_delivery || 0)).round(2);\r\n\r\n        const fecha = FechaHoraStr(data.fechaEnvio || data.createdAt);\r\n\r\n        return (<Dialog open={true} onClose={this.close}>\r\n            <DialogContent style={{ minWidth: 400, height: 400 }}>\r\n                <Typography style={{ textAlign: \"center\" }} variant=\"h5\">ORDEN #{data.numero}</Typography>\r\n\r\n                <div>\r\n                    <Typography style={{ display: \"inline-block\", width: 80 }} variant=\"body2\">FECHA: </Typography>\r\n                    <Typography style={{ display: \"inline-block\" }} variant=\"body1\">{fecha}</Typography>\r\n                </div>\r\n                <div>\r\n                    <Typography style={{ display: \"inline-block\", width: 80 }} variant=\"body2\">CLIENTE: </Typography>\r\n                    <Typography style={{ display: \"inline-block\" }} variant=\"body1\">{data.nombre}</Typography>\r\n                </div>\r\n                {(data.Documento || data.identificacion) && <div>\r\n                    <Typography style={{ display: \"inline-block\", width: 80 }} variant=\"body2\">{data.Documento || \"C.I. / RUC\"}: </Typography>\r\n                    <Typography style={{ display: \"inline-block\" }} variant=\"body1\">{data.identificacion}</Typography>\r\n                </div>}\r\n                <div>\r\n                    <Typography style={{ display: \"inline-block\", width: 80 }} variant=\"body2\">TLF: </Typography>\r\n                    <Typography style={{ display: \"inline-block\" }} variant=\"body1\">{data.telefono}</Typography>\r\n                </div>\r\n                <div>\r\n                    <Typography style={{ display: \"inline-block\", width: 80 }} variant=\"body2\">DIRECCION: </Typography>\r\n                    <Typography style={{ display: \"inline-block\" }} variant=\"body1\">{data.direccion}</Typography>\r\n                </div>\r\n                <div>\r\n                    <Typography style={{ display: \"inline-block\", width: 80 }} variant=\"body2\">REFERENCIA: </Typography>\r\n                    <Typography style={{ display: \"inline-block\" }} variant=\"body1\">{data.referencia}</Typography>\r\n                </div>\r\n\r\n                <div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\" }}>\r\n                    <Typography style={{ flex: 1, marginRight: 10 }} variant=\"h6\">PRODUCTO</Typography>\r\n                    <Typography style={{ width: 60, marginRight: 10 }} variant=\"h6\">CANT</Typography>\r\n                    <Typography style={{ width: 70, textAlign: \"right\" }} variant=\"h6\">TOTAL</Typography>\r\n                </div>\r\n\r\n                {data.detalle.map((item, index) => <RowDet {...item} key={index} />)}\r\n                {data.valor_delivery ? <RowDet\r\n                    color=\"primary\"\r\n                    cantidad={1}\r\n                    pvp={data.valor_delivery}\r\n                    descripcion={\"ENVIO A DOMICILIO \" + [\r\n                        (data.mts_delivery ? (`${(data.mts_delivery / 1000).round(1)} km`) : \"\"),\r\n                        (data.segs_delivery ? (`${(data.segs_delivery / 60).round(1)} min`) : \"\")\r\n                    ].join(\" / \")}\r\n                /> : null}\r\n\r\n                <div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\", marginTop: 10 }}>\r\n                    <Typography variant=\"h6\" style={{ flex: 1, marginRight: 10 }} >TOTAL</Typography>\r\n                    <Typography style={{ marginRight: 10, width: 60 }} variant=\"h6\">{TOTALES.cantidad.round(4)}</Typography>\r\n                    <Typography style={{ width: 70, textAlign: \"right\" }} variant=\"h6\">$ {TOTALES.total.toFixed(2)}</Typography>\r\n                </div>\r\n\r\n                <Divider style={{ marginTop: 10 }} />\r\n                <Typography>PAGO : {data.FormaPago}</Typography>\r\n                {data.numeroTransaccion && <Typography># de Comprobante :{data.numeroTransaccion}</Typography>}\r\n                <Typography>NOTAS: {data.nota}</Typography>\r\n\r\n                {facturaConDatos && <div>\r\n                    <Divider style={{ marginTop: 10 }} />\r\n                    <Typography style={{ textAlign: \"center\", width: \"100%\" }} variant=\"h6\">DATOS DE FACTURACIN</Typography>\r\n                    <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                        <Typography variant=\"body2\">{data.Documento_factura}:</Typography>\r\n                        <Typography variant=\"body2\" style={{ flex: 1, marginLeft: 10 }}>{data.identificacion_factura}</Typography>\r\n                    </div>\r\n                    <DatosFacturaItem title=\"Razon Social\" icon={BusinessOutlined} text={data.razonsocial_factura} />\r\n                    <DatosFacturaItem title=\"Telefono\" icon={PhoneOutlined} text={data.telefono_factura} />\r\n                    <DatosFacturaItem title=\"Direccin\" icon={LocationOnOutlined} text={data.direccion_factura} />\r\n                </div>}\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button variant=\"outlined\" color=\"secondary\" onClick={this.close}>SALIR</Button>\r\n            </DialogActions>\r\n        </Dialog>)\r\n    }\r\n}\r\n\r\nfunction RowDet(props) {\r\n    var neto = props.pvp * props.cantidad;\r\n    var iva = props.pagaIva ? ((neto * 12) / 100) : 0;\r\n    return (<div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\" }}>\r\n        <div style={{ flex: 1, marginRight: 10 }}>\r\n            <Typography color={props.color || \"default\"} variant=\"subtitle2\">{props.descripcion}</Typography>\r\n            <Typography color={props.color || \"default\"} variant=\"body1\">{props.nota}</Typography>\r\n        </div>\r\n        <Typography color={props.color || \"default\"} style={{ marginRight: 10, width: 60 }} variant=\"subtitle2\">{props.cantidad.round(4)}</Typography>\r\n        <Typography color={props.color || \"default\"} style={{ width: 70, textAlign: \"right\" }} variant=\"subtitle2\">$ {(neto + iva).round(2)}</Typography>\r\n    </div>)\r\n}\r\n\r\nfunction DatosFacturaItem(props) {\r\n    return (\r\n        <div style={{ display: \"flex\", flexDirection: \"row\" }} title={props.title}>\r\n            <props.icon />\r\n            <Typography style={{ padding: 3, flex: 1 }}>{props.text}</Typography>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nfunction FechaHoraStr(f) {\r\n    if (!f) return;\r\n    var fecha = new Date(f);\r\n    return fecha.toDateString() + \" \" + fecha.toLocaleTimeString();\r\n}","import React from \"react\";\r\nimport { Table, TableHead, TableRow, TableCell, TableBody, Checkbox, Typography } from \"@material-ui/core\";\r\nimport { Check } from \"@material-ui/icons\";\r\nimport OrderDetails from \"./OrderDetails\";\r\nimport { Route, withRouter } from \"react-router-dom\";\r\n\r\nexport default withRouter(class extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleClick = this.handleClick.bind(this);\r\n        if (props.onMounted) props.onMounted(null, props.estado);\r\n    }\r\n    handleClick(event) {\r\n        event.stopPropagation();\r\n\r\n        const { id } = event.currentTarget;\r\n        // agregar un MODAL\r\n        this.props.history.push(this.props.match.path + \"/\" + id);\r\n    }\r\n    render() {\r\n        const { data, onSelect, estado, now, timeCol } = this.props;\r\n        const rows = data.filter(x => x.estado === estado);\r\n        return (<Table component=\"div\" style={{ display: \"flex\", flexDirection: \"column\", height: \"calc(100% - 100px)\" }}>\r\n            <TableHead component=\"div\" style={{ display: \"block\" }}>\r\n                <TableRow component=\"div\" style={{ width: \"20%\" }}>\r\n                    <TableCell component=\"div\" style={{ textAlign: \"center\" }}>\r\n                        <Check />\r\n                    </TableCell>\r\n                    <TableCell component=\"div\" style={{ width: \"20%\" }}>\r\n                        <Typography variant=\"button\">#</Typography>\r\n                    </TableCell>\r\n                    <TableCell component=\"div\" style={{ width: \"60%\" }}>\r\n                        <Typography variant=\"button\">Cliente</Typography>\r\n                    </TableCell>\r\n                    <TableCell component=\"div\" style={{ width: \"20%\" }}>\r\n                        <Typography variant=\"button\">Hora</Typography>\r\n                    </TableCell>\r\n                </TableRow>\r\n            </TableHead>\r\n            <TableBody component=\"div\" style={{ flex: 1, overflow: \"auto\", display: \"block\" }}>\r\n                {rows.map(x => <Row\r\n                    onClick={this.handleClick}\r\n                    onCheck={onSelect}\r\n                    timeCol={timeCol}\r\n                    key={x.id}\r\n                    {...x}\r\n                    now={now}\r\n                />)}\r\n            </TableBody>\r\n            <Route component={OrderDetails} path={`${this.props.match.path}/:id`} />\r\n\r\n        </Table>);\r\n    }\r\n});\r\n\r\n\r\nclass Row extends React.PureComponent {\r\n    render() {\r\n        const { props } = this;\r\n        return (<TableRow\r\n            tabIndex={0}\r\n            style={{ width: \"100%\", cursor: \"pointer\" }}\r\n            onContextMenu={props.onContextMenu}\r\n            selected={props.selected}\r\n            hover\r\n            id={\"\" + props.id}\r\n            onClick={props.onClick}\r\n            component={\"div\"}\r\n        >\r\n            <TableCell component=\"div\" padding=\"checkbox\" style={{ width: \"20%\" }}>\r\n                {props.timeCol === \"deliveredAt\"\r\n                    ? <Check />\r\n                    : <Checkbox checked={props.selected || false}\r\n                        value={\"\" + props.id}\r\n                        onClick={props.onCheck} />\r\n                }\r\n            </TableCell>\r\n            <TableCell style={{ width: \"20%\" }} component=\"div\" scope=\"row\" >{props.numero}</TableCell>\r\n            <TableCell style={{ width: \"60%\" }} component=\"div\">{props.nombre}</TableCell>\r\n            <TableCell style={{ width: \"20%\" }} component=\"div\" title={new Date(props[props.timeCol]).toLocaleString()}>\r\n                {RenderTimeCol(new Date(props[props.timeCol]))}\r\n            </TableCell>\r\n        </TableRow >);\r\n    }\r\n}\r\nfunction RenderTimeCol(value) {\r\n    var day = DayOfYear(value);\r\n    var today = DayOfYear(new Date());\r\n    if (day === today)\r\n        return value.toLocaleTimeString();\r\n    if ((day + 1) === today)\r\n        return \"Ayer \" + value.toLocaleTimeString();\r\n    if (today > day && (today - day) < 6) {\r\n        return \"Hace \" + (today - day) + \" dias \" + value.toLocaleTimeString();\r\n    }\r\n    return value.toLocaleString();\r\n}\r\nfunction DayOfYear(date) {\r\n    var start = new Date(date.getFullYear(), 0, 0);\r\n    var diff = date - start;\r\n    var oneDay = 1000 * 60 * 60 * 24;\r\n    return Math.floor(diff / oneDay);\r\n}","import React from \"react\";\r\nimport { CircularProgress, Typography, Button, Tabs, Tab } from \"@material-ui/core\";\r\nimport { Error } from \"@material-ui/icons\";\r\nimport { withGoogleMap, GoogleMap, withScriptjs } from \"react-google-maps\";\r\nimport { MarkerWithLabel } from \"react-google-maps/lib/components/addons/MarkerWithLabel\";\r\nimport API from \"../../Services/API\";\r\nimport OrdersTable from \"./OrdersTable\";\r\nimport { Route, Link, Switch, Redirect } from \"react-router-dom\";\r\n\r\nexport default class extends React.Component {\r\n    state = {\r\n        now: new Date().valueOf(),\r\n        data: [],\r\n        loading: true,\r\n        goToCenter: null,\r\n        navigationValue: 0\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepID);\r\n        this.handleRightClick = this.handleRightClick.bind(this);\r\n        this.handleSelect = this.handleSelect.bind(this);\r\n        this.handleCurrentLocation = this.handleCurrentLocation.bind(this);\r\n        this.handleNavigation = this.handleNavigation.bind(this);\r\n        this.handleChangeState = this.handleChangeState.bind(this);\r\n        this.__updateRecords = this.__updateRecords.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        // por segundo hasta llegar al minuto\r\n        /*this.STOP_TIMER = setMinuteTimer(() => {\r\n            this.setState({ now: new Date().valueOf() })\r\n        });*/\r\n        API.GetOrders()\r\n            .then(data => {\r\n                this.setState({ data, loading: false });\r\n                this.REMOVE_LISTENER = API.ListenOnOrderChange(this.__updateRecords);\r\n            }).catch(error => this.setState({ error, loading: false }));\r\n    }\r\n    componentWillUnmount() {\r\n        this.STOP_TIMER && this.STOP_TIMER();\r\n        this.REMOVE_LISTENER && this.REMOVE_LISTENER();\r\n    }\r\n    handleRightClick(item) {\r\n\r\n    }\r\n    handleSelect(event) {\r\n        event.stopPropagation();\r\n        const { value, checked } = event.target;\r\n        this.setState(function (prev) {\r\n            const state = { ...prev };\r\n            state.data = prev.data;\r\n            const item = state.data.find(x => x.id === +value);\r\n            if (!item) return state;\r\n            item.selected = checked;\r\n            if (item.selected) {\r\n                state.goToCenter = { lat: +item.lat, lng: +item.lng };\r\n            }\r\n            return state;\r\n        });\r\n    }\r\n    handleCurrentLocation() {\r\n        this.setState({\r\n            goToCenter: this.props.store.position\r\n        });\r\n    }\r\n    handleNavigation(event, navigationValue) {\r\n        this.setState({ navigationValue });\r\n    }\r\n    handleChangeState() {\r\n        const { data, navigationValue } = this.state;\r\n        const selections = data.filter(x => x.selected && x.estado === navigationValue);\r\n        if (!selections.length) return alert(\"Seleccione al menos un registro\");\r\n        const IDS = selections.map(x => x.id);\r\n        this.setState({ loading: true });\r\n        if (navigationValue === 0) {\r\n            return API.OrdersOnRoute(IDS)\r\n                .then(this.__updateRecords)\r\n                .catch(error => this.setState({ error, loading: false }));\r\n        }\r\n        if (navigationValue === 1) {\r\n            return API.OrdersDelivered(IDS)\r\n                .then(this.__updateRecords)\r\n                .catch(error => this.setState({ error, loading: false }));\r\n        }\r\n        this.setState({ loading: false });\r\n        alert(\"No se encontro el navigationValue=\" + navigationValue);\r\n    }\r\n    __updateRecords(results, addIfNotExists) {\r\n        this.setState(prev => {\r\n            const state = { ...prev, loading: false };\r\n            state.data = prev.data;\r\n            results.forEach(res => {\r\n                const item = state.data.find(x => x.id === res.id);\r\n                if (item) {\r\n                    return state.data[state.data.indexOf(item)] = { ...item, selected: false, ...res };\r\n                }\r\n                if (!item && addIfNotExists) state.data.push(res);\r\n            });\r\n            return state;\r\n        });\r\n    }\r\n    render() {\r\n        const { now, loading, error, data, goToCenter, navigationValue } = this.state;\r\n\r\n        if (loading) {\r\n            return (<div style={{ width: \"100%\", textAlign: \"center\", margin: \"auto\", paddingTop: 100 }}>\r\n                <CircularProgress size={70} />\r\n                <Typography variant=\"h4\" >CARGANDO...</Typography>\r\n            </div>);\r\n        }\r\n        if (error) {\r\n            return (<div style={{ width: \"100%\", textAlign: \"center\", margin: \"auto\", paddingTop: 100 }}>\r\n                <Error size={70} />\r\n                <Typography variant=\"h4\">Ocurri un error</Typography>\r\n                <Typography variant=\"subtitle1\">{error.message}</Typography>\r\n                <Typography variant=\"body1\">{error.status} | {error.statusText} | {error.code}</Typography>\r\n            </div>)\r\n        }\r\n\r\n        const G_M_K = (this.props.store && this.props.store.G_M_K) || \"\";\r\n        const selections = data.filter(x => x.selected && x.estado === navigationValue);\r\n\r\n        return (<div style={{ display: \"flex\", flexDirection: \"row\", height: \"100%\" }}>\r\n            <div style={{ flex: 1, overflow: \"auto\", height: \"100%\" }}>\r\n                <Tabs textColor=\"primary\" indicatorColor=\"primary\" style={{ width: \"100%\" }} color=\"primary\" value={navigationValue} onChange={this.handleNavigation}>\r\n                    <Tab style={{ width: \"32%\" }} label=\"Pendientes\" component={Link} to={this.props.match.path + \"/0\"} />\r\n                    <Tab style={{ width: \"32%\" }} label=\"En Ruta\" component={Link} to={this.props.match.path + \"/1\"} />\r\n                    <Tab style={{ width: \"32%\" }} label=\"Entregado\" component={Link} to={this.props.match.path + \"/2\"} />\r\n                </Tabs>\r\n                <Switch>\r\n                    <Route path={this.props.match.path + \"/0\"} render={props =>\r\n                        (<OrdersTable\r\n                            onMounted={this.handleNavigation}\r\n                            {...props}\r\n                            data={data}\r\n                            timeCol={\"fecha\"}\r\n                            selections={selections}\r\n                            onSelect={this.handleSelect}\r\n                            now={now}\r\n                            estado={0}\r\n                        />)} />\r\n                    <Route path={this.props.match.path + \"/1\"} render={props =>\r\n                        (<OrdersTable\r\n                            onMounted={this.handleNavigation}\r\n                            {...props}\r\n                            data={data}\r\n                            timeCol={\"onRouteAt\"}\r\n                            selections={selections}\r\n                            onSelect={this.handleSelect}\r\n                            estado={1}\r\n                        />)} />\r\n                    <Route path={this.props.match.path + \"/2\"} render={props =>\r\n                        (<OrdersTable\r\n                            onMounted={this.handleNavigation}\r\n                            {...props}\r\n                            data={data}\r\n                            timeCol={\"deliveredAt\"}\r\n                            selections={selections}\r\n                            onSelect={this.handleSelect}\r\n                            estado={2}\r\n                        />)} />\r\n                    <Redirect path={this.props.match.path} to={this.props.match.path + \"/0\"} />\r\n                </Switch>\r\n                {navigationValue === 2\r\n                    ? null\r\n                    : (<div style={{ display: \"flex\", flexDirection: \"row\", paddingLeft: 10, paddingRight: 10 }}>\r\n                        <Button disabled={!selections.length} style={{ flex: 1 }} variant=\"outlined\" color=\"primary\" onClick={this.handleChangeState}>{submitText(navigationValue)}</Button>\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            style={{ marginLeft: 10 }}\r\n                            color=\"secondary\"\r\n                            disabled={!selections.length}\r\n                            target=\"_blank\"\r\n                            href={ruta(this.props.store.position, selections || [])}\r\n                            component=\"a\"\r\n                        >Ruta</Button>\r\n                    </div>)}\r\n            </div>\r\n            <div style={{ flex: 1, overflow: \"auto\", height: \"100%\", display: \"flex\", flexDirection: \"column\" }}>\r\n                <div style={{ flex: 1 }}>\r\n                    <Map\r\n                        googleMapURL={`https://maps.googleapis.com/maps/api/js?key=${G_M_K || \"\"}&v=3.exp&libraries=geometry,drawing,places`}\r\n                        containerElement={<div style={{ height: \"100%\" }} />}\r\n                        loadingElement={<div style={{ height: `100%` }} />}\r\n                        mapElement={<div style={{ height: `100%` }} />}\r\n                        selections={selections}\r\n                        store={this.props.store}\r\n                        center={goToCenter || this.props.store.position}\r\n                    >\r\n                    </Map>\r\n                </div>\r\n            </div>\r\n        </div>)\r\n    }\r\n}\r\n\r\nfunction ruta(currentLocation, locations) {\r\n    const rutas = [currentLocation];\r\n    for (let i = 0; i < locations.length; i++) {\r\n        rutas.push(locations[i]);\r\n    }\r\n    if (rutas.length === 1) return \"\";\r\n    return \"https://www.google.com/maps/dir/ \" +\r\n        rutas.map(x => [x.lat, x.lng].join(\",\")).join(\"/\");\r\n}\r\n\r\n/*function setMinuteTimer(Callback) {\r\n    var interval_mins;\r\n    var interval_secs;\r\n    interval_secs = setInterval(() => {\r\n        const secs = new Date().getSeconds();\r\n        if (secs === 0) {\r\n            clearInterval(interval_secs);\r\n            setMinutes();\r\n        }\r\n    }, 1000);\r\n    function setMinutes() {\r\n        interval_mins = setInterval(() => Callback()\r\n            , 1000 * 60);\r\n    }\r\n    return function stop() {\r\n        if (interval_secs !== undefined)\r\n            clearInterval(interval_secs);\r\n        if (interval_mins !== undefined)\r\n            clearInterval(interval_mins);\r\n    }\r\n}\r\n*/\r\nconst Map = withScriptjs(withGoogleMap(props => {\r\n    return (<GoogleMap\r\n        {...props}\r\n        defaultCenter={props.store.position}\r\n        defaultZoom={15}\r\n        options={{\r\n            disableDefaultUI: true,\r\n            zoomControl: true,\r\n            clickableIcons: false\r\n        }}\r\n    >\r\n        <MarkerWithLabel\r\n            labelAnchor={new window.google.maps.Point(0, 0)}\r\n            position={props.store.position}\r\n            options={{\r\n                icon: \"./store.png\"\r\n            }}\r\n            labelStyle={{ background: \"#fff\", border: \"1px solid #29b6f6\", padding: \"2px 10px\" }}\r\n        >\r\n            <Typography variant=\"body1\" color=\"inherit\">Tu Tienda</Typography>\r\n        </MarkerWithLabel>\r\n        {props.selections && props.selections.map(x => (<MarkerWithLabel\r\n            key={x.id}\r\n            labelAnchor={new window.google.maps.Point(0, 0)}\r\n            position={{ lat: +x.lat, lng: +x.lng }}\r\n            labelStyle={{ background: \"#fff\", border: \"1px solid grey\", padding: \"2px 10px\" }}\r\n\r\n        >\r\n            <Typography variant=\"button\">{x.nombre}</Typography>\r\n        </MarkerWithLabel>))}\r\n    </GoogleMap>)\r\n}));\r\n\r\nfunction submitText(step) {\r\n    if (step === 0) return \"ENVIAR\";\r\n    if (step === 1) return \"ENTREGADO\";\r\n    return step;\r\n}","import API from \"./API\";\r\n\r\nexport default class {\r\n    static ListenOrderChanges() {\r\n        return API.ListenOnOrderChange(([x]) => {\r\n            let N;\r\n            if (x.estado === 0)\r\n                N = new Notification(\"NUEVO PEDIDO\", {\r\n                    body: x.nombre + \" - Orden #\" + x.numero,\r\n                    icon: \"./favicon.ico\"\r\n                });\r\n            if (x.estado === 1)\r\n                N = new Notification(\"LA ORDEN #\" + x.numero + \" EST EN RUTA\", {\r\n                    body: x.nombre + \" - Orden #\" + x.numero,\r\n                    icon: \"./favicon.ico\"\r\n                });\r\n            if (x.estado === 2)\r\n                N = new Notification(\"LA ORDEN #\" + x.numero + \" FUE ENTREGADA\", {\r\n                    body: x.nombre + \" - Orden #\" + x.numero,\r\n                    icon: \"./favicon.ico\"\r\n                });\r\n            if (x.estado === 3) {\r\n                N = new Notification(\"LA ORDEN #\" + x.numero + \" FUE CANCELADA\", {\r\n                    body: x.nombre + \" - Orden #\" + x.numero,\r\n                    icon: \"./favicon.ico\"\r\n                });\r\n                N = null;\r\n            }\r\n            if (N) N.onclick = () => {\r\n                window.focus();\r\n                window.location.href = \"#/orders/\" + x.estado + \"/\" + x.id;\r\n            }\r\n        });\r\n\r\n    }\r\n}","import React from \"react\";\r\nimport {\r\n    Typography, IconButton,\r\n    Card, CardActionArea, CardMedia, CardContent, CardActions,\r\n    CircularProgress\r\n} from \"@material-ui/core\";\r\nimport {\r\n    Pause, PlayArrow, ArrowLeft, ArrowRight\r\n} from \"@material-ui/icons\";\r\n\r\nexport default function (props) {\r\n    const paused_color = props.paused ? \"secondary\" : \"primary\";\r\n    return (<Card\r\n        style={{ display: \"inline-block\", width: 200, margin: 10, height: 285 }}\r\n        id={\"ITEM-CONTAINER-\" + props.id}\r\n    >\r\n        <CardActionArea style={{ height: 220, overflow: \"hidden\" }} value={props.id} onClick={props.onItemClick}>\r\n            <CardMedia style={{ height: 140 }} image={props.imgSrc || \"https://diegopq95.github.io/img/default.png\"} title=\"Imagen\"></CardMedia>\r\n            <CardContent>\r\n                <Typography variant=\"subtitle2\">{props.nombre}</Typography>\r\n                <Typography variant=\"body1\" style={{ whiteSpace: \"pre-wrap\" }} >{props.descripcion}</Typography>\r\n            </CardContent>\r\n        </CardActionArea>\r\n        <CardActions style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n            <IconButton\r\n                onClick={props.onItemAction}\r\n                disabled={props.loading === \"pause\"}\r\n                name=\"pause\"\r\n                value={props.id}\r\n                color={paused_color}\r\n                title={props.paused ? \"No Disponible\" : \"Disponible\"}\r\n            >\r\n                {props.loading === \"pause\"\r\n                    ? <CircularProgress size={20} color={paused_color} />\r\n                    : (props.paused\r\n                        ? <Pause fontSize=\"small\" color=\"inherit\" />\r\n                        : <PlayArrow fontSize=\"small\" color=\"inherit\" />)\r\n                }\r\n            </IconButton>\r\n            <div style={{ flex: 1, textAlign: \"right\" }}>\r\n                {(props.loading === \"left\" || props.loading === \"right\")\r\n                    ? <CircularProgress size={20} style={{ marginRight: 40 }} />\r\n                    : (<React.Fragment>\r\n                        <IconButton onClick={props.onItemAction} value={props.id} name=\"left\" >\r\n                            <ArrowLeft />\r\n                        </IconButton>\r\n                        <IconButton onClick={props.onItemAction} value={props.id} name=\"right\" >\r\n                            <ArrowRight />\r\n                        </IconButton>\r\n                    </React.Fragment>)}\r\n            </div>\r\n        </CardActions>\r\n    </Card>)\r\n}","import React from \"react\";\r\nimport {\r\n    AppBar, Typography, Toolbar, IconButton,\r\n    Card, CardActionArea, CardContent,\r\n    Menu, MenuItem, CircularProgress\r\n} from \"@material-ui/core\";\r\nimport {\r\n    MoreVert, AddCircleOutline,\r\n    ArrowUpward, ArrowDownward\r\n} from \"@material-ui/icons\";\r\nimport Item from \"./Item\";\r\n\r\nexport default class extends React.PureComponent {\r\n    state = {\r\n        menuEl: null\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleMenu = this.handleMenu.bind(this);\r\n        this.handleMenuClose = this.handleMenuClose.bind(this);\r\n    }\r\n    handleMenu(event) {\r\n        this.setState({ menuEl: event.target });\r\n    }\r\n    handleMenuClose() {\r\n        this.setState({ menuEl: null });\r\n    }\r\n    render() {\r\n        const { nombre, items, id, loading, loading_action } = this.props;\r\n        console.info(\"Group \" + id + \" rendered\");\r\n        const { menuEl } = this.state;\r\n\r\n        return (<div style={{ width: \"calc(100% - 40px)\", padding: \"10px 20px\" }} id={\"GROUP-ROOT-\" + id}>\r\n            <AppBar position=\"relative\" color=\"default\">\r\n                <Toolbar>\r\n                    {loading_action\r\n                        ? <div style={{ marginRight: 10 }}>\r\n                            <CircularProgress size={20} />\r\n                        </div>\r\n                        : <div style={{ marginRight: 10 }}>\r\n                            <IconButton onClick={this.props.onGroupAction} name=\"up\" value={id}>\r\n                                <ArrowUpward fontSize=\"small\" />\r\n                            </IconButton>\r\n                            <IconButton onClick={this.props.onGroupAction} name=\"down\" value={id}>\r\n                                <ArrowDownward fontSize=\"small\" />\r\n                            </IconButton>\r\n                        </div>}\r\n                    <Typography variant=\"h6\" color=\"inherit\" style={{ flexGrow: 1 }}>\r\n                        {nombre} ({(items && items.length) || 0} items)\r\n                    </Typography>\r\n                    <IconButton disabled={loading} onClick={this.handleMenu}>\r\n                        {loading ? <CircularProgress size={20} color=\"inherit\" /> : <MoreVert />}\r\n                    </IconButton>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <div style={{ width: \"100%\", overflow: \"auto\", whiteSpace: \"nowrap\", scrollBehavior: \"smooth\" }} id={\"GROUP-CONTAINER-\" + id}>\r\n                <Card style={{ display: \"inline-block\", width: 200, margin: 10 }}>\r\n                    <CardActionArea style={{ height: 285, textAlign: \"center\" }} component=\"button\" value={\"NUEVO~\" + id} onClick={this.props.onItemClick} >\r\n                        <CardContent>\r\n                            <AddCircleOutline fontSize=\"large\" />\r\n                            <Typography variant=\"h6\">NUEVO</Typography>\r\n                        </CardContent>\r\n                    </CardActionArea>\r\n                </Card>\r\n\r\n                {items && items.sort((a, b) => a.orden - b.orden)\r\n                    .map(p => (<Item\r\n                        {...p}\r\n                        onItemClick={this.props.onItemClick}\r\n                        onItemAction={this.props.onItemAction}\r\n                        key={p.id}\r\n                    />))}\r\n            </div>\r\n            <Menu\r\n                anchorEl={menuEl}\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n                open={Boolean(menuEl)}\r\n                onClose={this.handleMenuClose}\r\n                onClick={this.handleMenuClose}\r\n            >\r\n                <MenuItem value={id} onClick={this.props.onGroupEdit}>Editar</MenuItem>\r\n                <MenuItem value={id} onClick={this.props.onGroupDelete}>Eliminar</MenuItem>\r\n            </Menu >\r\n        </div>)\r\n    }\r\n}","export function ReadImgAsUrl(files) {\r\n    return new Promise((resolve, reject) => {\r\n        var file = files && files[0];\r\n        if (!file) return reject({ message: \"Archivo no encontrado\" });\r\n        if (file.type.indexOf(\"image\") < 0)\r\n            return reject({ message: \"El archivo no es una imagen\" });\r\n        var bytes = file.size;\r\n        var mbs = (bytes * 9.5367431640625e-7).round(2);\r\n        if (mbs > 1) {\r\n            reject({ message: `Solo se pueden subir imagenes de hasta 1mb. Umagen actual (${mbs} MB)` })\r\n        }\r\n        if (files && files[0]) {\r\n            var reader = new FileReader();\r\n            reader.onload = function (e) {\r\n                resolve(e.target.result);\r\n            };\r\n            reader.onerror = reject;\r\n            reader.readAsDataURL(file);\r\n        }\r\n    });\r\n}","import React from \"react\";\r\nimport { Button, Typography, CircularProgress } from \"@material-ui/core\";\r\nimport { AddAPhoto } from \"@material-ui/icons\";\r\n\r\nexport default function (props) {\r\n    function onClick() {\r\n        var input = document.getElementById(\"img-src-input-hidden\");\r\n        input.click();\r\n    }\r\n    const IMG_STYLE = { maxHeight: props.height, maxWidth: \"100%\", cursor: \"pointer\" };\r\n    if (props.border) IMG_STYLE.border = \"1px dotted #949494\";\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <input type=\"file\" id=\"img-src-input-hidden\" onChange={props.onChange} hidden accept=\"image/*\" />\r\n            {props.loading\r\n                ? (<div style={{ height: props.height, maxWidth: \"100%\", margin: \"auto\", display: \"table\" }}>\r\n                    <div style={{ display: \"table-cell\", verticalAlign: \"middle\", height: \"100%\" }}>\r\n                        <CircularProgress color=\"primary\" size={100} />\r\n                    </div>\r\n                </div>)\r\n                : (props.src\r\n                    ? (<img\r\n                        onClick={onClick}\r\n                        title=\"Click para cambiar la foto. O arrastra tu imagen.\"\r\n                        src={props.src}\r\n                        alt={props.name}\r\n                        style={IMG_STYLE}\r\n                    />)\r\n                    : (<div style={{ height: props.height, maxWidth: \"100%\", margin: \"auto\", display: \"table\" }}>\r\n                        <Button\r\n                            variant={props.border ? \"outlined\" : \"text\"}\r\n                            type=\"button\"\r\n                            onClick={onClick}\r\n                            style={{ display: \"table-cell\", verticalAlign: \"middle\", height: \"100%\" }}\r\n                        >\r\n                            <AddAPhoto fontSize=\"large\" />\r\n                            <Typography variant=\"h6\">Agrega una foto</Typography>\r\n                        </Button>\r\n                    </div>))\r\n            }\r\n        </React.Fragment >);\r\n}","import React from \"react\";\r\nimport { TextField, InputAdornment, CircularProgress, Typography } from \"@material-ui/core\";\r\nimport { ReportProblem } from \"@material-ui/icons\";\r\n\r\nvar timeout;\r\nexport default function Input(props) {\r\n    function onChange(event) {\r\n        const { type, value } = event.currentTarget;\r\n        props.onChange(event);\r\n        var validated = true;\r\n        if (type === \"number\") {\r\n            validated = (value !== null && value !== undefined) &&\r\n                value.toString().length\r\n                && !isNaN(+value);\r\n        }\r\n        if (timeout) clearTimeout(timeout);\r\n        if (props.onUpdate && validated) {\r\n            timeout = setTimeout(() => {\r\n                props.onUpdate(props.name, type === \"number\" ? parseFloat(value) : value)\r\n            }, 1500);\r\n        }\r\n    }\r\n\r\n    var fb = props.feedback[props.name];\r\n    var error = fb && fb !== \"loading\";\r\n    var visible_props = {\r\n        InputProps: fb && (\r\n            fb === \"loading\"\r\n                ? {\r\n                    endAdornment: (<InputAdornment>\r\n                        <CircularProgress title=\"Guardando...\" color=\"primary\" size={20} />\r\n                    </InputAdornment>)\r\n                }\r\n                : {\r\n                    endAdornment: (<InputAdornment>\r\n                        <ReportProblem color=\"secondary\" />\r\n                    </InputAdornment>)\r\n                }\r\n        )\r\n    }\r\n    if (error) {\r\n        visible_props.helperText = <Typography variant=\"caption\" color=\"secondary\">{fb}</Typography>\r\n    }\r\n    return (\r\n        <TextField\r\n            type={props.type}\r\n            style={{ marginTop: 10, marginBottom: 10 }}\r\n            fullWidth\r\n            onChange={onChange}\r\n            value={props.value}\r\n            label={props.label}\r\n            name={props.name}\r\n            multiline={props.multiline}\r\n            inputProps={props.inputProps}\r\n            {...visible_props}\r\n            color={error ? \"secondary\" : \"primary\"}\r\n        />);\r\n}","import React from \"react\";\r\nimport {\r\n    Dialog, DialogContent, TextField, FormControlLabel, Switch,\r\n    Button, CircularProgress, Checkbox, Typography, InputAdornment,\r\n    DialogActions, withStyles\r\n} from \"@material-ui/core\";\r\nimport API from \"../../Services/API\";\r\nimport { ReadImgAsUrl } from \"../../Services/FileReader\";\r\nimport UploadImage from \"../UploadImage\";\r\n\r\nexport default withStyles({\r\n    paper: {\r\n        maxHeight: \"calc(100% - 20px)\"\r\n    }\r\n})(class extends React.PureComponent {\r\n    state = {\r\n        id: null,\r\n        idGrupo: null,\r\n        nombre: \"\",\r\n        descripcion: \"\",\r\n        pvp: \"\",\r\n        imgSrc: \"\",\r\n        pagaIva: false,\r\n        habilitado: true,\r\n\r\n        error: null,\r\n        loading: \"INITIAL\"\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleInput = this.handleInput.bind(this);\r\n        this.handleCheck = this.handleCheck.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.handleDelete = this.handleDelete.bind(this);\r\n\r\n        this.handlePhotoChange = this.handlePhotoChange.bind(this);\r\n        this.handlePhotoDrop = this.handlePhotoDrop.bind(this);\r\n        this.handlePhotoOver = this.handlePhotoOver.bind(this);\r\n\r\n        const { info } = this.props.match.params;\r\n        if (info.indexOf(\"~\") >= 0) {\r\n            var [id, idGrupo] = info.split(\"~\");\r\n            this.state.id = id;\r\n            this.state.idGrupo = +idGrupo;\r\n        } else {\r\n            this.state.id = info;\r\n        }\r\n        if (this.state.id === \"NUEVO\") this.state.loading = false;\r\n    }\r\n    componentWillMount() {\r\n        if (this.state.id === \"NUEVO\") return;\r\n        API.GetProduct(this.state.id).then(item => {\r\n            this.setState({ ...item, loading: false });\r\n        }).catch(error => this.setState({ error, loading: \"INITIAL-FAILED\" }));\r\n    }\r\n    handleInput(event) {\r\n        const { name, value } = event.currentTarget;\r\n        this.setState({ [name]: value });\r\n    }\r\n    handleCheck(event) {\r\n        const { name, checked } = event.currentTarget;\r\n        this.setState({\r\n            [name]: checked\r\n        });\r\n    }\r\n    handleClick() {\r\n        if (this.state.loading) return;\r\n        if (!(this.state.pvp && !isNaN(this.state.pvp))) return alert(\"Digite un Precio valido\");\r\n        if (!this.state.nombre) return alert(\"Agregue el nombre\");\r\n        if (!this.state.idGrupo) return alert(\"Seleccione un grupo\");\r\n        if (!this.state.imgSrc) {\r\n            var confirm = window.confirm(\"Este item no tiene una imagen, est seguro de continuar?\");\r\n            if (!confirm) return;\r\n        }\r\n\r\n        this.setState({ loading: true, error: null });\r\n        API.SaveProduct(this.state)\r\n            .then(x => {\r\n                try {\r\n                    this.setState({ loading: false, error: null });\r\n                    this.props.onClose({ ...this.state, ...x });\r\n                } catch (ex) { }\r\n            }).catch(error => this.setState({ error, loading: false }));\r\n    }\r\n    handleDelete() {\r\n        if (this.state.loading) return;\r\n        var confirmed = window.confirm(\"Esta seguro de eliminar este registro?\");\r\n        if (!confirmed) return;\r\n        this.setState({ loading: true, error: null });\r\n        API.DeleteProduct(this.state)\r\n            .then(x => {\r\n                this.props.onClose({\r\n                    id: this.state.id,\r\n                    delete: true\r\n                })\r\n            }).catch(error =>\r\n                this.setState({ error, loading: false })\r\n            );\r\n    }\r\n    handleClose(event) {\r\n        if (this.state.loading && event) return event.preventDefault();\r\n        this.props.onClose();\r\n    }\r\n    handlePhotoChange(event) {\r\n        ReadImgAsUrl(event.currentTarget.files)\r\n            .then(imgSrc => this.setState({ imgSrc }))\r\n            .catch(ex => alert(\"Ocurrio un problema al cargar tu imagen: \" + ex.message));\r\n    }\r\n\r\n    handlePhotoDrop(event) {\r\n        event.preventDefault();\r\n        ReadImgAsUrl(event.dataTransfer.files)\r\n            .then(imgSrc => this.setState({ imgSrc }))\r\n            .catch(ex => alert(\"Ocurrio un problema al cargar tu imagen: \" + ex.message));\r\n        var div = document.getElementById(\"product-dialog-container\");\r\n        div.classList.remove(\"with-drop-view\");\r\n    }\r\n    handlePhotoEnter(e) {\r\n        var div = document.getElementById(\"product-dialog-container\");\r\n        div.classList.add(\"with-drop-view\");\r\n        e.preventDefault();\r\n    }\r\n    handlePhotoLeave(e) {\r\n        e.preventDefault();\r\n    }\r\n    handlePhotoOver(e) {\r\n        e.dataTransfer.dropEffect = \"copy\";\r\n        e.preventDefault();\r\n        if (this.timeout !== undefined) clearTimeout(this.timeout);\r\n        this.timeout = setTimeout(() => {\r\n            var div = document.getElementById(\"product-dialog-container\");\r\n            div.classList.remove(\"with-drop-view\")\r\n        }, 200);\r\n        console.info(\"dragenter\");\r\n    }\r\n\r\n    render() {\r\n        const { state } = this;\r\n        console.info(\"product dialog rendered\");\r\n        let pvp = isNaN(this.state.pvp) ? 0 : +this.state.pvp;\r\n        const precioFinal = pvp\r\n            ? (pvp + (state.pagaIva\r\n                ? ((pvp * (this.props.porcentajeIVA || 12)) / 100)\r\n                : 0)).round(2)\r\n            : 0;\r\n\r\n        if (state.loading === \"INITIAL\")\r\n            return (<Dialog open={true}>\r\n                <DialogContent style={{ textAlign: \"center\", paddingTop: 150, width: 500, height: 300 }}>\r\n                    <CircularProgress size={70} />\r\n                    <Typography variant=\"h6\">CARGANDO...</Typography>\r\n                </DialogContent>\r\n            </Dialog>);\r\n\r\n        if (state.loading === \"INITIAL-FAILED\")\r\n            return (<Dialog onClose={event => this.handleClose()} open={true}>\r\n                <DialogContent style={{ textAlign: \"center\", paddingTop: 150, width: 500, height: 300 }}>\r\n                    <Typography color=\"secondary\" variant=\"h5\">Hubo un error al cargar la informacin</Typography>\r\n                    <Typography color=\"secondary\" variant=\"h6\">{state.error.message}</Typography>\r\n                    <Typography color=\"secondary\" variant=\"body1\">{state.error.code} {state.error.status}</Typography>\r\n                </DialogContent>\r\n            </Dialog>);\r\n\r\n\r\n        return (<Dialog\r\n            id=\"product-dialog-container\"\r\n            onDrop={this.handlePhotoDrop}\r\n            onDragOver={this.handlePhotoOver}\r\n            onDragEnter={this.handlePhotoEnter}\r\n            onDragLeave={this.handlePhotoLeave}\r\n            open={true}\r\n            onClose={this.handleClose}\r\n            classes={{\r\n                paper: this.props.classes.paper\r\n            }}\r\n        >\r\n            <DialogContent style={{ textAlign: \"center\", paddingTop: 0, paddingBottom: 0, overflowX: \"hidden\" }}>\r\n                <TextField\r\n                    autoFocus={true}\r\n                    value={state.nombre}\r\n                    name=\"nombre\"\r\n                    onChange={this.handleInput}\r\n                    label=\"Nombre\"\r\n                    variant=\"standard\"\r\n                    fullWidth\r\n                    style={style.textField}\r\n                />\r\n                <UploadImage\r\n                    onChange={this.handlePhotoChange}\r\n                    src={state.imgSrc}\r\n                    name={state.nombre}\r\n                    height={\"calc(100vh - 430px)\"}\r\n                />\r\n                <TextField\r\n                    value={(state.descripcion === undefined || state.descripcion === null)\r\n                        ? \"\"\r\n                        : state.descripcion}\r\n                    name=\"descripcion\"\r\n                    onChange={this.handleInput}\r\n                    inputProps={{\r\n                        rows: 3\r\n                    }}\r\n                    label=\"Descripcion\"\r\n                    variant=\"outlined\"\r\n                    multiline\r\n                    fullWidth\r\n                    style={style.textField}\r\n                />\r\n\r\n                <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                    <TextField\r\n                        value={state.pvp}\r\n                        name=\"pvp\"\r\n                        type=\"number\"\r\n                        label=\"Precio sin impuestos\"\r\n                        inputProps={{\r\n                            step: \"0.01\"\r\n                        }}\r\n                        onChange={this.handleInput}\r\n                        style={{ ...style.textField, flex: 1 }}\r\n                        InputProps={{\r\n                            endAdornment: <InputAdornment position=\"end\">\r\n                                <FormControlLabel\r\n                                    control={<Checkbox\r\n                                        color=\"primary\"\r\n                                        name=\"pagaIva\"\r\n                                        checked={state.pagaIva}\r\n                                        onChange={this.handleCheck}\r\n                                    />}\r\n                                    label=\"IVA\"\r\n                                />\r\n                            </InputAdornment>\r\n                        }}\r\n                    />\r\n                    <Typography variant=\"body2\" style={{ marginLeft: 15, paddingTop: 15, width: 130, paddingLeft: 5, paddingRight: 5 }}>\r\n                        PRECIO FINAL: ${precioFinal.toFixed(2)}\r\n                    </Typography>\r\n                </div>\r\n\r\n                <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                    <TextField\r\n                        style={{ ...style.textField, flex: 1 }}\r\n                        value={state.idGrupo || 1}\r\n                        onChange={this.handleInput}\r\n                        name=\"idGrupo\"\r\n                        label=\"Grupo\"\r\n                        select\r\n                        SelectProps={{ native: true }}\r\n                    >\r\n                        {this.props.grupos && this.props.grupos.map(g => <option key={g.id} value={g.id}>\r\n                            {g.nombre}\r\n                        </option>)}\r\n                    </TextField>\r\n\r\n                    <FormControlLabel\r\n                        style={{ marginLeft: 15, marginRight: 0, width: 130 }}\r\n                        label={state.habilitado ? \"Habilitado\" : \"Deshabilitado\"}\r\n                        control={<Switch\r\n                            checked={state.habilitado}\r\n                            onChange={this.handleCheck}\r\n                            name=\"habilitado\" />}\r\n                    />\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                {state.error && <Typography style={{ width: \"100%\" }} color=\"secondary\">{state.error.message}</Typography>}\r\n                <Button\r\n                    fullWidth\r\n                    style={{ ...style.textField, flex: 1 }}\r\n                    disabled={state.loading}\r\n                    variant=\"outlined\"\r\n                    type=\"button\"\r\n                    onClick={this.handleClick} color=\"primary\">\r\n                    {state.loading\r\n                        ? <CircularProgress size={30} color=\"primary\" />\r\n                        : \"GUARDAR\"}\r\n                </Button>\r\n\r\n                {(state.id !== \"NUEVO\" && (state.eliminable !== false))\r\n                    ? <Button disabled={state.loading} variant=\"outlined\" type=\"button\" onClick={this.handleDelete} color=\"secondary\">\r\n                        {state.loading\r\n                            ? <CircularProgress size={30} color=\"secondary\" />\r\n                            : \"ELIMINAR\"}\r\n                    </Button>\r\n                    : null}\r\n            </DialogActions>\r\n        </Dialog >)\r\n    }\r\n})\r\n\r\nconst style = {\r\n    textField: {\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    }\r\n}","import React from \"react\";\r\nimport { Dialog, DialogContent, CircularProgress, TextField, Button, Typography } from \"@material-ui/core\";\r\n\r\nexport default class extends React.PureComponent {\r\n    state = {\r\n        input: \"\",\r\n        inputLabel: \"\"\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleInput = this.handleInput.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n\r\n        this.state.input = props.value || \"\";\r\n        this.state.inputLabel = props.label || \"\";\r\n    }\r\n    handleInput(event) {\r\n        const { name, value } = event.currentTarget;\r\n        this.setState({ [name]: value });\r\n    }\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        if (this.state.loading) return;\r\n        if (!this.state.input) return this.setState({error : \"El texto no puede estar vaco.\"});\r\n            this.setState({ loading: true });\r\n        if (!this.props.onSubmit) return alert(\"You Must especify TextPrompt.onSubmit event\");\r\n        this.props.onSubmit(this.state.input, error => {\r\n            this.setState({ error, loading: false });\r\n        });\r\n    }\r\n    handleClose(event) {\r\n        if (this.state.loading) return event.preventDefault();\r\n        this.props.onSubmit(undefined, error => {\r\n            this.setState({ error, loading: false });\r\n        });\r\n    }\r\n    render() {\r\n        console.info(\"TextPrompt rendering\");\r\n        const { state } = this;\r\n\r\n        return (<Dialog maxWidth=\"lg\" open={true} onClose={this.handleClose} >\r\n            <DialogContent style={{ width: 300 }}>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <TextField\r\n                        value={state.input}\r\n                        name=\"input\"\r\n                        onChange={this.handleInput}\r\n                        label={state.inputLabel}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        style={style.textField}\r\n                        autoFocus={true}\r\n                    />\r\n                    {state.error && <Typography color=\"secondary\" variant=\"body2\">{state.error}</Typography>}\r\n                    <Button\r\n                        fullWidth\r\n                        variant=\"outlined\"\r\n                        disabled={state.loading}\r\n                        type=\"submit\"\r\n                        color=\"primary\">\r\n                        {state.loading\r\n                            ? <CircularProgress size={30} color=\"primary\" />\r\n                            : \"GUARDAR\"}\r\n                    </Button>\r\n                </form>\r\n            </DialogContent>\r\n        </Dialog>)\r\n    }\r\n}\r\n\r\nconst style = {\r\n    textField: {\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    }\r\n}","import React from \"react\";\r\nimport Group from \"./Group\";\r\nimport API from \"../../Services/API\";\r\nimport { Toolbar, AppBar, Typography, CardActionArea, CircularProgress } from \"@material-ui/core\";\r\nimport { AddCircleOutline } from \"@material-ui/icons\";\r\nimport { Route } from \"react-router-dom\";\r\nimport ProductDialog from \"./ProductDialog\";\r\nimport TextPrompt from \"../TextPrompt\";\r\n\r\nexport default class extends React.Component {\r\n    state = {\r\n        grupos: [],\r\n        loading: true,\r\n        // Habilita/deshabilita TextPrompt del grupo\r\n        currentGroup: null\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepID);\r\n\r\n        this.deleteGroup = this.deleteGroup.bind(this);\r\n        this.editGroup = this.editGroup.bind(this);\r\n        this.editGroupEnding = this.editGroupEnding.bind(this);\r\n        this.updateGrupo = this.updateGrupo.bind(this);\r\n        this.handleGroupAction = this.handleGroupAction.bind(this);\r\n\r\n        this.handleItemClick = this.handleItemClick.bind(this);\r\n        this.handleItemAction = this.handleItemAction.bind(this);\r\n        this.editItemEnd = this.editItemEnd.bind(this);\r\n        this.updateProduct = this.updateProduct.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        API.GetGroups().then(rawGroups => {\r\n            var grupos = rawGroups.sort((a, b) => a.orden - b.orden)\r\n                .map(x => {\r\n                    if (!x.items) x.items = [];\r\n                    x.items = x.items.sort((a, b) => a.orden - b.orden);\r\n                    return x;\r\n                });\r\n            this.setState({ grupos, loading: false });\r\n        }).catch(error => {\r\n            this.setState({ loading: false, error });\r\n        });\r\n    }\r\n\r\n    handleItemAction(event) {\r\n        const id = +event.currentTarget.value;\r\n        const action = event.currentTarget.name;\r\n        this.updateProduct(\"loading\", { id, loading: action });\r\n        API.RequestActionProduct({ id, action })\r\n            .then(items => {\r\n                for (let i = 0; i < items.length; i++) {\r\n                    const item = items[i];\r\n                    this.updateProduct(null, { ...item, loading: null });\r\n                }\r\n            }).catch(ex => {\r\n                alert(ex.message);\r\n                this.updateProduct(\"loading\", { id, loading: null });\r\n            });\r\n    }\r\n    handleItemClick(event) {\r\n        const id = event.currentTarget.value;\r\n        if (id.indexOf(\"NUEVO\") >= 0) {\r\n            this.updateProduct(\"loading\", { id: +id, loading: true })\r\n        }\r\n        this.props.history.push(this.props.match.path + \"/\" + id);\r\n    }\r\n    editItemEnd(product) {\r\n        if (product) {\r\n            this.updateProduct(null, product);\r\n        }\r\n        this.props.history.push(this.props.match.path);\r\n    }\r\n    updateProduct(prop_name, product) {\r\n        this.setState(prev => {\r\n            product.idGrupo = +product.idGrupo;\r\n            const state = { ...prev };\r\n            state.grupos = prev.grupos;\r\n            var grupo = state.grupos.find(x => x.items && x.items.find(i => i.id === product.id));\r\n            var grupo_a_actualizar;\r\n\r\n            if (product.delete) {\r\n                if (grupo) {\r\n                    let index = grupo.items.indexOf(\r\n                        grupo.items.find(x => x.id === product.id)\r\n                    );\r\n                    grupo.items.splice(index, 1);\r\n                    grupo.items = [...grupo.items].sort((a, b) => a.orden - b.orden);\r\n                }\r\n                return state;\r\n            }\r\n\r\n            if (grupo) {\r\n                let item = grupo.items.find(x => x.id === product.id);\r\n                let index = grupo.items.indexOf(item);\r\n                if (product.idGrupo && product.idGrupo !== grupo.id) {\r\n                    // CAMBIO DE GRUPO\r\n                    grupo.items.splice(index, 1);\r\n                    grupo.items = [...grupo.items].sort((a, b) => a.orden - b.orden);\r\n                    grupo_a_actualizar = state.grupos.find(x => x.id === product.idGrupo);\r\n                    if (grupo_a_actualizar) {\r\n                        grupo_a_actualizar.items.push(product);\r\n                        this.scrollGroupToItem(grupo_a_actualizar.id, product.id);\r\n                    }\r\n                } else {\r\n                    grupo_a_actualizar = grupo;\r\n                    if (prop_name) {\r\n                        item[prop_name] = product[prop_name];\r\n                    } else {\r\n                        var new_element = { ...item };\r\n                        for (const key in product) {\r\n                            if (product.hasOwnProperty(key)) {\r\n                                new_element[key] = product[key];\r\n                            }\r\n                        }\r\n                        grupo.items[index] = new_element;\r\n                    }\r\n                }\r\n            } else {\r\n                // ITEM NO EXISTE\r\n                grupo_a_actualizar = state.grupos.find(x => x.id === product.idGrupo);\r\n                if (grupo_a_actualizar) {\r\n                    grupo_a_actualizar.items.push(product);\r\n                    this.scrollGroupToItem(grupo_a_actualizar.id, product.id);\r\n                }\r\n            }\r\n            if (grupo_a_actualizar) {\r\n                grupo_a_actualizar.items = [...grupo_a_actualizar.items].sort((a, b) => a.orden - b.orden);\r\n            }\r\n            return state;\r\n        });\r\n    }\r\n\r\n    deleteGroup(event) {\r\n        const id = +event.currentTarget.value;\r\n        if (!id) return;\r\n        var confirmed = window.confirm(\"Esta seguro de borrar este registro?\");\r\n        if (!confirmed) return;\r\n        this.updateGrupo(\"loading\", { id, loading: true });\r\n        API.DeleteGroup({ id })\r\n            .then(x => {\r\n                this.setState(prev => {\r\n                    const state = { ...prev };\r\n                    state.grupos = prev.grupos;\r\n                    var exists = state.grupos.find(x => x.id === id);\r\n                    if (exists) state.grupos.splice(state.grupos.indexOf(exists), 1);\r\n                    return state.grupos;\r\n                });\r\n            }).catch(ex => {\r\n                alert(ex.message);\r\n                this.updateGrupo(\"loading\", { id, loading: false });\r\n            });\r\n    }\r\n    editGroup(event) {\r\n        const { value } = event.currentTarget;\r\n        if (value === \"NUEVO\")\r\n            return this.setState({ currentGroup: {} });\r\n        var group = this.state.grupos.find(x => x.id === (+value));\r\n        this.setState({\r\n            currentGroup: {\r\n                id: group.id,\r\n                value: group.nombre\r\n            }\r\n        });\r\n    }\r\n    handleGroupAction(event) {\r\n        const id = +event.currentTarget.value;\r\n        const action = event.currentTarget.name;\r\n        this.updateGrupo(\"loading_action\", { id, loading_action: true });\r\n\r\n        API.RequestActionGroup({ id, action })\r\n            .then(results => {\r\n                results.forEach(g => {\r\n                    this.updateGrupo(null, { ...g, loading_action: null });\r\n                });\r\n                this.scrollToGroupId(id);\r\n            }).catch(ex => {\r\n                this.updateGrupo(\"loading_action\", { id, loading_action: null });\r\n                alert(ex.message);\r\n            })\r\n    }\r\n    editGroupEnding(nombre, onError) {\r\n        if (!nombre) return this.setState({ currentGroup: null });\r\n        const grupo = this.state.currentGroup;\r\n        if (grupo.value === nombre) return this.setState({ currentGroup: null });\r\n\r\n        var exists = this.state.grupos.find(a =>\r\n            a.id !== grupo.id &&\r\n            a.nombre.toUpperCase() === nombre.toUpperCase()\r\n        );\r\n        if (exists) return onError(\"Este nombre ya existe\");\r\n        API.SaveGroup({ id: grupo.id, nombre })\r\n            .then(this.updateGrupo.bind(this, \"nombre\"))\r\n            .catch(err => onError(err.message));\r\n    }\r\n    scrollToGroupId(ID, then) {\r\n        setTimeout(() => {\r\n            window.requestAnimationFrame(() => {\r\n                var div = document.getElementById(\"product-div\");\r\n                var groupDIV = document.getElementById(\"GROUP-ROOT-\" + ID);\r\n                if (!groupDIV) return;\r\n                var scrollTop = groupDIV.offsetTop - 70;\r\n                div.scrollTop = scrollTop;\r\n                if (then) then();\r\n            })\r\n        });\r\n    }\r\n    scrollGroupToItem(idGrupo, idProducto) {\r\n        this.scrollToGroupId(idGrupo, () => {\r\n            setTimeout(() => {\r\n                window.requestAnimationFrame(() => {\r\n                    var div = document.getElementById(\"GROUP-CONTAINER-\" + idGrupo);\r\n                    var item = document.getElementById(\"ITEM-CONTAINER-\" + idProducto);\r\n                    if (!item) return;\r\n                    div.scrollLeft = item.offsetLeft;\r\n                });\r\n            }, 300);\r\n        })\r\n    }\r\n    updateGrupo(changed_prop, group) {\r\n        this.setState(prev => {\r\n            const state = { ...prev };\r\n            state.grupos = prev.grupos;\r\n            var exists = state.grupos.find(x => x.id === group.id);\r\n            if (exists) {\r\n                if (changed_prop) {\r\n                    var props = changed_prop.split(\",\");\r\n                    props.forEach(changed_prop => {\r\n                        exists[changed_prop] = group[changed_prop];\r\n                    });\r\n                } else {\r\n                    group.items = exists.items;\r\n                    state.grupos[state.grupos.indexOf(exists)] = { ...exists, ...group };\r\n                }\r\n            } else {\r\n                state.grupos.push(group);\r\n                this.scrollToGroupId(group.id);\r\n            }\r\n            state.currentGroup = null;\r\n            return state;\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        console.info(\"Product view rendered\");\r\n\r\n        const {\r\n            grupos, loading, error,\r\n            currentGroup\r\n        } = this.state;\r\n\r\n\r\n        if (loading) {\r\n            return (<div style={{ width: \"100%\", textAlign: \"center\", paddingTop: 100 }}>\r\n                <CircularProgress size={100} />\r\n                <Typography variant=\"h4\">CARGANDO...</Typography>\r\n            </div>)\r\n        }\r\n\r\n\r\n        if (error) {\r\n            return (<div style={{ textAlign: \"center\", paddingTop: 200 }}>\r\n                <Typography variant=\"subtitle1\"> Ocurrio un error</Typography>\r\n                <Typography variant=\"body1\">{error.message}</Typography>\r\n                <Typography variant=\"caption\">{error.code} {error.status}</Typography>\r\n            </div>)\r\n        }\r\n\r\n\r\n        return (<div style={{ height: \"100%\", overflow: \"auto\", scrollBehavior: \"smooth\" }} id=\"product-div\">\r\n\r\n            <div style={{ width: \"calc(100% - 40px)\", padding: 20 }} >\r\n                <AppBar position=\"relative\" color=\"default\">\r\n                    <CardActionArea onClick={this.editGroup} value=\"NUEVO\">\r\n                        <Toolbar>\r\n                            <AddCircleOutline style={{ marginRight: 10 }} />\r\n                            <Typography variant=\"h6\" color=\"inherit\" style={{ flexGrow: 1 }}>\r\n                                NUEVO GRUPO\r\n                        </Typography>\r\n                        </Toolbar>\r\n                    </CardActionArea>\r\n                </AppBar>\r\n            </div>\r\n\r\n\r\n            {grupos && grupos.length\r\n                ? grupos.sort((a, b) => a.orden - b.orden).map(x => (<Group\r\n                    onGroupAction={this.handleGroupAction}\r\n                    onGroupEdit={this.editGroup}\r\n                    onGroupDelete={this.deleteGroup}\r\n\r\n                    onItemAction={this.handleItemAction}\r\n                    onItemClick={this.handleItemClick}\r\n                    key={x.id}\r\n                    {...x}\r\n                />))\r\n                : null}\r\n\r\n            <Route path={this.props.match.path + \"/:info\"}\r\n                render={props => <ProductDialog\r\n                    porcentajeIVA={12}\r\n                    grupos={grupos.map(d => ({ id: d.id, nombre: d.nombre }))}\r\n                    onClose={this.editItemEnd}\r\n                    {...props}\r\n                />}\r\n            />\r\n\r\n            {currentGroup && <TextPrompt label=\"Nombre del Grupo\" {...currentGroup} onSubmit={this.editGroupEnding} />}\r\n\r\n        </div>);\r\n    }\r\n}","import React from \"react\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport API from \"../../Services/API\";\r\nimport UploadImage from \"../UploadImage\";\r\nimport { ReadImgAsUrl } from \"../../Services/FileReader\";\r\nimport UpdateableInput from \"./UpdateableInput\";\r\n\r\nexport default class extends React.PureComponent {\r\n    state = {\r\n        // {key : \"cargando\" | errMessage}\r\n        feedback: {}\r\n    }\r\n    // aqui almaceno los timeouts\r\n    timeouts = {}\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepID);\r\n        this.handleInput = this.handleInput.bind(this);\r\n        this.handleUpdateProp = this.handleUpdateProp.bind(this);\r\n        this.handleLogo = this.handleLogo.bind(this);\r\n        const { configuracion } = props;\r\n        if (configuracion) {\r\n            for (const key in configuracion) {\r\n                if (configuracion.hasOwnProperty(key)) {\r\n                    this.state[key] = configuracion[key];\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleInput(event) {\r\n        const { name, value } = event.currentTarget;\r\n        if (this.state.feedback[name] === \"loading\") return;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    handleUpdateProp(name, value, avoidCatch) {\r\n        if (this.state.feedback[name] === \"loading\") return;\r\n        this.setState(prev => {\r\n            const state = { ...prev };\r\n            state.feedback = { ...state.feedback, [name]: \"loading\" };\r\n            return state;\r\n        });\r\n        var promise = API.setConfigInfo({\r\n            [name]: value || this.state[name]\r\n        }).then(x =>\r\n            this.setState(prev => {\r\n                const state = { ...prev };\r\n                state.feedback = { ...state.feedback, [name]: \"loading\" };\r\n                delete state.feedback[name];\r\n                return state;\r\n            })\r\n        )\r\n        if (avoidCatch) return promise;\r\n        promise.catch(err =>\r\n            this.setState(prev => {\r\n                const state = { ...prev };\r\n                state.feedback = { ...state.feedback, [name]: err.message };\r\n                return state;\r\n            })\r\n        );\r\n    }\r\n    handleLogo(event) {\r\n        if (this.state.feedback.logoSrc === \"loading\") return;\r\n        ReadImgAsUrl(event.currentTarget.files)\r\n            .then(logoSrc => this.handleUpdateProp(\"logoSrc\", logoSrc, true)\r\n                .then(x => this.setState({ logoSrc }))\r\n            ).catch(ex => {\r\n                alert(\"Ocurrio un problema al cargar tu imagen: \" + ex.message);\r\n                this.setState(prev => {\r\n                    const state = { ...prev };\r\n                    state.feedback = { ...state.feedback };\r\n                    delete state.feedback.logoSrc;\r\n                    return state;\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const { titulo, slogan, logoSrc,\r\n            direccion, telefono,\r\n            whatsAppMessage, whatsAppPhone,\r\n            feedback } = this.state;\r\n        return (<div>\r\n            <Grid container>\r\n                <Grid item xs={6} style={{ padding: 10 }}>\r\n\r\n                    <UpdateableInput\r\n                        label=\"Nombre de la Tienda\"\r\n                        onUpdate={this.handleUpdateProp}\r\n                        value={titulo || \"\"}\r\n                        name={\"titulo\"}\r\n                        onChange={this.handleInput}\r\n                        feedback={feedback}\r\n                        inputProps={{ maxLength: 100 }}\r\n                    />\r\n                    <div style={{ textAlign: \"center\", padding: 10 }}>\r\n                        <UploadImage\r\n                            loading={feedback.logoSrc}\r\n                            onChange={this.handleLogo}\r\n                            src={logoSrc}\r\n                            border={true}\r\n                            name=\"Logo de la Tienda\"\r\n                            height=\"calc(100vh - 400px)\"\r\n                        />\r\n                    </div>\r\n\r\n                    <UpdateableInput\r\n                        label=\"Slogan de la Tienda\"\r\n                        onUpdate={this.handleUpdateProp}\r\n                        value={slogan || \"\"}\r\n                        name={\"slogan\"}\r\n                        onChange={this.handleInput}\r\n                        feedback={feedback}\r\n                        inputProps={{ maxLength: 100 }}\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={6} style={{ padding: 10 }}>\r\n\r\n                    <UpdateableInput\r\n                        label=\"Direccion de la Tienda\"\r\n                        onUpdate={this.handleUpdateProp}\r\n                        value={direccion || \"\"}\r\n                        name={\"direccion\"}\r\n                        onChange={this.handleInput}\r\n                        feedback={feedback}\r\n                        multiline={true}\r\n                        inputProps={{ rows: 2, maxLength: 300 }}\r\n\r\n                    />\r\n\r\n                    <UpdateableInput\r\n                        label=\"Telefono\"\r\n                        onUpdate={this.handleUpdateProp}\r\n                        value={telefono || \"\"}\r\n                        name={\"telefono\"}\r\n                        onChange={this.handleInput}\r\n                        feedback={feedback}\r\n                        type=\"phone\"\r\n                        inputProps={{ maxLength: 50 }}\r\n                    />\r\n\r\n                    <UpdateableInput\r\n                        label=\"Numero en Whatsapp\"\r\n                        onUpdate={this.handleUpdateProp}\r\n                        value={whatsAppPhone || \"\"}\r\n                        name={\"whatsAppPhone\"}\r\n                        onChange={this.handleInput}\r\n                        feedback={feedback}\r\n                        type=\"phone\"\r\n                        inputProps={{ maxLength: 20 }}\r\n                    />\r\n\r\n                    <UpdateableInput\r\n                        label=\"Escribe el mensaje de Whatsapp que quieres recibir cuando seas contactado\"\r\n                        onUpdate={this.handleUpdateProp}\r\n                        value={whatsAppMessage || \"\"}\r\n                        name={\"whatsAppMessage\"}\r\n                        onChange={this.handleInput}\r\n                        feedback={feedback}\r\n                        multiline={true}\r\n                        inputProps={{ rows: 3, maxLength: 300 }}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n        </div>)\r\n    }\r\n}","export default class {\r\n    static currentPosition() {\r\n        return new Promise((resolve, reject) => {\r\n            console.info(\"obteniendo posicion actual con navigator.geolocation.getCurrentPosition\");\r\n            if (!navigator.geolocation) {\r\n                console.info(\"navigator.geolocation.getCurrentPosition no existe en este navegador, intentando con PositionByIP()\");\r\n                return PositionByIP().then(resolve).catch(reject);\r\n            }\r\n            navigator.geolocation.getCurrentPosition(\r\n                geoLocation => resolve({\r\n                    lat: geoLocation.coords.latitude,\r\n                    lng: geoLocation.coords.longitude\r\n                }), () => {\r\n                    console.info(\"navigator.geolocation.getCurrentPosition fall, intentando con PositionByIP()\");\r\n                    PositionByIP().then(resolve).catch(reject);\r\n                }\r\n            );\r\n        });\r\n    }\r\n    static QUITO_BOUNDS = {\r\n        west: -78.85300,\r\n        north: -0.04875,\r\n        east: -78.17184,\r\n        south: -0.39207\r\n    }\r\n    static QUITO = {\r\n        lat: -0.189515,\r\n        lng: -78.488167\r\n    }\r\n}\r\n\r\nfunction PositionByIP() {\r\n    fetch(\"https://ipapi.co/json/\").then(x => x.json())\r\n        .then(info => ({ lat: info.latitude, lng: info.longitude }));\r\n}","import React from \"react\";\r\nimport { withScriptjs, GoogleMap, withGoogleMap, Polygon } from \"react-google-maps\";\r\nimport { MarkerWithLabel } from \"react-google-maps/lib/components/addons/MarkerWithLabel\";\r\nimport { Typography, Card, CardContent } from \"@material-ui/core\";\r\nimport DrawingManager from \"react-google-maps/lib/components/drawing/DrawingManager\";\r\n\r\nexport default function (props) {\r\n    const { API_KEY, ...mapProps } = props;\r\n    return (<Map\r\n        googleMapURL={`https://maps.googleapis.com/maps/api/js?key=${API_KEY || \"\"}&v=3.exp&libraries=geometry,drawing,places`}\r\n        containerElement={<div style={{ height: \"100%\" }} />}\r\n        loadingElement={<div style={{ height: `100%` }} />}\r\n        mapElement={<div style={{ height: `100%` }} />}\r\n        defaultZoom={15}\r\n        {...mapProps}\r\n    />)\r\n}\r\n\r\nconst Map = withScriptjs(withGoogleMap(props => {\r\n    const google = window.google;\r\n    const { marker, polygons, enableDrawingManager\r\n        , onPolygonComplete, onMapMounted, onPolygonClick, onPolygonMouseUp,\r\n        ...mapProps } = props;\r\n    return (<GoogleMap\r\n        {...mapProps}\r\n        options={{\r\n            disableDefaultUI: true,\r\n            zoomControl: true,\r\n            clickableIcons: false\r\n        }}\r\n        ref={onMapMounted}\r\n    >\r\n        {marker && <MarkerWithLabel\r\n            labelAnchor={new google.maps.Point(0, 0)}\r\n            position={marker.position}\r\n        >\r\n            <Card elevation={3} color=\"secondary\" style={{ margin: 5 }}>\r\n                <CardContent style={{ maxWidth: 200, padding: 5 }}>\r\n                    <Typography variant=\"button\">{marker.label}</Typography>\r\n                </CardContent>\r\n            </Card>\r\n        </MarkerWithLabel>}\r\n\r\n        {enableDrawingManager &&\r\n            <DrawingManager\r\n                onPolygonComplete={onPolygonComplete}\r\n                defaultDrawingMode={google.maps.drawing.OverlayType.POLYGON}\r\n                defaultOptions={{\r\n                    drawingControl: true,\r\n                    drawingControlOptions: {\r\n                        position: google.maps.ControlPosition.TOP_CENTER,\r\n                        drawingModes: [\"polygon\"]\r\n                    }\r\n                }}\r\n                polygonOptions={{\r\n                    strokeColor: '#007bff',\r\n                    strokeOpacity: 0.8,\r\n                    strokeWeight: 2,\r\n                    fillColor: '#007bff',\r\n                    fillOpacity: 0.35\r\n                }}\r\n            />}\r\n\r\n        {polygons && polygons.map((p, index) => (\r\n            <Polygon\r\n                key={index}\r\n                path={p.path}\r\n                editable={p.editable}\r\n                onClick={onPolygonClick}\r\n                onMouseUp={function (event) { onPolygonMouseUp && onPolygonMouseUp(this, event, index) }}\r\n                options={{\r\n                    strokeColor: '#007bff',\r\n                    strokeOpacity: 0.8,\r\n                    strokeWeight: 2,\r\n                    fillColor: '#007bff',\r\n                    fillOpacity: 0.35\r\n                }}\r\n            />\r\n        ))}\r\n    </GoogleMap >)\r\n}));","import React from \"react\";\r\nimport { Typography, CircularProgress, Tabs, Tab, FormControlLabel, Checkbox, Menu, MenuItem } from \"@material-ui/core\";\r\nimport Geo from \"../../Services/Geo\";\r\nimport Map from \"../Map\";\r\nimport UpdateableInput from \"./UpdateableInput\";\r\nimport API from \"../../Services/API\";\r\nimport { ReportProblem, Layers, LocationOn } from \"@material-ui/icons\";\r\n\r\nexport default class extends React.PureComponent {\r\n    state = {\r\n        position: null,\r\n        baseTransporte: 0,\r\n        kmBaseTransporte: 0,\r\n        recargoPorKm: 0,\r\n        google_maps_key: \"\",\r\n        cobrarTransporte: false,\r\n\r\n        coberturas: [],\r\n        // esto es el modo de edicion del mapa (0=UBICACION o 1=COBERTURA)\r\n        editMode: 0,\r\n        loading: true,\r\n        defaultCenter: null,\r\n        feedback: {}\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepID);\r\n        this.handleInput = this.handleInput.bind(this);\r\n        this.handleUpdateProp = this.handleUpdateProp.bind(this);\r\n        this.handleCheck = this.handleCheck.bind(this);\r\n\r\n        this.handleMapMounted = this.handleMapMounted.bind(this);\r\n        this.handleNewPolygon = this.handleNewPolygon.bind(this);\r\n        this.handlePolygonMouseUp = this.handlePolygonMouseUp.bind(this);\r\n        this.handleEditMode = this.handleEditMode.bind(this);\r\n        this.handleMapClick = this.handleMapClick.bind(this);\r\n\r\n\r\n        const { configuracion } = props;\r\n        if (configuracion) {\r\n            for (const k in this.state) {\r\n                if (configuracion.hasOwnProperty(k)) {\r\n                    this.state[k] = configuracion[k];\r\n                }\r\n            }\r\n        }\r\n        if (this.state.position) this.state.defaultCenter = this.state.position;\r\n        if (this.state.defaultCenter) {\r\n            this.state.loading = null;\r\n            this.state.editMode = 1;\r\n        }\r\n    }\r\n\r\n    handleUpdateProp(name, value, avoidCatch) {\r\n        if (this.state.feedback[name] === \"loading\") return;\r\n        this.updateFeedback(name, \"loading\");\r\n        var promise = API.setConfigInfo({\r\n            [name]: value === undefined ? this.state[name] : value\r\n        }).then(() => this.updateFeedback(name, null))\r\n        if (avoidCatch) return promise;\r\n        return promise.catch(err => this.updateFeedback(name, err.message));\r\n    }\r\n    updateFeedback(name, feedback) {\r\n        this.setState(prev => {\r\n            const state = { ...prev };\r\n            state.feedback = { ...state.feedback, [name]: feedback };\r\n            return state;\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        Geo.currentPosition()\r\n            .then(defaultCenter => this.setState({ defaultCenter, loading: null }))\r\n            .catch(error => this.setState({ error, loading: \"ERROR\" }));\r\n    }\r\n    handleInput(event) {\r\n        const { name, value } = event.currentTarget;\r\n        this.setState({ [name]: value });\r\n    }\r\n    handleCheck(event) {\r\n        event.preventDefault();\r\n        const { name, checked } = event.currentTarget;\r\n        var promise = this.handleUpdateProp(name, checked, true)\r\n        if (promise) promise.then(x => {\r\n            this.setState({ [name]: checked })\r\n        }).catch(ex => {\r\n            alert(ex.message);\r\n            this.updateFeedback(name, null);\r\n        });\r\n    }\r\n    handleNewPolygon(Polygon) {\r\n        var path = [];\r\n        var vertices = Polygon.getPath();\r\n        for (var i = 0; i < vertices.getLength(); i++) {\r\n            path.push(vertices.getAt(i).toJSON());\r\n        }\r\n        const coberturas = [...this.state.coberturas, { path }];\r\n        var promise = this.handleUpdateProp(\"coberturas\", coberturas, true);\r\n        if (promise) {\r\n            promise\r\n                .then(() => {\r\n                    this.setState({ coberturas });\r\n                    Polygon.setMap(null);\r\n                }).catch(ex => {\r\n                    this.updateFeedback(\"coberturas\", ex.message);\r\n                    Polygon.setMap(null);\r\n                });\r\n        }\r\n    }\r\n    handleMapClick(event) {\r\n        const position = event.latLng.toJSON();\r\n        if (this.state.editMode === 0) {\r\n            var promise = this.handleUpdateProp(\"position\", position, true);\r\n            if (promise) {\r\n                promise.then(() => this.setState({ position }))\r\n                    .catch(ex => this.updateFeedback(\"position\", ex.message));\r\n                this.setState({ position });\r\n            }\r\n        }\r\n    }\r\n    handlePolygonMouseUp(Polygon, event, index) {\r\n        // en caso de que se aplaste el mouse sobre el Poligono, pero\r\n        // sea para situar la Ubicacin. \r\n        if (this.state.editMode !== 1) return;\r\n        var path = [];\r\n        var vertices = Polygon.getPath();\r\n        for (var i = 0; i < vertices.getLength(); i++) {\r\n            path.push(vertices.getAt(i).toJSON());\r\n        }\r\n        const coberturas = JSON.parse(JSON.stringify(this.state.coberturas));\r\n        var has_changed = false;\r\n        var previous = coberturas[index];\r\n        // esto es solo de seguridad\r\n        if (previous) {\r\n            for (let i = 0; i < path.length; i++) {\r\n                const coord = path[i];\r\n                var prev_coord = previous.path[i];\r\n                if (!prev_coord) {\r\n                    has_changed = true;\r\n                    break;\r\n                }\r\n                var isDifferent = (prev_coord.lat !== coord.lat || prev_coord.lng !== coord.lng);\r\n                if (isDifferent) {\r\n                    has_changed = true;\r\n                    break;\r\n                }\r\n            }\r\n        } else {\r\n            has_changed = true;\r\n        }\r\n        if (!has_changed) return;\r\n        coberturas[index] = { path };\r\n        var promise = this.handleUpdateProp(\"coberturas\", coberturas, true);\r\n        if (promise) {\r\n            if (!this.LAST_COBERTURAS) {\r\n                this.LAST_COBERTURAS = JSON.parse(JSON.stringify(this.state.coberturas));\r\n            }\r\n            promise\r\n                .then(() => {\r\n                    //this.setState({ coberturas })\r\n                    this.LAST_COBERTURAS = coberturas;\r\n                }).catch(ex => {\r\n                    this.updateFeedback(\"coberturas\", ex.message);\r\n                    this.setState(\r\n                        { coberturas: [] }, () =>\r\n                        this.setState({ coberturas: this.LAST_COBERTURAS })\r\n                    )\r\n                });\r\n        }\r\n    }\r\n    handleMapMounted(map) {\r\n        this.mapRef = map;\r\n        this._fitBoundsToPolygon();\r\n    }\r\n    handleEditMode(_, value) {\r\n        this.setState({ editMode: value });\r\n    }\r\n    // pone el recangulo de visualizacion, en el lugar correcto\r\n    // para abarcar todo/s el/los poligono/s\r\n    _fitBoundsToPolygon() {\r\n        if (!this.mapRef) return;\r\n        if (!this.state.coberturas.length) return;\r\n        const google = window.google;\r\n        const bounds = new google.maps.LatLngBounds();\r\n        for (let i = 0; i < this.state.coberturas.length; i++) {\r\n            const c = this.state.coberturas[i];\r\n            c.path.forEach(coords => bounds.extend(coords));\r\n        }\r\n        var current_bounds = this.mapRef.getBounds();\r\n        if (current_bounds) bounds.union(current_bounds);\r\n        this.mapRef.fitBounds(bounds);\r\n    }\r\n\r\n    handleTabContext = (event) => {\r\n        event.preventDefault();\r\n        this.setState({ tabContextEl: event.currentTarget });\r\n    }\r\n    handleTabContextClose = () => {\r\n        this.setState({ tabContextEl: null });\r\n    }\r\n    handleDeleteAllCoberturas = () => {\r\n        this.handleUpdateProp(\"coberturas\", [], true)\r\n            .then(() => {\r\n                this.setState({ coberturas: [] })\r\n            }).catch(err => this.updateFeedback(\"coberturas\", err.message));\r\n        this.setState({ tabContextEl: null });\r\n    }\r\n\r\n    render() {\r\n        const { loading, error, editMode,\r\n            baseTransporte, kmBaseTransporte, recargoPorKm, feedback, cobrarTransporte,\r\n            defaultCenter, position, google_maps_key,\r\n            coberturas, tabContextEl\r\n        } = this.state;\r\n        var hay_coberturas = coberturas && coberturas.length;\r\n\r\n        var MAP_OPTIONS = {\r\n            defaultCenter: defaultCenter,\r\n            API_KEY: google_maps_key,\r\n            enableDrawingManager: !hay_coberturas && editMode === 1\r\n        }\r\n        if (position) MAP_OPTIONS.marker = {\r\n            position: position,\r\n            label: \"Tu Tienda\"\r\n        };\r\n        if (coberturas && coberturas.length)\r\n            MAP_OPTIONS.polygons = coberturas.map(x => ({ ...x, editable: editMode === 1 }));\r\n\r\n        if (loading === \"ERROR\")\r\n            return (<div style={{ width: \"100%\", paddingTop: 100, textAlign: \"center\" }}>\r\n                <CircularProgress size={100} />\r\n                <Typography variant=\"h4\">Ocurri un error</Typography>\r\n                <Typography variant=\"subtitle1\">{error.message}</Typography>\r\n                <Typography variant=\"body1\">{error.code} {error.status}</Typography>\r\n            </div>);\r\n\r\n        if (loading)\r\n            return (<div style={{ width: \"100%\", paddingTop: 100, textAlign: \"center\" }}>\r\n                <CircularProgress size={100} />\r\n                <Typography variant=\"h4\">CARGANDO EL MAPA...</Typography>\r\n            </div>);\r\n\r\n        return (<div style={{ display: \"flex\", flexDirection: \"row\", height: \"calc(100% - 100px)\" }}>\r\n\r\n            <Menu anchorEl={tabContextEl}\r\n                anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n                transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n                open={Boolean(tabContextEl)}\r\n                onClose={this.handleTabContextClose}\r\n            >\r\n                <MenuItem onClick={this.handleDeleteAllCoberturas}>Borrar areas</MenuItem>\r\n            </Menu>\r\n\r\n            <div style={{ flex: 1, padding: 10 }}>\r\n                <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                    <Typography style={{ marginLeft: 10, flex: 1, paddingTop: 5 }} variant=\"h6\">Ubicacin de la Tienda</Typography>\r\n                    <Tabs onChange={this.handleEditMode} value={editMode}>\r\n                        <Tab\r\n                            title={feedback[\"position\"]}\r\n                            label={(position ? \"Cambiar\" : \"Agregar\") + \" Ubicacin\"}\r\n                            icon={(\r\n                                feedback[\"position\"] && (feedback[\"position\"] === \"loading\"\r\n                                    ? < CircularProgress size={20} color=\"primary\" />\r\n                                    : <ReportProblem color=\"secondary\" />)\r\n                            ) || <LocationOn />}\r\n                        />\r\n                        <Tab\r\n                            title={feedback[\"coberturas\"]}\r\n                            label={(hay_coberturas ? \"Cambiar\" : \"Agregar\") + \" Cobertura\"}\r\n                            icon={(\r\n                                feedback[\"coberturas\"] && (feedback[\"coberturas\"] === \"loading\"\r\n                                    ? < CircularProgress size={20} color=\"primary\" />\r\n                                    : <ReportProblem color=\"secondary\" />)\r\n                            ) || <Layers />}\r\n                            disabled={!position}\r\n                            onContextMenu={this.handleTabContext}\r\n                        />\r\n                    </Tabs>\r\n                </div>\r\n\r\n                {defaultCenter && <Map\r\n                    onMapMounted={this.handleMapMounted}\r\n                    onClick={this.handleMapClick}\r\n                    defaultZoom={12}\r\n                    onPolygonComplete={this.handleNewPolygon}\r\n                    onPolygonClick={this.handleMapClick}\r\n                    onPolygonMouseUp={this.handlePolygonMouseUp}\r\n                    {...MAP_OPTIONS}\r\n                />}\r\n            </div>\r\n\r\n            <div style={{ width: 300, padding: 10, textAlign: \"center\" }}>\r\n                <Typography style={{ margin: 10 }} variant=\"h6\">Tarifa de Transporte</Typography>\r\n\r\n                <FormControlLabel\r\n                    label=\"Cobrar Servicio de Transporte\"\r\n                    control={feedback[\"cobrarTransporte\"]\r\n                        ? <CircularProgress size={20} color=\"primary\" style={{ margin: 12 }} />\r\n                        : <Checkbox checked={cobrarTransporte} onChange={this.handleCheck} name=\"cobrarTransporte\" />}\r\n                />\r\n                {cobrarTransporte && (<React.Fragment>\r\n                    <UpdateableInput\r\n                        value={baseTransporte}\r\n                        onChange={this.handleInput}\r\n                        onUpdate={this.handleUpdateProp}\r\n                        label=\"Tarifa base\"\r\n                        name=\"baseTransporte\"\r\n                        type=\"number\"\r\n                        feedback={feedback}\r\n                        inputProps={{\r\n                            step: \"0.01\"\r\n                        }}\r\n                    />\r\n                    <UpdateableInput\r\n                        value={kmBaseTransporte}\r\n                        onChange={this.handleInput}\r\n                        onUpdate={this.handleUpdateProp}\r\n                        label=\"Kms que cubre la tarifa base\"\r\n                        name=\"kmBaseTransporte\"\r\n                        type=\"number\"\r\n                        feedback={feedback}\r\n                        inputProps={{\r\n                            step: \"0.01\"\r\n                        }}\r\n                    />\r\n                    <UpdateableInput\r\n                        value={recargoPorKm}\r\n                        onChange={this.handleInput}\r\n                        onUpdate={this.handleUpdateProp}\r\n                        label=\"Recargo por km adicional\"\r\n                        name=\"recargoPorKm\"\r\n                        type=\"number\"\r\n                        feedback={feedback}\r\n                        inputProps={{\r\n                            step: \"0.01\"\r\n                        }}\r\n                    />\r\n                </React.Fragment>)}\r\n\r\n            </div>\r\n        </div>)\r\n    }\r\n}","import React from \"react\";\r\nimport {\r\n    Dialog, DialogContent,\r\n    Select, FormControlLabel,\r\n    Checkbox, DialogActions, Button,\r\n    Typography,\r\n    DialogTitle\r\n} from \"@material-ui/core\";\r\n\r\nexport default class extends React.PureComponent {\r\n    state = {\r\n        dias: [],\r\n        desde: [0, 0],\r\n        hasta: [0, 0]\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleDays = this.handleDays.bind(this);\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        if (props.data && props.data !== \"NUEVO\") {\r\n            this.state = { ...props.data };\r\n        }\r\n    }\r\n    handleChange(event) {\r\n        const { value, name } = event.currentTarget;\r\n        if (name.indexOf(\".\") >= 0) {\r\n            var parts = name.split(\".\");\r\n            this.setState(prev => {\r\n                const state = JSON.parse(JSON.stringify(prev));\r\n                state[parts[0]][parts[1]] = value;\r\n                return state;\r\n            });\r\n        } else {\r\n            this.setState({ [name]: value });\r\n        }\r\n    }\r\n    handleDays(event) {\r\n        const { value } = event.currentTarget;\r\n        this.setState(prev => {\r\n            const state = JSON.parse(JSON.stringify(prev));\r\n            state.dias = [...state.dias];\r\n            var INDEX = state.dias.indexOf(+value);\r\n            if (INDEX >= 0) {\r\n                state.dias.splice(INDEX, 1);\r\n            } else {\r\n                state.dias.push(+value);\r\n            }\r\n            return state;\r\n        });\r\n    }\r\n    handleClick() {\r\n        const { loading, dias, desde, hasta } = this.state;\r\n        if (loading) return;\r\n        if (!dias.length) return alert(\"Selecciona al menos un dia\");\r\n        if (desde[0] === hasta[0] && desde[1] === hasta[1]) return alert(\"Las horas de inicio y fin no pueden ser iguales\");\r\n        this.setState({ loading: true });\r\n        this.props.guardar(this.state)\r\n            .catch(ex => {\r\n                alert(ex.message);\r\n                this.setState({ loading: false });\r\n            });\r\n    }\r\n    handleClose() {\r\n        if (this.state.loading) return;\r\n        this.props.onClose && this.props.onClose();\r\n    }\r\n    render() {\r\n        const { desde, hasta, dias, loading } = this.state;\r\n        return (<Dialog open={true} onClose={this.handleClose} maxWidth=\"lg\">\r\n            <DialogTitle>HORARIO</DialogTitle>\r\n            <DialogContent>\r\n                <div style={{ display: \"table\" }}>\r\n                    <div style={{ display: \"table-cell\", width: 150 }}>\r\n                        <Typography variant=\"subtitle1\">INICIO</Typography>\r\n                        <div>\r\n                            <TimeSelect label=\"Horas\" length={23} name=\"desde.0\" value={desde[0]} onChange={this.handleChange} />\r\n                            <Typography style={{ display: \"inline\", width: \"auto\", marginLeft: 5, marginRight: 5 }} variant=\"subtitle1\" >:</Typography>\r\n                            <TimeSelect label=\"Minutos\" items={[0, 15, 30, 45]} name=\"desde.1\" value={desde[1]} onChange={this.handleChange} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ display: \"table-cell\", width: 150 }}>\r\n                        <Typography variant=\"subtitle1\">FIN</Typography>\r\n                        <div>\r\n                            <TimeSelect label=\"Horas\" length={23} name=\"hasta.0\" value={hasta[0]} onChange={this.handleChange} />\r\n                            <Typography style={{ display: \"inline\", width: \"auto\", marginLeft: 5, marginRight: 5 }} variant=\"subtitle1\" >:</Typography>\r\n                            <TimeSelect label=\"Minutos\" items={[0, 15, 30, 45]} name=\"hasta.1\" value={hasta[1]} onChange={this.handleChange} />\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ display: \"table-cell\" }}>\r\n                        <Typography variant=\"subtitle1\">SELECCIONA LOS DIAS</Typography>\r\n                        <DaysSelect value={dias} onChange={this.handleDays} />\r\n                    </div>\r\n                </div>\r\n                <DialogActions >\r\n                    <Button disabled={loading} style={{ flex: 1 }} color=\"primary\" variant=\"outlined\" onClick={this.handleClick}>\r\n                        GUARDAR\r\n                        </Button>\r\n                </DialogActions>\r\n            </DialogContent>\r\n        </Dialog>)\r\n    }\r\n}\r\nfunction TimeSelect(props) {\r\n    const { length, items, ...selectProps } = props;\r\n    var options = [];\r\n    if (items) {\r\n        options = items.map(i => ({\r\n            value: i,\r\n            label: i.toString().length === 1 ? `0${i}` : i\r\n        }))\r\n    } else {\r\n        for (let i = 0; i <= length; i++) {\r\n            options.push({\r\n                value: i,\r\n                label: i.toString().length === 1 ? `0${i}` : i\r\n            });\r\n        }\r\n    }\r\n    return (<Select native={true} {...selectProps}>\r\n        {options.map(o => <option key={o.value} value={o.value}>{o.label}</option>)}\r\n    </Select>);\r\n}\r\nfunction DaysSelect(props) {\r\n    const value = props.value || [];\r\n    return (<div style={props.style}>\r\n        <FormControlLabel\r\n            label=\"Lun\"\r\n            control={<Checkbox value={\"1\"} checked={value.indexOf(1) >= 0} onChange={props.onChange} />}\r\n        />\r\n        <FormControlLabel\r\n            label=\"Mar\"\r\n            control={<Checkbox value={\"2\"} checked={value.indexOf(2) >= 0} onChange={props.onChange} />}\r\n        />\r\n        <FormControlLabel\r\n            label=\"Mie\"\r\n            control={<Checkbox value={\"3\"} checked={value.indexOf(3) >= 0} onChange={props.onChange} />}\r\n        />\r\n        <FormControlLabel\r\n            label=\"Jue\"\r\n            control={<Checkbox value={\"4\"} checked={value.indexOf(4) >= 0} onChange={props.onChange} />}\r\n        />\r\n        <FormControlLabel\r\n            label=\"Vie\"\r\n            control={<Checkbox value={\"5\"} checked={value.indexOf(5) >= 0} onChange={props.onChange} />}\r\n        />\r\n        <FormControlLabel\r\n            label=\"Sab\"\r\n            control={<Checkbox value={\"6\"} checked={value.indexOf(6) >= 0} onChange={props.onChange} />}\r\n        />\r\n        <FormControlLabel\r\n            label=\"Dom\"\r\n            control={<Checkbox value={\"0\"} checked={value.indexOf(0) >= 0} onChange={props.onChange} />}\r\n        />\r\n    </div>)\r\n}","import React from \"react\";\r\nimport { Table, TableHead, TableRow, TableCell, TableBody, IconButton, CircularProgress } from \"@material-ui/core\";\r\nimport { Delete, Edit, Add } from \"@material-ui/icons\";\r\nimport API from \"../../Services/API\";\r\nimport HorarioDialog from \"./HorarioDialog\";\r\n\r\nexport default class extends React.PureComponent {\r\n    state = {\r\n        horarios: [],\r\n        selected: null\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.configuracion && props.configuracion.horarios) {\r\n            this.state.horarios = [...props.configuracion.horarios];\r\n        }\r\n        this.handleDelete = this.handleDelete.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleEdit = this.handleEdit.bind(this);\r\n        this.guardar = this.guardar.bind(this);\r\n    }\r\n    handleDelete(event) {\r\n        const index = event.currentTarget.value;\r\n        if (this.state.horarios.length <= 1) return alert(\"No se puede borrar: Debe existir al menos un horario\");\r\n        var item = this.state.horarios[+index];\r\n        if (!item) return;\r\n        if (item.loading) return;\r\n        this.setState(prev => {\r\n            const state = { ...prev };\r\n            state.horarios = [...state.horarios];\r\n            state.horarios[index].loading = true;\r\n            return state;\r\n        })\r\n        const horarios = [...this.state.horarios];\r\n        horarios.splice(index, 1);\r\n        API.setConfigInfo({ horarios })\r\n            .then(() => {\r\n                this.setState({ horarios });\r\n            }).catch(ex => {\r\n                alert(\"Ocurrio un error: \" + ex.message);\r\n                this.setState(prev => {\r\n                    const state = { ...prev };\r\n                    state.horarios = [...state.horarios];\r\n                    state.horarios[index].loading = false;\r\n                    return state;\r\n                });\r\n            });\r\n    }\r\n    guardar(horario) {\r\n        const horarios = JSON.parse(JSON.stringify(this.state.horarios));\r\n        var exists;\r\n        if (horario.id) exists = horarios.find(x => x.id === horario.id);\r\n        if (exists) {\r\n            horarios[horarios.indexOf(exists)] = horario;\r\n        } else {\r\n            horarios.push(horario);\r\n        }\r\n        return API.setConfigInfo({ horarios })\r\n            .then(x => {\r\n                this.setState({ horarios, selected: null });\r\n            });\r\n    }\r\n    handleEdit(event) {\r\n        const index = event.currentTarget.value;\r\n        if (index === \"NUEVO\") return this.setState({ selected: \"NUEVO\" });\r\n        this.setState(prev => {\r\n            const state = { ...prev };\r\n            state.horarios = [...state.horarios];\r\n            var item = state.horarios[+index];\r\n            if (!item) return state;\r\n            state.selected = item;\r\n            return state;\r\n        });\r\n    }\r\n    handleClose() {\r\n        this.setState({ selected: null });\r\n    }\r\n    render() {\r\n        const { horarios, selected } = this.state;\r\n        return (<div>\r\n            {selected && <HorarioDialog data={selected} onClose={this.handleClose} guardar={this.guardar} />}\r\n            <Table>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell style={{ width: 40 }}>\r\n                        </TableCell>\r\n                        <TableCell component=\"th\">HORA</TableCell>\r\n                        <TableCell component=\"th\">DIAS</TableCell>\r\n                        <TableCell component=\"th\" style={{ width: 40 }}>\r\n                            <IconButton onClick={this.handleEdit} value=\"NUEVO\" >\r\n                                <Add color=\"primary\" />\r\n                            </IconButton>\r\n                        </TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {horarios && horarios.map((item, index) =>\r\n                        (<TableRow key={index}>\r\n                            <TableCell scope=\"row\" component=\"th\">\r\n                                <IconButton disabled={item.loading} value={index} onClick={this.handleDelete}>\r\n                                    {item.loading ? <CircularProgress size={20} color=\"secondary\" /> : <Delete />}\r\n                                </IconButton>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                {TimeToString(item.desde, item.tz) + \" - \" + TimeToString(item.hasta, item.tz)}\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                {item.dias.map(ToDayString).join(\", \")}\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <IconButton disabled={item.loading} value={index} onClick={this.handleEdit}>\r\n                                    <Edit />\r\n                                </IconButton>\r\n                            </TableCell>\r\n                        </TableRow>)\r\n                    )}\r\n                </TableBody>\r\n            </Table>\r\n        </div>)\r\n    }\r\n}\r\n\r\n\r\nfunction ToDayString(d) {\r\n    if (d === 1) return \"Lun\";\r\n    if (d === 2) return \"Mar\";\r\n    if (d === 3) return \"Mie\";\r\n    if (d === 4) return \"Jue\";\r\n    if (d === 5) return \"Vie\";\r\n    if (d === 6) return \"Sab\";\r\n    if (d === 0) return \"Dom\";\r\n    return \"UNDEFINED\";\r\n}\r\nfunction TimeToString(minHour, tz) {\r\n    const [hour, min] = minHour;\r\n    return (\r\n        (hour.toString().length === 1 ? \"0\" : \" \") + hour\r\n    ) + \":\" + (\r\n            (min.toString().length === 1 ? \"0\" : \" \") + min\r\n        )\r\n}","import React from \"react\";\r\nimport { Tabs, Tab, CircularProgress, Typography } from \"@material-ui/core\";\r\nimport Informacion from \"./Informacion\";\r\nimport Cobertura from \"./Cobertura\";\r\nimport Horarios from \"./Horarios\";\r\nimport API from \"../../Services/API\";\r\n\r\nexport default class extends React.PureComponent {\r\n    state = {\r\n        // toda la configuracion\r\n        currentTab: 0,\r\n        defaultConfiguracion: null,\r\n        loading: true,\r\n        error: null,\r\n        // aqui almaceno los Tabs que ya se han cargado.para no cargar todo de golpe!\r\n        LoadedTabs: {}\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepID);\r\n        this.handleTabChange = this.handleTabChange.bind(this);\r\n    }\r\n    componentWillMount() {\r\n        API.GetConfigInfo()\r\n            .then(configuracion => {\r\n                this.setState(prev => {\r\n                    const state = { ...prev };\r\n                    state.configuracion = configuracion;\r\n                    state.loading = null;\r\n                    state.LoadedTabs[state.currentTab] = true;\r\n                    return state;\r\n                });\r\n            }).catch(error => this.setState({ error, loading: null }));\r\n    }\r\n    handleTabChange(_, currentTab) {\r\n        this.setState(prev => {\r\n            const state = { ...prev };\r\n            state.LoadedTabs[currentTab] = true;\r\n            state.currentTab = currentTab;\r\n            return state;\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { currentTab, LoadedTabs, error, loading, configuracion } = this.state;\r\n        if (loading)\r\n            return (<div style={{ width: \"100%\", textAlign: \"center\", paddingTop: 100 }}>\r\n                <CircularProgress size={100} />\r\n                <Typography variant=\"h4\" >CARGANDO...</Typography>\r\n            </div>);\r\n\r\n        if (error)\r\n            return (<div style={{ width: \"100%\", textAlign: \"center\", paddingTop: 200 }}>\r\n                <Typography variant=\"h6\" >Ocurri un error al cargar tu configuracin</Typography>\r\n                <Typography variant=\"subtitle1\">{error.message}</Typography>\r\n                <Typography variant=\"body1\" >{error.code} {error.status}</Typography>\r\n            </div>);\r\n\r\n        return (<div style={{ display: \"flex\", flexDirection: \"column\", height: \"100%\" }}>\r\n            <Tabs variant=\"fullWidth\" onChange={this.handleTabChange} value={currentTab} indicatorColor=\"primary\" textColor=\"primary\">\r\n                <Tab label=\"Informacin\" />\r\n                <Tab label=\"Cobertura y Tarifas\" />\r\n                <Tab label=\"Horarios de Atencin\" />\r\n            </Tabs>\r\n            <div style={{ display: currentTab === 0 ? \"block\" : \"none\", flex: 1 }}>\r\n                {LoadedTabs[0] && <Informacion configuracion={configuracion} />}\r\n            </div>\r\n\r\n            <div style={{ display: currentTab === 1 ? \"block\" : \"none\", flex: 1 }}>\r\n                {LoadedTabs[1] && <Cobertura configuracion={configuracion} />}\r\n            </div>\r\n\r\n            <div style={{ display: currentTab === 2 ? \"block\" : \"none\", flex: 1 }}>\r\n                {LoadedTabs[2] && <Horarios configuracion={configuracion} />}\r\n            </div>\r\n        </div>);\r\n    }\r\n}","import React from \"react\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\nimport { Typography, Paper } from \"@material-ui/core\";\nimport { Inbox, Category, Settings, Assessment } from \"@material-ui/icons\";\nimport AppBar from \"./Layouts/AppBar\";\nimport AppMenu from \"./Layouts/AppMenu\";\nimport Orders from \"./Components/Orders\";\nimport API from \"./Services/API\";\nimport Notifications from \"./Services/Notifications\";\nimport Products from \"./Components/Products\";\nimport Config from \"./Components/Config\";\n\nconst STEPS = [\n  { id: \"orders\", title: \"Pedidos\", Icon: Inbox },\n  { id: \"products\", title: \"Productos\", Icon: Category },\n  //{ id: \"dashboard\", title: \"Dashboard\", Icon: Assessment },\n  { id: \"config\", title: \"Configuracin\", Icon: Settings, addDividerBefore: true }\n];\nexport default class extends React.Component {\n  state = {\n    current_step: \"\"\n  }\n  constructor(props) {\n    super(props);\n    this.handleMounted = this.handleMounted.bind(this);\n    API.storeID = props.store.nombre;\n    API.START_LISTENING();\n  }\n  componentDidMount() {\n    if (!window.Notification) {\n      console.log('Browser does not support notifications.');\n    } else {\n      // check if permission is already granted\n      if (Notification.permission === 'granted') {\n        this.REMOVE_LISTENER = Notifications.ListenOrderChanges();\n      } else {\n        // request permission from user\n        Notification.requestPermission().then(function (p) {\n          if (p === 'granted') {\n            this.REMOVE_LISTENER = Notifications.ListenOrderChanges();\n          } else {\n            console.log('User blocked notifications.');\n          }\n        }).catch(function (err) {\n          console.error(err);\n        });\n      }\n    }\n  }\n  componentWillUnmount() {\n    this.REMOVE_LISTENER && this.REMOVE_LISTENER();\n  }\n  handleMounted(current_step) {\n    this.setState({ current_step });\n  }\n  render() {\n    const { current_step } = this.state;\n    const { title } = current_step && STEPS.find(x => x.id === current_step);\n    return (<HashRouter>\n      <Paper style={{ height: \"100vh\", width: \"100%\" }}>\n        <AppBar user={this.props.user} store={this.props.store} title={title} onLogOut={this.props.onLogOut} />\n        <AppMenu STEPS={STEPS} current_step={current_step} />\n        <div style={{ height: \"calc(100% - 60px)\", width: \"calc(100% - 205px)\", paddingLeft: 205, paddingTop: 60, overflow: \"hidden\" }}>\n          <Switch>\n\n            <Route path=\"/orders\" render={props => (<Orders\n              {...props}\n              store={this.props.store}\n              onMounted={this.handleMounted}\n              stepID={\"orders\"}\n            />)} />\n\n            <Route path=\"/products\" render={props => (<Products\n              {...props}\n              store={this.props.store}\n              onMounted={this.handleMounted}\n              stepID={\"products\"}\n            />)} />\n\n            <Route path=\"/config\" render={props => (<Config\n              {...props}\n              onMounted={this.handleMounted}\n              stepID={\"config\"}\n            />)} />\n\n            <Route exact path=\"/\" >\n              <div style={{ paddingTop: 100, width: \"100%\", textAlign: \"center\" }}>\n                <Typography variant=\"h4\">BIENVENIDO!</Typography>\n                <Typography variant=\"subtitle2\">RunFood Orders - Administrador</Typography>\n              </div>\n            </Route>\n          </Switch>\n        </div>\n      </Paper>\n    </HashRouter>)\n  }\n}","import React from \"react\";\r\nimport {\r\n    Card,\r\n    CardContent,\r\n    TextField,\r\n    Typography,\r\n    InputAdornment,\r\n    Button,\r\n    CircularProgress,\r\n    IconButton\r\n} from \"@material-ui/core\";\r\nimport { AccountCircle, Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport API from \"./Services/API\";\r\n\r\nconst styles = {\r\n    control: {\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    }\r\n}\r\n\r\nexport default class extends React.Component {\r\n    state = {\r\n        user: \"\",\r\n        pdw: \"\",\r\n        showPassword: false,\r\n        loading: false,\r\n        store: null\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleTogglePassword = this.handleTogglePassword.bind(this);\r\n    }\r\n    handleChange(event) {\r\n        const { name, value } = event.target;\r\n        this.setState({ [name]: value });\r\n    }\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        const { loading, user, pwd } = this.state;\r\n        if (loading) return;\r\n        if (!user) return this.setState({ error: { message: \"Digite el usuario\" } });\r\n        if (!pwd) return this.setState({ error: { message: \"Digite la contrasea\" } });\r\n        this.setState({ loading: true });\r\n        API.LogIn({\r\n            user: user,\r\n            pwd: pwd,\r\n            withStoresInfo: true\r\n        }).then(userInfo =>\r\n            this.props.onLogged({\r\n                user,\r\n                token: userInfo.token,\r\n                store: userInfo.store\r\n            })\r\n        ).catch(error => this.setState({ error, loading: false }));\r\n    }\r\n    handleTogglePassword() {\r\n        this.setState(prev => {\r\n            const state = { ...prev };\r\n            state.showPassword = !state.showPassword;\r\n            return state;\r\n        });\r\n    }\r\n    render() {\r\n        const { showPassword, loading, error, user, pwd } = this.state;\r\n        return (<div style={{ padding: 40, overflow: \"auto\" }}>\r\n            <Card style={{ width: 400, margin: \"auto\" }}>\r\n                <CardContent style={{ padding: 0 }}><form onSubmit={this.handleSubmit} style={{ padding: 20 }}>\r\n                    <Typography style={{ textAlign: \"center\" }} variant=\"h5\">INICIO DE SESION</Typography>\r\n                    <TextField\r\n                        autoFocus={true}\r\n                        disabled={loading}\r\n                        required\r\n                        style={{ ...styles.control }}\r\n                        fullWidth\r\n                        label=\"USUARIO\"\r\n                        value={user || \"\"}\r\n                        name={\"user\"}\r\n                        onChange={this.handleChange}\r\n                        type=\"email\"\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                                <InputAdornment position=\"start\">\r\n                                    <AccountCircle />\r\n                                </InputAdornment>\r\n                            ),\r\n                        }}\r\n                    />\r\n                    <TextField\r\n                        required\r\n                        fullWidth\r\n                        style={{ ...styles.control }}\r\n                        value={pwd || \"\"}\r\n                        label=\"CONTRASEA\"\r\n                        name={\"pwd\"}\r\n                        onChange={this.handleChange}\r\n                        type={showPassword ? \"text\" : \"password\"}\r\n                        InputProps={{\r\n                            endAdornment: (\r\n                                <InputAdornment position=\"end\">\r\n                                    <IconButton onClick={this.handleTogglePassword}>\r\n                                        {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                                    </IconButton>\r\n                                </InputAdornment>\r\n                            ),\r\n                        }}\r\n                    />\r\n                    {error && <div style={{ width: \"100%\" }}>\r\n                        <Typography color=\"secondary\" variant=\"body2\">{error.message} {error.code && error.code}</Typography>\r\n                        <Typography color=\"secondary\" variant=\"body1\">{error.status} | {error.statusText}</Typography>\r\n                    </div>}\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth style={{ ...styles.control }}\r\n                        variant=\"outlined\"\r\n                        disabled={loading}\r\n                        color=\"primary\"\r\n                    >\r\n                        {loading ? <CircularProgress size={20} color=\"inherit\" /> : \"ENTRAR\"}\r\n                    </Button>\r\n                </form>\r\n                </CardContent>\r\n            </Card>\r\n        </div >)\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n *\r\n    handleStore(event) {\r\n        const { id } = event.currentTarget;\r\n        const store = this.state.stores[+id];\r\n        this.setState({ store });\r\n        this.props.onLogged({\r\n            user: this.state.user,\r\n            token: this.state.token,\r\n            store\r\n        });\r\n    }\r\n                    {stores\r\n                        ? (<div>\r\n                            <Typography variant=\"h5\" style={{ margin: 10, textAlign: \"center\" }}>SELECCIONA LA TIENDA</Typography>\r\n                            <List style={{ ...styles.control, padding: 0 }}>\r\n                                {stores.map((x, index) => (\r\n                                    <ListItem\r\n                                        style={{ padding: 10 }}\r\n                                        button\r\n                                        onClick={this.handleStore}\r\n                                        key={index}\r\n                                        id={index}\r\n                                        disabled={Boolean(store)}>\r\n                                        <ListItemText>{x.titulo}</ListItemText>\r\n                                        <ListItemIcon><img alt={x.titulo} style={{ maxWidth: 100, maxHeight: 100 }} src={x.logoSrc}></img></ListItemIcon>\r\n                                    </ListItem>))}\r\n                            </List>\r\n                        </div>)\r\n                        : (\r\n                            )\r\n                    }\r\n */","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport Login from './Login';\nimport API, { viewLoginData, storeLoginData } from \"./Services/API\";\n\nfunction LaunchApp(data) {\n    // uso viewLoginData porque pone por default la position en quito\n    // en caso de que position sea NULL\n    if (!data) data = viewLoginData();\n    ReactDOM.render(<App user={data.user} store={data.store} onLogOut={LoggedOut} />, document.getElementById('app'));\n}\nfunction LaunchLogin() {\n    ReactDOM.render(<Login onLogged={Logged} />, document.getElementById('app'));\n}\nfunction Logged(data) {\n    storeLoginData(data);\n    LaunchApp();\n}\nfunction LoggedOut() {\n    API.STOP_LISTENING();\n    storeLoginData();\n    LaunchLogin();\n}\n//LaunchLogin();\n\nviewLoginData()\n    ? LaunchApp()\n    : LaunchLogin();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();"],"sourceRoot":""}