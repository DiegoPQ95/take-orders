{"version":3,"sources":["Services/Totales.js","Services/API.js","Services/Preferences.js","App.state.js","Components/ProductDetails.js","Components/TakeOrder.js","Components/ConfirmOrder.js","Services/ValidarIdentificacion.js","Services/ValidateInput.js","Components/InvoiceData.js","Components/ContactData.js","Components/Location.js","Components/Done.js","HOCs/WithValidate.js","App.js","Bootstrapper.js","index.js"],"names":["Totales","detalle","mutable","base0","baseIva","subtotal","iva","servicio","descuentoTotal","total","i","length","d","cantidad","neto","pvp","pagaIva","round","total_con_decimales","total_redondeado","console","info","isNaN","propina","URL","store","_window$location","window","location","href","origin","data","substring","split","indexOf","replace","Fetch","URI","options","fetch","method","cache","mode","then","response","ok","json","clone","catch","text","x","message","status","statusText","obj","Object","objectSpread","ex","API","GetProducts","GetProduct","ID","SaveOrder","state","contactData","direccion","invoiceData","items","spend_time","Date","valueOf","start_timestamp","factura_con_datos","identificacion","razonsocial","totals","ORDER","nota","forma_pago","lat","position","lng","direcion","numero_direccion","numero","referencia","documento_factura","documento","identificacion_factura","razonsocial_factura","direccion_factura","telefono_factura","telefono","email_factura","email","taking_order_time","body","JSON","stringify","headers","Content-Type","Access-Control-Allow-Origin","GetStoreData","Set","key","item","localStorage","setItem","log","Get","result","getItem","parse","warn","undefined","activeStep","productList","nombre","orderNumber","ws_phone","ws_message","loading","ProductDetails","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","descripcion","pvpWithTaxes","imgSrc","handleInput","bind","assertThisInitialized","handleDone","handleCantidad","handleExit","match","params","id","choosenItems","find","_this2","setState","alert","event","name","currentTarget","prev","newState","target","defineProperty","value","onDone","_this$props","history","new_path","path","substr","push","react_default","a","createElement","Fragment","index_es","open","classes","paper","loadingPaper","style","marginTop","marginBottom","textAlign","size","variant","dialogPaper","padding","maxWidth","maxHeight","onClick","color","float","right","top","icons_index_es","src","alt","width","display","flexDirection","margin","flex","toFixed","QuantityButton","marginLeft","marginRight","disabled","inputProps","maxLength","onChange","placeholder","label","multiline","rows","fullWidth","type","React","Component","withStyles","theme","withRouter","height","border","children","styles","root","flexWrap","justifyContent","overflow","gridList","transform","_default","onMounted","stepIndex","handleClick","onItemChange","products","reduce","current","exists","group","grupo","overflowX","overflowY","map","p","index","Carousel","title","react_router","Components_ProductDetails","PureComponent","cols","found","TileBar","actionPosition","subtitle","actionIcon","Tile","cursor","generateCarouselItem","url","paddingLeft","paddingRight","dense","button","primary","secondary","generateTotals","onInputChange","select","SelectProps","native","ValidarIdentificacion","vacioEstaBien","exito","error","mensaje","esValido","parseFloat","isNumber","p1","p2","p3","p4","p5","p6","p7","p8","p9","residuo","pri","pub","nat","modulo","d1","d2","d3","d4","d5","d6","d7","d8","d9","d10","isDigit","d11","d12","d13","digitoVerificador","validadorCedulaRuc","char","ValidateInput","tel","trim","twoParts","textField","content","paddingTop","paddingBottom","InvoiceData","razonSocial","hasOwnProperty","handleChange","_event$target","preventDefault","msg","b","c","e","validateMsg","cedula_err","cedula_props","helperText","rs_err","tel_props","tel_err","email_props","email_err","hay_errores","onSubmit","assign","textFiel","telefono_error","email_error","telefono_props","autoFocus","concat","render","r_props","Components_InvoiceData","onInvoiceDataChange","refs","STORE_LATLNG","defaultCenter","latLng","defaultZoom","bounds","enableLocationBtn","handleMapClick","handlePlacesChanged","handleSearchBoxMounted","handleMapMounted","handleBoundsChanged","handleLocationClick","ref","searchBox","getBounds","places","getPlaces","google","maps","LatLngBounds","forEach","place","geometry","viewport","union","extend","placeLocations","placeLoc","center","onPositionChanged","navigator","permissions","query","geolocation","getCurrentPosition","coords","latitude","longitude","isCurrentLocation","err","markerName","_this3","API_KEY","_this$state","Location_Map","googleMapURL","containerElement","loadingElement","mapElement","onPlacesChanged","onSearchBoxMounted","onMapMounted","marker","onBoundsChanged","searchBoxBounds","onLocationClick","Map","withScriptjs","withGoogleMap","lib","disableDefaultUI","zoomControl","clickableIcons","SearchBox_default","controlPosition","ControlPosition","TOP_LEFT","stopPropagation","boxSizing","borderRadius","boxShadow","fontSize","outline","textOverflow","minWidth","background","MarkerWithLabel","labelAnchor","Point","labelStyle","labelVisible","Boolean","handleReturnToOrder","other_props","objectWithoutProperties","Wait","ErrrMsg","IsCompleted","code","ws","ws_msg","final_msg","encodeURIComponent","CreateWSMessage","ev","pathname","component","WithValidate","step","_React$Component","_class2","moveToStep","onValidate","inherits","createClass","TakeOrder","A","ConfirmOrder","B","ContactData","C","Location","D","Done","E","STEPS","t","icon","AddShoppingCartOutlined","currentIcon","ShoppingCart","ReceiptOutlined","Receipt","PersonOutlined","Person","PlaceOutlined","Place","App","State","handleOptionOpened","handleItemChange","handleInputChange","handleInvoiceDataChange","handlePositionChanged","handleGuardar","validateStep","handleValidateStep","handleNextClick","prefs","toConsumableArray","prevstep","goToStep","_","dir","errGuardar","_event$currentTarget","levels","pop","reference","PrevItem","PrevIndex","splice","new_position","order","_this4","_this$state2","react_router_dom","minHeight","className","alternativeLabel","generateStep","textTransform","reload","G_M_K","saved","exact","from","to","RouterButton","errMsg","begin","launch","PERMISSION_DENIED","_error","POSITION_UNAVAILABLE","empresa","logoSrc","slogan","titulo","wordWrap","LaunchApp","ReactDOM","src_App","document","getElementById","LaunchReact","Bootstrapper_default"],"mappings":"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","file":"static/js/main.22c62b7d.chunk.js","sourcesContent":["const PORCENTAJE_IVA = 12;\r\nexport default function (detalle) {\r\n    const mutable = {\r\n        detalle: detalle,\r\n        base0: 0,\r\n        baseIva: 0,\r\n        subtotal: 0,\r\n        iva: 0,\r\n        servicio: 0,\r\n        // propina: 0, // propina es ingresado\r\n        descuentoTotal: 0,\r\n        total: 0\r\n    };\r\n\r\n    for (var i = 0; i < detalle.length; i++) {\r\n        const d = detalle[i];\r\n        if (d.cantidad > 0) {\r\n            let neto = d.cantidad * d.pvp;\r\n            if (d.pagaIva) {\r\n                mutable.baseIva = mutable.baseIva + neto;\r\n            } else {\r\n                mutable.base0 = mutable.base0 + neto;\r\n            }\r\n        }\r\n    }\r\n    mutable.base0 = mutable.base0.round(2);\r\n\r\n    let iva = 0;\r\n    let baseIva = 0;\r\n\r\n    if (PORCENTAJE_IVA && mutable.baseIva) {\r\n        iva = mutable.baseIva * PORCENTAJE_IVA / 100;\r\n        baseIva = mutable.baseIva;\r\n        mutable.iva = iva.round(2);\r\n    }\r\n    mutable.baseIva = mutable.baseIva.round(2);\r\n\r\n    let total_con_decimales = (iva + baseIva).round(2);\r\n    let total_redondeado = mutable.baseIva + mutable.iva;\r\n    if ((total_redondeado - total_con_decimales).round(2) === 0.01) {\r\n        // manualmente le quito ese 1 centavo que esta demas!\r\n        console.info(\"Le quito un centavo por diferencia\", total_con_decimales, total_redondeado)\r\n        mutable.baseIva = mutable.baseIva - 0.01;\r\n    }\r\n\r\n    mutable.servicio = mutable.servicio.round(2);\r\n    mutable.subtotal = (mutable.base0 + mutable.baseIva).round(2);\r\n    // aqui tengo que borrar la columna de propina\r\n    mutable.total = mutable.subtotal + mutable.servicio + mutable.iva + (isNaN(mutable.propina) ? 0 : mutable.propina);\r\n    // a veces, en la suma aparecen demasiados decimales\r\n    // por lo tanto lo redondeo (que tambien hace .toFixed)\r\n    mutable.total = mutable.total.round(2);\r\n    return mutable;\r\n}","import Totales from \"./Totales\";\r\n\r\n/*const URL = (window.location.href.indexOf(\"http://localhost\") === 0)\r\n    ? \"http://localhost:10000/data/\"\r\n    : (window.location.protocol === \"https:\"\r\n        ? \"https://orders-runfoodapp.rj.r.appspot.com/data/\"\r\n        : \"http://runfoodapp.ddns.net:10000/data/\");*/\r\nconst URL = \"https://orders.runfoodapp.com/data/\";\r\nfunction store() {\r\n    const { href, origin } = window.location;\r\n    const data = href.substring(origin.length, href.length).split(\"/\");\r\n    for (let i = 0; i < data.length; i++) {\r\n        if (data[i].indexOf(\"@\") === 0) {\r\n            return data[i].replace(/#/g, \"\").replace(\"@\", \"\");\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\nconst API = {\r\n    GetProducts() {\r\n        return Fetch(URL + store() + \"/product\");\r\n    },\r\n    GetProduct(ID) {\r\n        return Fetch(URL + store() + \"/product/\" + ID);\r\n    },\r\n    SaveOrder(state) {\r\n        let { contactData, direccion, invoiceData, items } = state;\r\n\r\n        if (!contactData) contactData = {};\r\n        if (!direccion) direccion = {};\r\n        if (!invoiceData) invoiceData = {};\r\n\r\n        let spend_time = new Date().valueOf() - state.start_timestamp;\r\n        let factura_con_datos = invoiceData.identificacion.length && invoiceData.razonsocial.length;\r\n        const totals = Totales(items);\r\n\r\n        const ORDER = {\r\n            ...contactData,\r\n            nota: state.nota,\r\n            forma_pago: state.forma_pago,\r\n\r\n            lat: direccion.position.lat,\r\n            lng: direccion.position.lng,\r\n            direcion: direccion.direccion,\r\n            numero_direccion: direccion.numero,\r\n            referencia: direccion.referencia,\r\n\r\n            factura_con_datos,\r\n            documento_factura: invoiceData.documento,\r\n            identificacion_factura: invoiceData.identificacion,\r\n            razonsocial_factura: invoiceData.razonsocial,\r\n            direccion_factura: invoiceData.direccion,\r\n            telefono_factura: invoiceData.telefono,\r\n            email_factura: invoiceData.email,\r\n\r\n            ...totals,\r\n\r\n            taking_order_time: spend_time\r\n        }\r\n        return Fetch(URL + store() + \"/order\", {\r\n            body: JSON.stringify(ORDER),\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Access-Control-Allow-Origin': '*'\r\n            }\r\n        });\r\n    },\r\n    GetStoreData() {\r\n        return Fetch(URL + store() + \"?withgooglemapskey=1\");\r\n    }\r\n}\r\n\r\nfunction Fetch(URI, options) {\r\n    const DEFAULTS = {\r\n        method: \"GET\",\r\n        cache: \"reload\",\r\n        mode: \"cors\"\r\n    };\r\n    return fetch(URI, options || DEFAULTS).then(response => {\r\n        if (response.ok) {\r\n            return response.json();\r\n        } else {\r\n            return response.clone().json()\r\n                .catch(() => {\r\n                    return response.text().then(x => {\r\n                        throw {\r\n                            message: x,\r\n                            status: response.status,\r\n                            statusText: response.statusText\r\n                        }\r\n                    })\r\n                }).then(obj => {\r\n                    throw {\r\n                        ...obj,\r\n                        status: response.status,\r\n                        statusText: response.statusText\r\n                    }\r\n                })\r\n        }\r\n    }).catch(ex => {\r\n        if (ex.message === \"Failed to fetch\") {\r\n            throw {\r\n                message: \"Este servicio no se encuentra disponible por el momento. Intentelo ms tarde.\",\r\n                status: 0\r\n            }\r\n        }\r\n        if (!ex.message) ex.message = ex.statusText;\r\n        throw ex;\r\n    });\r\n}\r\nexport default API;","export function Set(key, item) {\r\n    window.localStorage.setItem(key, item);\r\n    console.log(\"Preferences.\" + key + \" stored\");\r\n}\r\nexport function Get(item) {\r\n    let result = window.localStorage.getItem(item);\r\n    try {\r\n        result = JSON.parse(result);\r\n    } catch (ex) {\r\n        console.warn(\"Preferences.\" + item, ex);\r\n    }\r\n    if (result === \"true\" || result === \"false\") return result === \"true\";\r\n    console.log(\"Preferences.\" + item + \" sent\", result);\r\n    if (result === null || result === undefined) return null;\r\n    return result;\r\n}","export default class {\r\n    activeStep = 0;\r\n    items = [];\r\n    productList = [];\r\n    forma_pago = 1;\r\n    nota = \"\";\r\n    contactData = {\r\n        telefono: \"\",\r\n        nombre: \"\",\r\n        email: \"\"\r\n    };\r\n    invoiceData = {\r\n        documento: 1,\r\n        identificacion: \"\",\r\n        razonsocial: \"\",\r\n        telefono: \"\",\r\n        direccion: \"\",\r\n        email: \"\"\r\n    };\r\n    direccion = {\r\n        numero: \"\",\r\n        referencia: \"\",\r\n        position: null\r\n    };\r\n    start_timestamp = new Date().valueOf();\r\n    orderNumber = null;\r\n    ws_phone=null;\r\n    ws_message=null;\r\n    loading = \"data\";\r\n}","import React from \"react\";\r\nimport { Dialog, DialogContent, Typography, IconButton, TextField, Button, DialogActions, Fab, CircularProgress, withStyles } from \"@material-ui/core\";\r\nimport { Add, Remove, Close } from \"@material-ui/icons\";\r\nimport { withRouter } from \"react-router-dom\";\r\nconst styles = theme => ({\r\n    dialogPaper: {\r\n        maxWidth: 450,\r\n        maxHeight: \"calc(100% - 20px)\",\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    },\r\n    loadingPaper: {\r\n        marginLeft: 10,\r\n        marginRight: 10,\r\n        width: \"calc(100% - 20px)\",\r\n        maxWidth: 450\r\n    }\r\n});\r\n\r\nclass ProductDetails extends React.Component {\r\n    state = {\r\n        nombre: \"\",\r\n        descripcion: \"\",\r\n        pvpWithTaxes: 0,\r\n        cantidad: 1,\r\n        imgSrc: \"\",\r\n        nota: \"\",\r\n        loading: true\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleInput = this.handleInput.bind(this);\r\n        this.handleDone = this.handleDone.bind(this);\r\n        this.handleCantidad = this.handleCantidad.bind(this);\r\n        this.handleExit = this.handleExit.bind(this);\r\n        this.ID = props.match.params.id;\r\n        if (props.choosenItems && props.choosenItems.length) {\r\n            let item = props.choosenItems.find(x => x.id === (+this.ID));\r\n            if (item) this.state = { ...item, loading: false };\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.loading) return;\r\n        const { productList } = this.props;\r\n        if (productList && productList.length) {\r\n            const data = productList.find(x => x.id === (+this.ID));\r\n            if (data)\r\n                return this.setState({ loading: false, ...data });\r\n        }\r\n        alert(\"No se encontr el producto en la lista. Recargue la pantalla.\");\r\n    }\r\n    handleCantidad(event) {\r\n        const name = event.currentTarget.name;\r\n        this.setState(prev => {\r\n            const newState = { ...prev };\r\n            let cantidad = newState.cantidad;\r\n            if (name === \"add\") cantidad = (cantidad || 0) + 1;\r\n            if (name === \"remove\") cantidad = cantidad <= 0 ? 0 : (cantidad - 1);\r\n            newState.cantidad = cantidad;\r\n            console.log(\"Product Details new cantidad \", cantidad);\r\n            return newState;\r\n        });\r\n    }\r\n    handleInput(event) {\r\n        const { target } = event;\r\n        this.setState({ [target.name]: target.value });\r\n    }\r\n    handleDone() {\r\n        this.props.onDone({ ...this.state });\r\n        this.handleExit();\r\n    }\r\n    handleExit() {\r\n        const { match, history } = this.props;\r\n        const new_path = match.path.substr(0, match.path.indexOf(\"/view-product/:id\"))\r\n        history.push(new_path);\r\n    }\r\n    render() {\r\n        console.log(\"Product Details rendered\");\r\n        const { state } = this;\r\n        return (<React.Fragment>\r\n            {state.loading && <Dialog open={true} classes={{ paper: this.props.classes.loadingPaper }}>\r\n                <div style={{ marginTop: 100, marginBottom: 100, textAlign: \"center\" }}>\r\n                    <CircularProgress size={30} />\r\n                    <Typography variant=\"h5\">Cargando...</Typography>\r\n                </div>\r\n            </Dialog>}\r\n            <Dialog open={!state.loading} classes={{ paper: this.props.classes.dialogPaper }} >\r\n                <DialogContent style={{ padding: 0, maxWidth: 350, maxHeight: \"100%\" }}  >\r\n                    <Fab onClick={this.handleExit} color=\"secondary\" style={{ float: \"right\", right: 10, top: 10, position: \"absolute\" }}>\r\n                        <Close />\r\n                    </Fab>\r\n                    <img style={{ maxWidth: \"100%\", maxHeight: \"40%\" }} src={state.imgSrc || \"\"} alt={state.nombre}></img>\r\n                    <div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\" }}>\r\n                        <Typography style={{ margin: 10, flex: 1 }} variant=\"title\">\r\n                            {state.nombre}\r\n                        </Typography>\r\n                        <Typography style={{ margin: 10 }} variant=\"title\">\r\n                            $ {state.pvpWithTaxes.toFixed(2)}\r\n                        </Typography>\r\n                    </div>\r\n                    <Typography style={{ margin: 10 }} variant=\"body2\">\r\n                        {state.descripcion}\r\n                    </Typography>\r\n                    <div style={{ width: \"100%\", textAlign: \"center\", marginTop: 20, marginBottom: 20 }}>\r\n                        <QuantityButton onClick={this.handleCantidad} name=\"add\">\r\n                            <Add />\r\n                        </QuantityButton>\r\n                        <Typography style={{ display: \"inline-block\", marginLeft: 20, marginRight: 20 }} variant=\"h6\">\r\n                            {state.cantidad || 0}\r\n                        </Typography>\r\n                        <QuantityButton disabled={state.cantidad <= 0} onClick={this.handleCantidad} name=\"remove\">\r\n                            <Remove />\r\n                        </QuantityButton>\r\n                    </div>\r\n                    <div style={{ width: \"95%\", margin: \"auto\" }}>\r\n                        <TextField value={state.nota}\r\n                            inputProps={{ maxLength: 200 }}\r\n                            onChange={this.handleInput}\r\n                            name=\"nota\"\r\n                            color=\"default\"\r\n                            placeholder=\"Ej. Sin Salsa, verduras aparte, etc.\"\r\n                            label=\"Agrega una nota:\"\r\n                            variant=\"outlined\"\r\n                            multiline rows=\"3\" fullWidth />\r\n                    </div>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button type=\"button\" onClick={this.handleDone} color=\"primary\" variant=\"outlined\">AGREGAR</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </React.Fragment>);\r\n    }\r\n}\r\nexport default withStyles(styles)(withRouter(ProductDetails));\r\n\r\nfunction QuantityButton(props) {\r\n    const style = { height: 50, width: 50, border: \"1px solid gray\" };\r\n    if (props.disabled) delete style.border;\r\n    return (<IconButton\r\n        disabled={props.disabled}\r\n        onClick={props.onClick}\r\n        name={props.name} style={style}\r\n    >\r\n        {props.children}\r\n    </IconButton>)\r\n}","import React from \"react\";\r\nimport { Typography, GridList, GridListTile, GridListTileBar } from \"@material-ui/core\";\r\nimport ProductDetails from \"./ProductDetails\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nconst styles = {\r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden'\r\n    },\r\n    gridList: {\r\n        flexWrap: 'nowrap',\r\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n        transform: 'translateZ(0)',\r\n    }\r\n};\r\n\r\nexport default class extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleClick(event) {\r\n        this.props.history.push(this.props.match.path + \"/view-product/\" + event.currentTarget.id);\r\n    }\r\n    render() {\r\n        console.log(\"TakeOrder rendered\");\r\n        const { productList, style, choosenItems, match, onItemChange } = this.props;\r\n        const products = productList.reduce((prev, current) => {\r\n            let exists = prev.find(x => x.group === current.grupo);\r\n            if (!exists) {\r\n                exists = {\r\n                    group: current.grupo,\r\n                    items: []\r\n                }\r\n                prev.push(exists);\r\n            }\r\n            exists.items.push(current);\r\n            return prev;\r\n        }, []);\r\n\r\n        if (!(products && products.length)) {\r\n            return (<div style={{ ...style, textAlign: \"center\" }}>\r\n                <Typography variant=\"h6\">Esta tienda no tiene productos disponibles. Intenta nuevamente despus.</Typography>\r\n            </div>)\r\n        }\r\n        return (<div style={{ ...style, textAlign: \"left\", overflowX: \"hidden\", overflowY: \"auto\" }}>\r\n            {products.map((p, index) =>\r\n                (<Carousel key={index}\r\n                    onClick={this.handleClick}\r\n                    style={{ marginTop: 10, marginBottom: 10 }}\r\n                    title={p.group}\r\n                    items={p.items}\r\n                    choosenItems={choosenItems}\r\n                />))}\r\n            <Route path={match.path + \"/view-product/:id\"} >\r\n                <ProductDetails\r\n                    choosenItems={choosenItems || []}\r\n                    onDone={onItemChange}\r\n                    productList={productList}\r\n                />\r\n            </Route>\r\n        </div>);\r\n    }\r\n}\r\nfunction Carousel(props) {\r\n    return (<div style={{ ...props.style }}>\r\n        <Typography variant=\"h6\" style={{ marginLeft: 10 }}>{props.title}</Typography>\r\n        <GridList cols={2.5} style={styles.gridList}>\r\n            {props.items.map((item) => {\r\n                const found = (props.choosenItems || []).find(x => x.id === item.id);\r\n                return generateCarouselItem(item, found && found.cantidad, props.onClick);\r\n            })}\r\n        </GridList>\r\n    </div>)\r\n}\r\nfunction generateCarouselItem(item, cantidad, onClick) {\r\n    const TileBar = {\r\n        title: item.nombre,\r\n        actionPosition: \"right\",\r\n        subtitle: \"$ \" + item.pvpWithTaxes.toFixed(2)\r\n    }\r\n    if (cantidad) {\r\n        TileBar.actionIcon = <Typography variant=\"body2\" style={{ color: \"#fff\", marginRight: 5 }} >x{cantidad}</Typography>;\r\n    }\r\n    const Tile = {\r\n        cursor: \"pointer\"\r\n    };\r\n    if (cantidad) {\r\n        Tile.border = \"3px dashed #f50057\";\r\n    }\r\n    return (<GridListTile style={Tile} key={item.id} onClick={onClick} id={item.id} color=\"inherit\">\r\n        <img src={item.imgSrc} alt={item.nombre} />\r\n        <GridListTileBar {...TileBar} />\r\n    </GridListTile>);\r\n}","import React from \"react\";\r\nimport { Typography, TextField, List, ListItem, ListItemText, ListItemSecondaryAction } from \"@material-ui/core\";\r\nimport { Route } from \"react-router-dom\";\r\nimport ProductDetails from \"./ProductDetails\";\r\nimport Totales from \"../Services/Totales\";\r\n\r\nexport default class extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleClick(event) {\r\n        const id = event.currentTarget.id;\r\n        this.props.history.push(this.props.match.url + \"/view-product/\" + id);\r\n    }\r\n    render() {\r\n        console.log(\"ConfirmOrder rendered\");\r\n        const { props } = this;\r\n        return (<div style={{ paddingLeft: 10, paddingRight: 10, overflow: \"auto\", flex: 1 }}>\r\n            <List style={{ marginBottom: 10 }} dense={true}>\r\n                {(props.items).map(x => generateRowItem(x, this.handleClick))}\r\n                {generateTotals(props.items)}\r\n            </List>\r\n            <div style={{ width: \"100%\", textAlign: \"center\" }}>\r\n                <TextField\r\n                    label=\"Agrega una nota a tu pedido\"\r\n                    placeholder=\"Ej. Sin cubiertos, sin salas extra, etc.\"\r\n                    multiline\r\n                    name=\"nota\"\r\n                    inputProps={{ maxLength: 200 }}\r\n                    value={props.nota}\r\n                    onChange={props.onInputChange}\r\n                    rows={2}\r\n                    style={{ width: \"95%\", margin: \"auto\", marginBottom: 10, marginTop: 10 }}\r\n                />\r\n\r\n                <TextField\r\n                    label=\"Selecciona tu mtodo de pago\"\r\n                    select\r\n                    value={props.forma_pago}\r\n                    name=\"forma_pago\"\r\n                    onChange={props.onInputChange}\r\n                    variant=\"outlined\"\r\n                    style={{ width: \"95%\", margin: \"auto\", marginBottom: 10, marginTop: 10 }}\r\n                    SelectProps={{ native: true }}\r\n                >\r\n                    <option value={1}>Efectivo</option>\r\n                    <option value={2}>Tarjeta de Crdito/Debito</option>\r\n                </TextField>\r\n            </div>\r\n            <Route path={props.match.path + \"/view-product/:id\"} >\r\n                <ProductDetails productList={props.productList} choosenItems={props.items || []} onDone={props.onItemChange} />\r\n            </Route>\r\n        </div>)\r\n    }\r\n}\r\n\r\nfunction generateRowItem(data, onClick) {\r\n    return (\r\n        <ListItem key={data.id} button onClick={onClick} id={data.id}>\r\n            <ListItemText primary={data.nombre} secondary={data.nota || \"\"} />\r\n            <ListItemSecondaryAction>\r\n                <Typography style={{ margin: 0, padding: 0 }} variant=\"h6\">x{data.cantidad}</Typography>\r\n            </ListItemSecondaryAction>\r\n        </ListItem>)\r\n}\r\nfunction generateTotals(items) {\r\n    const totals = Totales(items);\r\n    return (<React.Fragment>\r\n        <ListItem>\r\n            <ListItemText primary={<Typography variant=\"h5\" style={{ margin: 0, padding: 0 }}>\r\n                {items.length + \" ITEMS\"}\r\n            </Typography>} />\r\n            <ListItemSecondaryAction>\r\n                <Typography style={{ margin: 0, padding: 0 }} variant=\"h5\">\r\n                    ${totals.total.toFixed(2)}\r\n                </Typography>\r\n            </ListItemSecondaryAction>\r\n        </ListItem>\r\n    </React.Fragment>)\r\n}\r\n\r\n","export default function (value, documento) {\r\n    if (!value) value = \"\";\r\n    documento = +documento;\r\n    if (documento === 3) { return; }\r\n    if (documento === 1) {\r\n        if (value.length !== 13) return \"Nmero de RUC debe tener 13 digitos\";\r\n        if (value.length === 13 && value === \"9999999999999\") return;\r\n    }\r\n    if (documento === 2) {\r\n        if (value.length !== 10) return \"Nmero de Cedula debe tener 10 digitos\";\r\n    }\r\n    return validadorCedulaRuc(value, false);\r\n}\r\nfunction validadorCedulaRuc(numero, vacioEstaBien, exito, error) {\r\n    var mensaje = '';\r\n    var esValido = false;\r\n    if (vacioEstaBien && isEmptyOrNull(numero)) {\r\n        mensaje = '';\r\n        esValido = true;\r\n    } else {\r\n        if (isNumber(numero)) {\r\n\r\n            if (numero.length < 10) {\r\n                mensaje = \"El numero de Cedula debe tener 10 dgitos\";\r\n            } else if (numero.length > 10 && numero.length < 13) {\r\n                mensaje = \"El numero de RUC debe tener 13 dgitos\";\r\n            } else if (numero.length > 13) {\r\n                mensaje = \"El numero tiene ms de 13 dgitos\";\r\n            }\r\n\r\n\r\n            var suma = 0;\r\n            var residuo = 0;\r\n            var pri = false;\r\n            var pub = false;\r\n            var nat = false;\r\n            var numeroProvincias = 22;\r\n            var modulo = 11;\r\n\r\n            /* Verifico que el campo no contenga letras */\r\n            var ok = 1;\r\n            /*for (i=0; i numeroProvincias){\r\n            mensaje = 'El cdigo de la provincia (dos primeros dgitos) es invlido'); esValido = fals;\r\n        } */\r\n\r\n            /* Aqui almacenamos los digitos de la cedula en variables. */\r\n            const d1 = numero.substr(0, 1);\r\n            const d2 = numero.substr(1, 1);\r\n            const d3 = numero.substr(2, 1);\r\n            const d4 = numero.substr(3, 1);\r\n            const d5 = numero.substr(4, 1);\r\n            const d6 = numero.substr(5, 1);\r\n            const d7 = numero.substr(6, 1);\r\n            const d8 = numero.substr(7, 1);\r\n            const d9 = numero.substr(8, 1);\r\n            const d10 = numero.substr(9, 1);\r\n            if (!isDigit(d1)) mensaje = \"El digito 1 no es un nmero\";\r\n            if (!isDigit(d2)) mensaje = \"El digito 2 no es un nmero\";\r\n            if (!isDigit(d3)) mensaje = \"El digito 3 no es un nmero\";\r\n            if (!isDigit(d4)) mensaje = \"El digito 4 no es un nmero\";\r\n            if (!isDigit(d5)) mensaje = \"El digito 5 no es un nmero\";\r\n            if (!isDigit(d6)) mensaje = \"El digito 6 no es un nmero\";\r\n            if (!isDigit(d7)) mensaje = \"El digito 7 no es un nmero\";\r\n            if (!isDigit(d8)) mensaje = \"El digito 8 no es un nmero\";\r\n            if (!isDigit(d9)) mensaje = \"El digito 9 no es un nmero\";\r\n            if (!isDigit(d10)) mensaje = \"El digito 10 no es un nmero\";\r\n\r\n            if (numero.length > 10) {\r\n                const d11 = numero.substr(10, 1);\r\n                const d12 = numero.substr(10, 1);\r\n                const d13 = numero.substr(10, 1);\r\n                if (d11 && !isDigit(d11)) mensaje = \"El digito 11 no es un nmero\";\r\n                if (d12 && !isDigit(d12)) mensaje = \"El digito 12 no es un nmero\";\r\n                if (d13 && !isDigit(d13)) mensaje = \"El digito 13 no es un nmero\";\r\n            }\r\n\r\n            /* El tercer digito es: */\r\n            /* 9 para sociedades privadas y extranjeros */\r\n            /* 6 para sociedades publicas */\r\n            /* menor que 6 (0,1,2,3,4,5) para personas naturales */\r\n\r\n            let p1;\r\n            let p2;\r\n            let p3;\r\n            let p4;\r\n            let p5;\r\n            let p6;\r\n            let p7;\r\n            let p8;\r\n            let p9;\r\n\r\n            if (d3 == 7 || d3 == 8) {\r\n                mensaje = 'El tercer dgito ingresado es invlido';\r\n                esValido = false;\r\n            }\r\n\r\n            /* Solo para personas naturales (modulo 10) */\r\n            if (d3 < 6) {\r\n                nat = true;\r\n                p1 = d1 * 2; if (p1 >= 10) p1 -= 9;\r\n                p2 = d2 * 1; if (p2 >= 10) p2 -= 9;\r\n                p3 = d3 * 2; if (p3 >= 10) p3 -= 9;\r\n                p4 = d4 * 1; if (p4 >= 10) p4 -= 9;\r\n                p5 = d5 * 2; if (p5 >= 10) p5 -= 9;\r\n                p6 = d6 * 1; if (p6 >= 10) p6 -= 9;\r\n                p7 = d7 * 2; if (p7 >= 10) p7 -= 9;\r\n                p8 = d8 * 1; if (p8 >= 10) p8 -= 9;\r\n                p9 = d9 * 2; if (p9 >= 10) p9 -= 9;\r\n                modulo = 10;\r\n            }\r\n\r\n            /* Solo para sociedades publicas (modulo 11) */\r\n            /* Aqui el digito verficador esta en la posicion 9, en las otras 2 en la pos. 10 */\r\n            else if (d3 == 6) {\r\n                pub = true;\r\n                p1 = d1 * 3;\r\n                p2 = d2 * 2;\r\n                p3 = d3 * 7;\r\n                p4 = d4 * 6;\r\n                p5 = d5 * 5;\r\n                p6 = d6 * 4;\r\n                p7 = d7 * 3;\r\n                p8 = d8 * 2;\r\n                p9 = 0;\r\n            }\r\n\r\n            /* Solo para entidades privadas (modulo 11) */\r\n            else if (d3 == 9) {\r\n                pri = true;\r\n                p1 = d1 * 4;\r\n                p2 = d2 * 3;\r\n                p3 = d3 * 2;\r\n                p4 = d4 * 7;\r\n                p5 = d5 * 6;\r\n                p6 = d6 * 5;\r\n                p7 = d7 * 4;\r\n                p8 = d8 * 3;\r\n                p9 = d9 * 2;\r\n            }\r\n\r\n            suma = p1 + p2 + p3 + p4 + p5 + p6 + p7 + p8 + p9;\r\n            residuo = suma % modulo;\r\n\r\n            /* Si residuo=0, dig.ver.=0, caso contrario 10 - residuo*/\r\n            const digitoVerificador = residuo == 0 ? 0 : modulo - residuo;\r\n\r\n            /* ahora comparamos el elemento de la posicion 10 con el dig. ver.*/\r\n            if (pub == true) {\r\n                if (digitoVerificador != d9) {\r\n                    mensaje = 'El ruc de la empresa del sector pblico es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                /* El ruc de las empresas del sector publico terminan con 0001*/\r\n                if (numero.substr(9, 4) != '0001') {\r\n                    mensaje = 'El ruc de la empresa del sector pblico debe terminar con 0001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n            else if (pri == true) {\r\n                if (digitoVerificador != d10) {\r\n                    mensaje = 'El ruc de la empresa del sector privado es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                if (numero.substr(10, 3) != '001') {\r\n                    mensaje = 'El ruc de la empresa del sector privado debe terminar con 001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n\r\n            else if (nat == true) {\r\n                if (digitoVerificador != d10) {\r\n                    mensaje = 'El nmero de cdula de la persona natural es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                if (numero.length > 10 && numero.substr(10, 3) != '001') {\r\n                    mensaje = 'El ruc de la persona natural debe terminar con 001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n            esValido = true;\r\n\r\n        } else {\r\n            mensaje = 'Este campo solo admite numeros';\r\n        }\r\n    }\r\n\r\n    if (esValido && mensaje == '') {\r\n        if (exito) { exito(); }\r\n        return \"\";\r\n    } else {\r\n        if (mensaje == '') {\r\n            mensaje = 'La cantidad de digitos no corresponde a Cedula o RUC'\r\n        }\r\n        if (error) { error(mensaje); }\r\n        return mensaje;\r\n    }\r\n}\r\nexport function isDigit(char) { return char >= \"0\" && char <= \"9\"; }\r\nfunction isNumber(obj) { return !isNaN(parseFloat(obj)) }\r\nfunction isEmptyOrNull(obj) {\r\n    if (obj === '' || obj == undefined || obj == null || obj == 'undefined') {\r\n        return true\r\n    } else {\r\n        return false;\r\n    }\r\n}","import { isDigit } from \"./ValidarIdentificacion\";\r\n\r\nconst ValidateInput = {\r\n    tel(value) {\r\n        if (!value) return;\r\n        if (value.length < 7) return \"El nmero de telefono debe tener al menos 7 digitos\";\r\n        for (let i = 0; i < value.length; i++) {\r\n            if (!(value[i] === \"+\" || isDigit(value[i]) || value[i].trim() === \"\")) {\r\n                return \"El nmero debe tener uno de estos formatos: '09123456789' o '+5931234567890'\";\r\n            }\r\n        }\r\n    },\r\n    email(value) {\r\n        if (!value) return;\r\n        if (value.length < 5) return \"El email no est escrito correctamente\";\r\n        let twoParts = value.split(\"@\");\r\n        if (twoParts.length !== 2) return \"El email no est escrito correctamente\";\r\n        if (!(twoParts[1].indexOf(\".\") >= 0)) return \"El email no est escrito correctamente\";\r\n        if (value.trim().indexOf(\" \") >= 0) return \"El email no est escrito correctamente\";\r\n        if (value.trim().indexOf(\"\\t\") >= 0) return \"El email no est escrito correctamente\";\r\n        if (value.trim().indexOf(\"\\r\") >= 0) return \"El email no est escrito correctamente\";\r\n    }\r\n}\r\nexport default ValidateInput;","import React from \"react\";\r\nimport { Dialog, DialogContent, TextField, Button, DialogActions, withStyles } from \"@material-ui/core\";\r\nimport ValidarIdentificacion from \"../Services/ValidarIdentificacion\";\r\nimport ValidateInput from \"../Services/ValidateInput\";\r\n\r\nconst style = {\r\n    textField: {\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    },\r\n    content: {\r\n        paddingTop: 10,\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        paddingBottom: 0\r\n    }\r\n};\r\n\r\nclass InvoiceData extends React.PureComponent {\r\n    state = {\r\n        documento: 1,\r\n        identificacion: \"\",\r\n        razonSocial: \"\",\r\n        telefono: \"\",\r\n        direccion: \"\",\r\n        email: \"\"\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.data) {\r\n            for (const key in props.data) {\r\n                if (props.data.hasOwnProperty(key)) {\r\n                    this.state[key] = props.data[key];\r\n                }\r\n            }\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleExit = this.handleExit.bind(this);\r\n        this.handleDone = this.handleDone.bind(this);\r\n    }\r\n    handleChange(event) {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    handleExit() {\r\n        const { match, history } = this.props;\r\n        const new_path = match.path.substr(0, match.path.indexOf(\"/invoice-data\"));\r\n        history.push(new_path);\r\n    }\r\n    handleDone(event) {\r\n        event.preventDefault();\r\n        const msg = validateMsg(this.state);\r\n        if (msg) {\r\n            alert(msg);\r\n        } else {\r\n            if (this.props.onDone)\r\n                this.props.onDone(this.state);\r\n            this.handleExit();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const cedula_err = this.state.identificacion\r\n            ? ValidarIdentificacion(this.state.identificacion, this.state.documento)\r\n            : \"\";\r\n        const cedula_props = {};\r\n        if (cedula_err) {\r\n            cedula_props.error = true;\r\n            cedula_props.helperText = cedula_err;\r\n        }\r\n        const rs_err = (this.state.identificacion && !(this.state.razonSocial || \"\").trim())\r\n            ? \"Esta campo no puede estar vaco\"\r\n            : \"\";\r\n        const tel_props = {};\r\n        const tel_err = ValidateInput.tel(this.state.telefono)\r\n        if (tel_err) {\r\n            tel_props.error = true;\r\n            tel_props.helperText = tel_err;\r\n        }\r\n        const email_props = {};\r\n        const email_err = ValidateInput.email(this.state.email)\r\n        if (email_err) {\r\n            email_props.error = true;\r\n            email_props.helperText = email_err;\r\n        }\r\n\r\n        const hay_errores = cedula_err || rs_err || tel_err || email_err;\r\n\r\n        return (<Dialog open={true} >\r\n            <form onSubmit={this.handleDone}>\r\n                <DialogContent style={style.content}>\r\n                    <TextField value={this.state.documento}\r\n                        name=\"documento\"\r\n                        onChange={this.handleChange}\r\n                        select\r\n                        SelectProps={{ native: true }}\r\n                        fullWidth\r\n                        label=\"Documento\"\r\n                        style={style.textField}\r\n                    >\r\n                        <option value={1}>RUC</option>\r\n                        <option value={2}>Cedula</option>\r\n                        <option value={3}>Pasaporte</option>\r\n                    </TextField>\r\n\r\n                    <TextField name=\"identificacion\"\r\n                        inputProps={{ maxLength: 20 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"# de Identificacion\"\r\n                        value={this.state.identificacion || \"\"}\r\n                        style={style.textField}\r\n                        fullWidth\r\n\r\n                        {...cedula_props}\r\n                    />\r\n\r\n                    <TextField name=\"razonSocial\"\r\n                        inputProps={{ maxLength: 200 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Razon Social\"\r\n                        value={this.state.razonSocial || \"\"}\r\n                        multiline\r\n                        rows={2}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                    />\r\n\r\n                    <TextField name=\"telefono\"\r\n                        inputProps={{ maxLength: 50 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Telefono\"\r\n                        value={this.state.telefono || \"\"}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                        {...tel_props}\r\n                    />\r\n\r\n                    <TextField name=\"direccion\"\r\n                        inputProps={{ maxLength: 300 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Direccion\"\r\n                        value={this.state.direccion || \"\"}\r\n                        multiline\r\n                        rows={3}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                    />\r\n\r\n                    <TextField name=\"email\"\r\n                        inputProps={{ maxLength: 150 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Email\"\r\n                        value={this.state.email || \"\"}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                        {...email_props}\r\n                    />\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button type=\"button\" onClick={this.handleExit} color=\"secondary\" variant=\"outlined\">\r\n                        SALIR\r\n                </Button>\r\n                    <Button disabled={hay_errores} type=\"submit\" color=\"primary\" variant=\"outlined\">\r\n                        AGREGAR\r\n                </Button>\r\n                </DialogActions>\r\n            </form>\r\n        </Dialog>)\r\n    }\r\n}\r\n\r\nfunction validateMsg(state) {\r\n    const { documento, identificacion, razonSocial, telefono, direccion, email } = state;\r\n    let a = identificacion || \"\";\r\n    let b = razonSocial || \"\";\r\n    let c = telefono || \"\";\r\n    let d = direccion || \"\";\r\n    let e = email || \"\";\r\n    let msg = \"\";\r\n    if (a.length || b.length || c.length || d.length || e.length) {\r\n        if (!a.length) return \"Agregue el numero de identificacion\";\r\n        if (!b.length) return \"Agregue la Razon Social\";\r\n        msg = ValidarIdentificacion(identificacion, documento);\r\n        if (msg) return msg;\r\n        msg = c && ValidateInput.tel(c);\r\n        if (msg) return msg;\r\n        msg = e && ValidateInput.email(e);\r\n        if (msg) return msg;\r\n    }\r\n}\r\n\r\nexport default withStyles(theme => ({\r\n    paper: {\r\n        maxHeight: \"calc(100% - 30px)\",\r\n        marginTop: 15,\r\n        marginBottom: 15\r\n    }\r\n}))(InvoiceData);","import React from \"react\";\r\nimport { TextField, Typography, Button } from \"@material-ui/core\";\r\nimport { Route } from \"react-router-dom\";\r\nimport InvoiceData from \"./InvoiceData\";\r\nimport ValidateInput from \"../Services/ValidateInput\";\r\n\r\nconst style = {\r\n    root: { padding: \"20px 10px\", flex: 1 },\r\n    textFiel: { marginTop: 10, marginBottom: 10 }\r\n}\r\n\r\nexport default class extends React.Component {\r\n    state = {\r\n        telefono_error: \"\",\r\n        email_error: \"\"\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleClick() {\r\n        this.props.history.push(this.props.match.path + \"/invoice-data\");\r\n    }\r\n    render() {\r\n        const { props } = this;\r\n\r\n        const telefono_error = ValidateInput.tel(props.data.telefono);\r\n        let telefono_props = {};\r\n        if (telefono_error) {\r\n            telefono_props.error = true;\r\n            telefono_props.helperText = telefono_error;\r\n        }\r\n        const email_error = ValidateInput.email(props.data.email);\r\n        let email_props = {};\r\n        if (email_error) {\r\n            email_props.error = true;\r\n            email_props.helperText = email_error;\r\n        }\r\n\r\n        return (<div style={style.root}>\r\n            <TextField\r\n                autoFocus={true}\r\n                label=\"Nombre (Nombres y Apellidos)*\"\r\n                fullWidth\r\n                inputProps={{ maxLength: 300 }}\r\n                style={style.textField}\r\n                name=\"contactData.nombre\"\r\n                value={props.data.nombre}\r\n                onChange={props.onInputChange}\r\n            />\r\n            <TextField\r\n                label=\"Telefono*\"\r\n                fullWidth\r\n                inputProps={{ maxLength: 50, type: \"phone\" }}\r\n                style={style.textField}\r\n                name=\"contactData.telefono\"\r\n                value={props.data.telefono}\r\n                onChange={props.onInputChange}\r\n                {...telefono_props}\r\n            />\r\n            <TextField\r\n                label=\"Email\"\r\n                fullWidth\r\n                inputProps={{ maxLength: 150, type: \"email\" }}\r\n                style={style.textField}\r\n                name=\"contactData.email\"\r\n                value={props.data.email}\r\n                onChange={props.onInputChange}\r\n                {...email_props}\r\n            />\r\n\r\n            <Typography style={{ marginTop: 20 }} variant=\"body2\">NECESITAS FACTURA?</Typography>\r\n            <div style={{ width: \"100%\", marginBottom: 10, textAlign: \"center\" }}>\r\n                <Button variant=\"outlined\" color=\"secondary\" size=\"small\"\r\n                    style={{ width: \"90%\", margin: \"auto\" }} onClick={this.handleClick}>\r\n                    Agregar Datos de Facturacin\r\n                </Button>\r\n            </div>\r\n            <Route path={`${props.match.path}/invoice-data`}\r\n                render={r_props => <InvoiceData {...r_props} data={props.invoiceData} onDone={props.onInvoiceDataChange} />}\r\n            />\r\n        </div>)\r\n    }\r\n}","import React from \"react\";\r\nimport { TextField, Typography, Button } from \"@material-ui/core\";\r\nimport { withGoogleMap, GoogleMap, withScriptjs } from \"react-google-maps\";\r\nimport SearchBox from \"react-google-maps/lib/components/places/SearchBox\";\r\nimport { MarkerWithLabel } from \"react-google-maps/lib/components/addons/MarkerWithLabel\";\r\nimport { GpsFixed } from \"@material-ui/icons\";\r\nimport * as prefs from \"../Services/Preferences\";\r\n\r\nconst refs = {};\r\n\r\nconst STORE_LATLNG = {\r\n    lat: -0.263496, lng: -78.488272\r\n}\r\nexport default class extends React.PureComponent {\r\n    state = {\r\n        loading: false,\r\n        defaultCenter: {},\r\n        latLng: null,\r\n        defaultZoom: 12,\r\n        bounds: null,\r\n        enableLocationBtn: false\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleMapClick = this.handleMapClick.bind(this);\r\n        this.handlePlacesChanged = this.handlePlacesChanged.bind(this);\r\n        this.handleSearchBoxMounted = this.handleSearchBoxMounted.bind(this);\r\n        this.handleMapMounted = this.handleMapMounted.bind(this);\r\n        this.handleBoundsChanged = this.handleBoundsChanged.bind(this);\r\n        this.handleLocationClick = this.handleLocationClick.bind(this);\r\n    }\r\n    handleSearchBoxMounted(ref) {\r\n        refs.searchBox = ref;\r\n    }\r\n    handleMapMounted(ref) {\r\n        refs.map = ref;\r\n    }\r\n    handleBoundsChanged() {\r\n        this.setState({ bounds: refs.map.getBounds() });\r\n    }\r\n    handlePlacesChanged() {\r\n        const places = refs.searchBox.getPlaces();\r\n        const bounds = new window.google.maps.LatLngBounds();\r\n\r\n        places.forEach(place => {\r\n            if (place.geometry.viewport) {\r\n                bounds.union(place.geometry.viewport)\r\n            } else {\r\n                bounds.extend(place.geometry.location)\r\n            }\r\n        });\r\n        const placeLocations = places.map(place => ({\r\n            position: place.geometry.location,\r\n            name: place.name\r\n        }));\r\n        let placeLoc = this.state.defaultCenter;\r\n        if (placeLocations && placeLocations.length) {\r\n            placeLoc = placeLocations[0];\r\n        }\r\n        this.setState({\r\n            center: placeLoc.position\r\n        });\r\n        this.props.onPositionChanged({\r\n            lat: placeLoc.position.lat(),\r\n            lng: placeLoc.position.lng(),\r\n            name: placeLoc.name\r\n        });\r\n    }\r\n    componentWillMount() {\r\n        const { direccion } = this.props;\r\n        // prev stored\r\n        if (direccion && direccion.position) {\r\n            this.setState({\r\n                center: { ...direccion.position },\r\n                defaultZoom: 17\r\n            });\r\n            if (navigator.permissions) {\r\n                navigator.permissions.query({ name: 'geolocation' })\r\n                    .then(value => {\r\n                        if (value.state === \"granted\") {\r\n                            this.setState({ enableLocationBtn: true });\r\n                        }\r\n                    });\r\n            }\r\n            return;\r\n        }\r\n        if (!navigator.geolocation) return;\r\n        navigator.geolocation.getCurrentPosition(position => {\r\n            const latLng = {\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude,\r\n                name: \"Ubicacin Actual\"\r\n            };\r\n            this.setState({\r\n                defaultCenter: { ...latLng, isCurrentLocation: true },\r\n                defaultZoom: 17,\r\n                loading: false,\r\n                enableLocationBtn: true\r\n            });\r\n            this.props.onPositionChanged(latLng);\r\n        }, err => {\r\n            this.setState({\r\n                loading: false,\r\n                defaultCenter: { ...STORE_LATLNG },\r\n                markerName: \"\",\r\n                enableLocationBtn: false\r\n            });\r\n        })\r\n    }\r\n    handleMapClick(a) {\r\n        this.props.onPositionChanged({ lat: a.latLng.lat(), lng: a.latLng.lng(), name: \"\" });\r\n    }\r\n    handleLocationClick() {\r\n        navigator.geolocation.getCurrentPosition(position => {\r\n            const center = {\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude,\r\n                name: \"Ubicacin Actual\"\r\n            }\r\n            this.props.onPositionChanged(center);\r\n            this.setState({ center });\r\n        }, err => {\r\n            const state = { center: { ...this.state.defaultCenter } };\r\n            if (state.center.isCurrentLocation) {\r\n                delete state.center.isCurrentLocation;\r\n                this.props.onPositionChanged(state.center);\r\n            }\r\n            alert(\"No pudimos obtener tu ubicacin \" + err.message);\r\n            this.setState(state);\r\n        });\r\n    }\r\n    render() {\r\n        const { direccion, onInputChange, API_KEY } = this.props;\r\n        const { defaultCenter, defaultZoom, center, bounds, enableLocationBtn } = this.state;\r\n        return (<div style={{ overflow: \"auto\", paddingLeft: 10, paddingRight: 10, flex: 1 }}>\r\n            <Map\r\n                googleMapURL={`https://maps.googleapis.com/maps/api/js?key=${API_KEY || \"\"}&v=3.exp&libraries=geometry,drawing,places`}\r\n                //googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\"\r\n                containerElement={<div style={{ height: \"300px\" }} />}\r\n                loadingElement={<div style={{ height: `100%` }} />}\r\n                mapElement={<div style={{ height: `100%` }} />}\r\n                onClick={this.handleMapClick}\r\n                defaultZoom={defaultZoom}\r\n                onPlacesChanged={this.handlePlacesChanged}\r\n                onSearchBoxMounted={this.handleSearchBoxMounted}\r\n                onMapMounted={this.handleMapMounted}\r\n                marker={direccion.position}\r\n                center={center || defaultCenter}\r\n                onBoundsChanged={this.handleBoundsChanged}\r\n                searchBoxBounds={bounds}\r\n                onLocationClick={this.handleLocationClick}\r\n                enableLocationBtn={enableLocationBtn}\r\n            />\r\n            <TextField\r\n                name=\"direccion.numero\"\r\n                value={direccion.numero}\r\n                onChange={onInputChange}\r\n                inputProps={{ maxLength: 100 }}\r\n                label=\"Numero*\"\r\n                placeholder=\"Ej. Dpto 101, Oficina 304, Manzana 10 Villa 4, etc.\"\r\n                fullWidth\r\n            />\r\n\r\n            <TextField\r\n                name=\"direccion.referencia\"\r\n                value={direccion.referencia}\r\n                onChange={onInputChange}\r\n                inputProps={{ maxLength: 200 }}\r\n                label=\"Referencia*\"\r\n                placeholder=\"Ej. Al lado de la panaderia 'El Pan de Cada Dia'\"\r\n                fullWidth\r\n            />\r\n\r\n        </div>)\r\n    }\r\n}\r\n\r\nconst Map = withScriptjs(withGoogleMap(function Map(props) {\r\n    function changeFn(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n    }\r\n    const { google } = window;\r\n    return (<GoogleMap\r\n        {...props}\r\n        ref={props.onMapMounted}\r\n        options={{\r\n            disableDefaultUI: true,\r\n            zoomControl: true,\r\n            clickableIcons: false\r\n        }}\r\n    >\r\n        <SearchBox\r\n            bounds={props.searchBoxBounds}\r\n            onPlacesChanged={props.onPlacesChanged}\r\n            controlPosition={google.maps.ControlPosition.TOP_LEFT}\r\n            ref={props.onSearchBoxMounted}>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\", width: \"calc(100% - 10px)\", margin: 5 }}>\r\n                <input\r\n                    type=\"text\"\r\n                    onChange={changeFn}\r\n                    placeholder=\"Busca tu direccin aqui\"\r\n                    style={{\r\n                        flex: 1,\r\n                        boxSizing: `border-box`,\r\n                        border: `1px solid transparent`,\r\n                        height: 40,\r\n                        padding: `0 10px`,\r\n                        borderRadius: `3px`,\r\n                        boxShadow: `0 2px 6px rgba(0, 0, 0, 0.3)`,\r\n                        fontSize: `14px`,\r\n                        outline: `none`,\r\n                        textOverflow: `ellipses`\r\n                    }}\r\n                />\r\n                <Button style={{\r\n                    maxHeight: 40,\r\n                    padding: 5,\r\n                    minWidth: 40,\r\n                    background: \"#fff\",\r\n                    boxShadow: `0 2px 6px rgba(0, 0, 0, 0.3)`\r\n                }} variant=\"outlined\"\r\n                    disabled={!props.enableLocationBtn}\r\n                    onClick={props.onLocationClick}>\r\n                    <GpsFixed />\r\n                </Button>\r\n            </div>\r\n        </SearchBox>\r\n        {props.marker\r\n            ? (<MarkerWithLabel\r\n                x labelAnchor={new window.google.maps.Point(0, 0)}\r\n                position={props.marker}\r\n                labelStyle={{ background: \"#fff\", border: \"1px solid grey\", padding: \"10px\" }}\r\n                labelVisible={Boolean(props.marker.name)}\r\n            >\r\n                <Typography>{props.marker.name}</Typography>\r\n            </MarkerWithLabel>)\r\n            : null}\r\n    </GoogleMap>)\r\n}));","import React from \"react\";\r\nimport { CheckCircleOutline, Edit } from \"@material-ui/icons\";\r\nimport { Typography, Button, CircularProgress } from \"@material-ui/core\";\r\n\r\n\r\n\r\nexport default class extends React.Component {\r\n    state = {\r\n        loading: false\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        // en este caso, al comenzar se guardar inmediatamente.\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleReturnToOrder = this.handleReturnToOrder.bind(this);\r\n    }\r\n    handleReturnToOrder() {\r\n        this.props.history.push(\"/1\");\r\n    }\r\n    render() {\r\n        const { loading, error, ...other_props } = this.props;\r\n\r\n        return (<div style={{ textAlign: \"center\", overflow: \"auto\", padding: 10 }}>\r\n            {loading\r\n                ? <Wait />\r\n                : (error\r\n                    ? <ErrrMsg {...error} onClick={this.handleReturnToOrder} />\r\n                    : <IsCompleted {...other_props} />)}\r\n        </div>)\r\n    }\r\n}\r\n\r\nfunction Wait(props) {\r\n    return (<React.Fragment>\r\n        <CircularProgress size={50} />\r\n        <Typography variant=\"h6\">Guardando...</Typography>\r\n    </React.Fragment>);\r\n}\r\nfunction ErrrMsg(props) {\r\n    return (<React.Fragment>\r\n        <Typography variant=\"h6\" color=\"secondary\" >Ocurri un problema al guardar tu orden. Regresa al pedido, verifica tu informacin e intentalo nuevamente.</Typography>\r\n\r\n        <Typography variant=\"body1\" color=\"secondary\" >{props.message}</Typography>\r\n        <Typography variant=\"caption\" color=\"secondary\" >{props.code}{props.status && (\" | \" + props.status)}</Typography>\r\n        {props.statusText && <Typography variant=\"body1\" color=\"secondary\" >{props.statusText}</Typography>}\r\n\r\n        <Button onClick={props.onClick} variant=\"outlined\" color=\"primary\" fullWidth style={{ marginTop: 20 }} >\r\n            REGRESAR AL PEDIDO <Edit />\r\n        </Button>\r\n    </React.Fragment>);\r\n}\r\nfunction IsCompleted(props) {\r\n    const ws = CreateWSMessage(props);\r\n    return (<React.Fragment>\r\n        <CheckCircleOutline fontSize=\"large\" style={{ margin: 20 }} />\r\n        <Typography variant=\"h5\">Tu pedido ha sido recibido!</Typography>\r\n        <Typography variant=\"body2\">\r\n            En un momento nos comunicaremos contigo para coordinar la entrega de tu pedido.\r\n            Mantente pendiente a tu telefono.\r\n     </Typography>\r\n        <Button onClick={ev => window.location.replace(window.location.pathname)} style={{ margin: 10 }} variant=\"contained\" color=\"primary\">NUEVO PEDIDO</Button>\r\n        {ws && (<Button target=\"_blank\" style={{ margin: 10 }} variant=\"outlined\" color=\"secondary\" component=\"a\" href={ws}>\r\n            CHATEA CON NOSOTROS\r\n            <img alt=\"Whatsapp\" src=\"./ws.png\" style={{ height: 20, width: 20, marginLeft: 5 }}></img>\r\n        </Button>)}\r\n    </React.Fragment>);\r\n}\r\n\r\nfunction CreateWSMessage(info) {\r\n    const { ws_phone, ws_msg, contactData, orderNumber } = info;\r\n    if (!ws_phone || !ws_msg) return \"\";\r\n    const final_msg = ws_msg\r\n        .replace(/__NAME__/g, (contactData || {}).nombre).\r\n        replace(/__ORDER_NUMBER__/g, orderNumber || \"\");\r\n    return \"https://api.whatsapp.com/send?\" +\r\n        (`phone=${ws_phone}&`) +\r\n        `text=${encodeURIComponent(final_msg)}`;\r\n\r\n}","import React from \"react\";\r\n\r\nexport default function (Component, step) {\r\n    return class extends React.Component {\r\n        state = {\r\n            render: true\r\n        }\r\n        constructor(props) {\r\n            super(props);\r\n            const moveToStep = props.onValidate(step);\r\n            if (moveToStep >= 0) {\r\n                props.history.push(\"/\" + moveToStep);\r\n                this.state.render = false;\r\n            }\r\n        }\r\n        render() {\r\n            if (!this.state.render) return null;\r\n            return <Component stepIndex={step} {...this.props} />\r\n        }\r\n    }\r\n}\r\n","import React from 'react';\nimport { Paper, Stepper, Step, StepLabel, Button, CircularProgress, Typography } from '@material-ui/core';\nimport { Switch, Route, withRouter, HashRouter, Redirect, Prompt } from \"react-router-dom\";\nimport {\n  ReceiptOutlined, PlaceOutlined, PersonOutlined, AddShoppingCartOutlined,\n  Receipt, Place, Person, ShoppingCart, ArrowBack\n} from '@material-ui/icons';\n\nimport API from \"./Services/API\";\nimport * as prefs from \"./Services/Preferences\";\nimport State from \"./App.state\";\n\nimport A from './Components/TakeOrder';\nimport B from './Components/ConfirmOrder';\nimport C from './Components/ContactData';\nimport D from './Components/Location';\nimport E from './Components/Done';\nimport WithValidate from './HOCs/WithValidate';\nimport ValidateInput from './Services/ValidateInput';\n\nconst TakeOrder = WithValidate(A, 0);\nconst ConfirmOrder = WithValidate(B, 1);\nconst ContactData = WithValidate(C, 2);\nconst Location = WithValidate(D, 3);\nconst Done = WithValidate(E, 4);\n\nconst STEPS = [\n  { t: \"Elige tus productos\", icon: AddShoppingCartOutlined, currentIcon: ShoppingCart },\n  { t: \"Confirma tu pedido\", icon: ReceiptOutlined, currentIcon: Receipt },\n  { t: \"Registra tus datos\", icon: PersonOutlined, currentIcon: Person },\n  { t: \"Ingresa tu ubicacin\", icon: PlaceOutlined, currentIcon: Place }\n];\n\nclass App extends React.Component {\n  state = new State();\n  constructor(props) {\n    super(props);\n    this.handleOptionOpened = this.handleOptionOpened.bind(this);\n    this.handleItemChange = this.handleItemChange.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleInvoiceDataChange = this.handleInvoiceDataChange.bind(this);\n    this.handlePositionChanged = this.handlePositionChanged.bind(this);\n\n    this.handleGuardar = this.handleGuardar.bind(this);\n\n    this.validateStep = this.validateStep.bind(this);\n    this.handleValidateStep = this.handleValidateStep.bind(this);\n    this.handleNextClick = this.handleNextClick.bind(this);\n\n    this.state.contactData = prefs.Get(\"contactData\") || this.state.contactData;\n    this.state.invoiceData = prefs.Get(\"invoiceData\") || this.state.invoiceData;\n    this.state.direccion = prefs.Get(\"direccion\") || this.state.direccion;\n  }\n  handleValidateStep(step) {\n    // CUANDO SE MUEVE EL PEDIDO, POR EJEMPLO HACIA ATRAS, BORRO TODO Y COMIENZO DE 0\n    if (!(window.location.href.indexOf(\"http://localhost\") === 0)) {\n      if (this.state.orderNumber) {\n        const state = { ...new State(), loading: false, productList: [...this.state.productList] };\n        state.contactData = prefs.Get(\"contactData\") || state.contactData;\n        state.invoiceData = prefs.Get(\"invoiceData\") || state.invoiceData;\n        state.direccion = prefs.Get(\"direccion\") || state.direccion;\n        this.setState(state);\n        return 0;\n      }\n    }\n    var prevstep = step - 1;\n    var goToStep = undefined;\n    if (step >= 0) {\n      while (prevstep >= 0) {\n        let msg = this.validateStep(prevstep);\n        if (msg) goToStep = prevstep;\n        prevstep--;\n      }\n    }\n    return goToStep;\n  }\n  validateStep(step) {\n    if (step === 0 || step === 1) {\n      if (!this.state.items.length)\n        return \"Para continuar seleccione la menos un producto\";\n    }\n    if (step === 1) {\n      if (!this.state.forma_pago) return \"Seleccione el Mtodo de Pago\";\n    }\n    if (step === 2 && this.state.contactData) {\n      const x = this.state.contactData;\n      if (!x.nombre) return \"Agregue un nombre de contacto\";\n      if (!x.telefono) return \"Agregue un telefono de contacto\";\n      let msg = ValidateInput.tel(x.telefono);\n      if (msg) return msg;\n      msg = ValidateInput.email(x.email);\n      if (msg) return msg;\n    }\n    if (step === 3 && this.state.direccion) {\n      const x = this.state.direccion;\n      if (!x.position) return \"Confirme su ubicacin en el mapa.\";\n      if (!x.numero) return \"Agregue un nmero de casa/local de la direccin de entrega.\";\n      if (!x.referencia) return \"Agregue la referencia de la direccin de entrega.\";\n    }\n    return;\n  }\n  componentDidMount() {\n    API.GetStoreData().then(x =>\n      this.setState({ ...x })\n    ).then(_ =>\n      API.GetProducts().then(products => {\n        let productList = products.map(item => {\n          var pvpWithTaxes = 0;\n          if (item.pvp) pvpWithTaxes = item.pvp;\n          if (item.pagaIva) pvpWithTaxes += (item.pvp * 12 / 100);\n          item.pvpWithTaxes = pvpWithTaxes;\n          return item;\n        });\n        this.setState({\n          productList,\n          loading: false\n        }, () => console.info(\"Se han cargado los productos al estado\"))\n      })\n    ).catch(ex => {\n      console.dir(ex);\n      if (ex.status === 404) return this.setState({ loading: false, products: [] });\n      this.setState({ loading: false, error: { ...ex } });\n    });\n  }\n  handleOptionOpened(index) {\n    // esto de errGuardar lo pongo en caso de que \n    // el pedido se haya guardado, y haya fallado\n    // y se decide ir atras a ver qu est mal con el pedido.\n    // entonces errGuardar vuelve a NULL\n    this.setState({ activeStep: index, errGuardar: null });\n  }\n  handleInputChange(event) {\n    const { name, value } = event.currentTarget;\n    this.setState(prev => {\n      const state = { ...prev };\n      if (name.indexOf(\".\") >= 0) {\n        const levels = name.split(\".\");\n        const key = levels.pop();\n        let reference = state;\n        for (let i = 0; i < levels.length; i++) {\n          reference = reference[levels[i]];\n        }\n        reference[key] = value;\n      } else {\n        state[name] = value;\n      }\n      return state;\n    });\n  }\n  handleItemChange(item) {\n    let PrevItem = this.state.items.find(x => x.id === item.id);\n    if (!PrevItem && item.cantidad) {\n      const items = [...this.state.items];\n      items.push(item);\n      return this.setState({ items });\n    }\n    if (PrevItem) {\n      const items = [...this.state.items];\n      let PrevIndex = items.indexOf(PrevItem);\n      if (item.cantidad) {\n        items[PrevIndex] = item;\n      } else {\n        items.splice(PrevIndex, 1);\n      }\n      this.setState({ items });\n    }\n  }\n  handleInvoiceDataChange(invoiceData) {\n    this.setState({ invoiceData });\n    if (invoiceData) {\n      prefs.Set(\"invoiceData\", JSON.stringify(invoiceData));\n    } else {\n      prefs.Set(\"invoiceData\");\n    }\n  }\n  handlePositionChanged(new_position) {\n    this.setState(prev => {\n      const state = { ...prev };\n      state.direccion = { ...state.direccion };\n      state.direccion.position = new_position;\n      return state;\n    });\n  }\n  handleNextClick() {\n    const { contactData, direccion, activeStep } = this.state;\n    if (activeStep === 2 && contactData)\n      prefs.Set(\"contactData\", JSON.stringify(contactData));\n\n    if (activeStep === 3 && direccion)\n      prefs.Set(\"direccion\", JSON.stringify(direccion));\n  }\n  handleGuardar(index) {\n    this.handleOptionOpened(index);\n    this.setState({ loading: \"guardar\", errGuardar: null });\n\n    return API.SaveOrder(this.state).then(order => {\n      this.setState({ loading: false, orderNumber: order.numero, errGuardar: null });\n    }).catch(ex => {\n      this.setState({ loading: false, errGuardar: ex });\n    });\n  }\n  render() {\n    const { activeStep, productList, loading, error,\n      items, forma_pago, nota,\n      invoiceData, contactData,\n      direccion,\n      errGuardar, orderNumber, ws_phone, ws_msg\n    } = this.state;\n    return (\n      <HashRouter>\n        <Paper style={{\n          maxHeight: \"100%\",\n          minHeight: \"100%\",\n          margin: \"auto\",\n          maxWidth: 700,\n          display: \"flex\",\n          flexDirection: \"column\"\n        }}>\n\n          <Stepper className=\"hide-on-min-height\" alternativeLabel activeStep={activeStep}>\n            {STEPS.map((x, i) => generateStep(x, i, activeStep))}\n          </Stepper>\n          {loading\n            ? null\n            : <Typography variant=\"h6\" className=\"show-on-min-height\" style={{\n              textAlign: \"center\",\n              textTransform: \"uppercase\",\n              background: \"#3f51b5\",\n              color: \"white\"\n            }}>\n              {(STEPS[activeStep] || {}).t}\n            </Typography>}\n\n          <div style={{ flex: 1, overflow: \"hidden\", display: \"flex\", flexDirection: \"column\" }}>\n            {error\n              ? (<div style={{ flex: 1, textAlign: \"center\", padding: 20 }}>\n                <Typography variant=\"h6\" color=\"secondary\">{error.message}</Typography>\n                <Button fullWidth style={{ marginTop: 20, marginBottom: 20 }} onClick={x => window.location.reload()} variant=\"outlined\" color=\"primary\">\n                  REINTENTAR\n                  </Button>\n              </div>)\n              : (loading === \"data\"\n                ? (<div style={{ flex: 1, textAlign: \"center\", padding: 20 }}>\n                  <CircularProgress size={40} />\n                  <Typography color=\"primary\" variant=\"h6\">Obteniendo informacin de la Tienda...</Typography>\n                </div>)\n                : (<React.Fragment>\n                  {loading\n                    ? <Prompt message=\"Hay un proceso en progreso, no deberia salir hasta que se complete. Est seguro de salir?\" />\n                    : null}< Switch >\n                    <Route path=\"/0\"\n                      render={props => <TakeOrder\n                        {...props}\n                        onValidate={this.handleValidateStep}\n                        onMounted={this.handleOptionOpened}\n                        onItemChange={this.handleItemChange}\n                        choosenItems={items}\n                        productList={productList}\n                      />}\n                    />\n                    <Route path=\"/1\"\n                      render={props => <ConfirmOrder\n                        {...props}\n                        productList={productList}\n                        onValidate={this.handleValidateStep}\n                        onMounted={this.handleOptionOpened}\n                        onItemChange={this.handleItemChange}\n                        onInputChange={this.handleInputChange}\n                        items={items}\n                        nota={nota}\n                        forma_pago={forma_pago}\n                      />}\n                    />\n                    <Route path=\"/2\"\n                      render={props =>\n                        <ContactData\n                          {...props}\n                          onValidate={this.handleValidateStep}\n                          invoiceData={invoiceData}\n                          data={contactData}\n                          onInputChange={this.handleInputChange}\n                          onInvoiceDataChange={this.handleInvoiceDataChange}\n                          onMounted={this.handleOptionOpened}\n                        />}\n                    />\n                    <Route path=\"/3\" render={props =>\n                      (<Location\n                        {...props}\n                        onValidate={this.handleValidateStep}\n                        API_KEY={this.state.G_M_K}\n                        onMounted={this.handleOptionOpened}\n                        onPositionChanged={this.handlePositionChanged}\n                        direccion={direccion} onInputChange={this.handleInputChange} />)} />\n                    <Route path=\"/4\"\n                      render={props => (<Done\n                        {...props}\n                        ws_msg={ws_msg}\n                        ws_phone={ws_phone}\n                        contactData={contactData}\n                        orderNumber={orderNumber}\n                        onValidate={this.handleValidateStep}\n                        onMounted={this.handleGuardar}\n                        loading={loading}\n                        error={errGuardar}\n                        saved={Boolean(orderNumber)}\n                      />)} />\n                    <Redirect exact from=\"/\" to=\"/0\"></Redirect>\n                    <Redirect exact from=\"\" to=\"/0\"></Redirect>\n                  </Switch >\n                  {STEPS.length === this.state.activeStep\n                    ? null\n                    : <RouterButton\n                      onClick={this.handleNextClick}\n                      disabled={Boolean(this.validateStep(this.state.activeStep))}\n                      activeStep={this.state.activeStep}\n                      errMsg={this.validateStep(this.state.activeStep)}\n                    />}\n                </React.Fragment>))}\n          </div>\n        </Paper>\n      </HashRouter >\n    );\n  }\n}\nexport default App;\n\nconst RouterButton = withRouter(NextButton);\n\nfunction NextButton(props) {\n  function fn() {\n    if (props.errMsg) {\n      alert(props.errMsg);\n    } else {\n      props.history.push(\"/\" + (props.activeStep + 1));\n    }\n    props.onClick();\n  }\n  function back() {\n    props.history.push(\"/\" + (props.activeStep - 1));\n  }\n  return (<div style={{ width: \"calct(100% - 20px)\", display: \"flex\", flexDirection: \"row\", textAlign: \"center\", margin: 10, minHeight: 40 }}>\n    {props.activeStep === 0\n      ? null\n      : <Button onClick={back} title=\"Regresar\" color=\"secondary\" variant=\"outlined\">\n        <ArrowBack />\n      </Button>}\n    <Button\n      onClick={fn}\n      disabled={props.disabled}\n      color=\"primary\"\n      type=\"button\"\n      variant=\"outlined\"\n      style={{ flex: 1 }}\n      size=\"large\">\n      CONTINUAR\n  </Button>\n  </div>)\n}\n\nfunction generateStep(item, index, current) {\n  let data = {};\n  if (current === index) data = { icon: <item.currentIcon /> };\n  if (index > current) data = { icon: <item.icon /> };\n  return (<Step key={index} >\n    <StepLabel {...data} >{item.t}</StepLabel>\n  </Step >)\n}","import React from \"react\";\r\nimport { Typography, Button } from \"@material-ui/core\";\r\nimport { MyLocation, LocationDisabled } from \"@material-ui/icons\";\r\n\r\n// aqui cargo todo lo relacionado a la informacin inicial antes de comenzar!\r\nexport default class extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const { empresa, error } = props;\r\n        if (empresa) {\r\n            this.state.logoSrc = empresa.logoSrc;\r\n            this.state.slogan = empresa.slogan;\r\n            this.state.titulo = empresa.titulo;\r\n        }\r\n        if (error) {\r\n            if (error.status === 404) {\r\n                this.state.error = \"La tienda que buscas no existe. Revisa tu enlace.\";\r\n                this.state._error = \"Ingresaste a: \" + window.location.href;\r\n            } else {\r\n                this.state.error = error.message;\r\n                this.state.code = error.code || error.status;\r\n                this.state._error = error.statusText;\r\n            }\r\n        }\r\n    }\r\n    state = { begin: true }\r\n    begin = () => {\r\n        this.setState({ begin: false });\r\n        if (!navigator.geolocation) return this.setState({\r\n            error: \"Tu navegador no soporta la funcin de Ubicacin.\"\r\n        });\r\n        navigator.geolocation.getCurrentPosition(position => {\r\n            window[\"lat\"] = position.coords.latitude;\r\n            window[\"lon\"] = position.coords.longitude;\r\n            this.props.launch();\r\n        }, error => {\r\n            if (error.code === error.PERMISSION_DENIED) {\r\n                this.setState({\r\n                    error: \"No se ha podido establecer tu ubicacin. Permitenos acceder a tu ubicacin para tener una mejor experiencia.\",\r\n                    _error: error.message, code: error.code\r\n                })\r\n            } else if (error.code === error.POSITION_UNAVAILABLE) {\r\n                this.setState({\r\n                    error: \"Tu navegador no nos permite encontrar tu ubicacin.\",\r\n                    _error: error.message, code: error.code\r\n                })\r\n            } else {\r\n                this.setState({ error: error.message, code: error.code });\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { logoSrc, slogan, titulo, error, _error, begin } = this.state;\r\n        return (<div style={{ width: \"calc(100% - 20px)\", maxWidth: 600, textAlign: \"center\", paddingTop: 30, margin: \"auto\" }}>\r\n            {\r\n                begin ? (\r\n                    error ?\r\n                        (<React.Fragment>\r\n                            <Typography color=\"secondary\" variant=\"h6\">{error}</Typography>\r\n                            <Typography color=\"secondary\" variant=\"subtitle2\">{_error}</Typography>\r\n                        </React.Fragment>)\r\n                        : <React.Fragment>\r\n                            {logoSrc && <img src={logoSrc} style={{ maxWidth: \"100%\", maxHeight: 350, marginTop: 10, marginBottom: 10 }} />}\r\n                            <Typography variant=\"h6\">{titulo || \"Cargando...\"}</Typography>\r\n                            {slogan && <Typography variant=\"subtitle2\">{slogan}</Typography>}\r\n                            {(titulo || logoSrc)\r\n                                && (<Button color=\"primary\" onClick={this.begin} fullWidth variant=\"outlined\" style={{ marginTop: 20 }} >EMPECEMOS!</Button>)}\r\n                        </React.Fragment >)\r\n                    : (error\r\n                        ? (<div style={{ width: \"100%\" }}>\r\n                            <LocationDisabled fontSize=\"large\" />\r\n                            <Typography variant=\"body2\">{error}</Typography>\r\n                            <Typography variant=\"body1\">{_error}</Typography>\r\n                            <Button\r\n                                style={{ marginTop: 20, wordWrap: \"break-word\" }}\r\n                                onClick={() => this.props.launch()}\r\n                                variant=\"outlined\"\r\n                                color=\"primary\"\r\n                            >ENTRAR DE TODAS FORMAS</Button>\r\n                        </div>) : (<div style={{ width: \"100%\" }}>\r\n                            <Typography variant=\"h5\">\r\n                                Primero necesitamos que nos permitas acceder a tu ubicacin\r\n                    </Typography>\r\n                            <MyLocation fontSize=\"large\" />\r\n                        </div>))\r\n            }\r\n        </div>)\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport Bootstrapper from './Bootstrapper';\nimport API from \"./Services/API\";\n\nconst LaunchApp = () => ReactDOM.render(<App />, document.getElementById('app'));\nfunction LaunchReact(empresa, error) {\n    ReactDOM.render(<Bootstrapper empresa={empresa} error={error} launch={LaunchApp} />, document.getElementById('app'));\n}\n\nAPI.GetStoreData()\n    .then(x => LaunchReact(x))\n    .catch(x => LaunchReact(null, x));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();"],"sourceRoot":""}