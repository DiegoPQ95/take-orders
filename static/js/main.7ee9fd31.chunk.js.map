{"version":3,"sources":["Services/Totales.js","Services/API.js","Services/Preferences.js","App.state.js","Components/ProductDetails.js","Components/TakeOrder.js","Components/ConfirmOrder.js","Services/ValidarIdentificacion.js","Services/ValidateInput.js","Components/InvoiceData.js","Components/ContactData.js","Components/Location.js","Components/Done.js","HOCs/WithValidate.js","App.js","Bootstrapper.js","index.js"],"names":["Totales","detalle","mutable","base0","baseIva","subtotal","iva","servicio","descuentoTotal","total","i","length","d","cantidad","neto","pvp","pagaIva","round","total_con_decimales","total_redondeado","console","info","isNaN","propina","URL","store","_window$location","window","location","href","origin","data","substring","split","indexOf","replace","Fetch","URI","options","fetch","method","cache","mode","then","response","ok","json","clone","catch","text","x","message","status","statusText","obj","Object","objectSpread","ex","API","GetProducts","GetProduct","ID","SaveOrder","state","contactData","direccion","invoiceData","items","spend_time","Date","valueOf","start_timestamp","factura_con_datos","identificacion","razonsocial","totals","ORDER","nota","forma_pago","lat","position","lng","direcion","numero_direccion","numero","referencia","documento_factura","documento","identificacion_factura","razonsocial_factura","direccion_factura","telefono_factura","telefono","email_factura","email","taking_order_time","body","JSON","stringify","headers","Content-Type","Access-Control-Allow-Origin","GetStoreData","Set","key","item","localStorage","setItem","log","Get","result","getItem","parse","warn","undefined","activeStep","productList","nombre","orderNumber","ws_phone","ws_message","loading","requireContactCedula","ProductDetails","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","descripcion","pvpWithTaxes","imgSrc","handleInput","bind","assertThisInitialized","handleDone","handleCantidad","handleExit","match","params","id","choosenItems","find","_this2","setState","alert","event","name","currentTarget","prev","newState","target","defineProperty","value","onDone","_this$props","history","new_path","path","substr","push","react_default","a","createElement","Fragment","index_es","open","classes","paper","loadingPaper","style","marginTop","marginBottom","textAlign","size","variant","dialogPaper","padding","maxWidth","maxHeight","onClick","color","float","right","top","icons_index_es","src","alt","width","display","flexDirection","margin","flex","toFixed","QuantityButton","marginLeft","marginRight","disabled","inputProps","maxLength","onChange","placeholder","label","multiline","rows","fullWidth","type","React","Component","withStyles","theme","withRouter","height","border","children","styles","root","flexWrap","justifyContent","overflow","gridList","transform","_default","onMounted","stepIndex","handleClick","onItemChange","products","reduce","current","exists","group","grupo","overflowX","overflowY","map","p","index","Carousel","title","react_router","Components_ProductDetails","PureComponent","cols","found","TileBar","actionPosition","subtitle","actionIcon","Tile","cursor","generateCarouselItem","url","paddingLeft","paddingRight","dense","button","primary","secondary","generateTotals","onInputChange","select","SelectProps","native","ValidarIdentificacion","vacioEstaBien","exito","error","mensaje","esValido","parseFloat","isNumber","p1","p2","p3","p4","p5","p6","p7","p8","p9","residuo","pri","pub","nat","modulo","d1","d2","d3","d4","d5","d6","d7","d8","d9","d10","isDigit","d11","d12","d13","digitoVerificador","validadorCedulaRuc","char","ValidateInput","tel","trim","twoParts","textField","content","paddingTop","paddingBottom","InvoiceData","razonSocial","hasOwnProperty","handleChange","_event$target","preventDefault","msg","b","c","e","validateMsg","cedula_err","cedula_props","helperText","rs_err","tel_props","tel_err","email_props","email_err","hay_errores","onSubmit","assign","textFiel","telefono_error","email_error","_Object$assign","telefono_props","autoFocus","concat","render","r_props","Components_InvoiceData","onInvoiceDataChange","refs","STORE_LATLNG","defaultCenter","latLng","defaultZoom","bounds","enableLocationBtn","handleMapClick","handlePlacesChanged","handleSearchBoxMounted","handleMapMounted","handleBoundsChanged","handleLocationClick","ref","searchBox","getBounds","places","getPlaces","google","maps","LatLngBounds","forEach","place","geometry","viewport","union","extend","placeLocations","placeLoc","center","onPositionChanged","navigator","permissions","query","geolocation","getCurrentPosition","coords","latitude","longitude","isCurrentLocation","err","markerName","_this3","API_KEY","_this$state","Location_Map","googleMapURL","containerElement","loadingElement","mapElement","onPlacesChanged","onSearchBoxMounted","onMapMounted","marker","onBoundsChanged","searchBoxBounds","onLocationClick","Map","withScriptjs","withGoogleMap","lib","disableDefaultUI","zoomControl","clickableIcons","SearchBox_default","controlPosition","ControlPosition","TOP_LEFT","stopPropagation","boxSizing","borderRadius","boxShadow","fontSize","outline","textOverflow","minWidth","background","MarkerWithLabel","labelAnchor","Point","labelStyle","labelVisible","Boolean","handleReturnToOrder","other_props","objectWithoutProperties","Wait","ErrrMsg","IsCompleted","code","ws","ws_msg","final_msg","encodeURIComponent","CreateWSMessage","ev","pathname","component","WithValidate","step","_React$Component","_class2","moveToStep","onValidate","inherits","createClass","TakeOrder","A","ConfirmOrder","B","ContactData","C","Location","D","Done","E","STEPS","t","icon","AddShoppingCartOutlined","currentIcon","ShoppingCart","ReceiptOutlined","Receipt","PersonOutlined","Person","PlaceOutlined","Place","App","State","handleOptionOpened","handleItemChange","handleInputChange","handleInvoiceDataChange","handlePositionChanged","handleGuardar","validateStep","handleValidateStep","handleNextClick","prefs","toConsumableArray","prevstep","goToStep","_","dir","errGuardar","_event$currentTarget","levels","pop","reference","PrevItem","PrevIndex","splice","new_position","order","_this4","_this$state2","react_router_dom","minHeight","className","alternativeLabel","generateStep","textTransform","reload","G_M_K","saved","exact","from","to","RouterButton","errMsg","begin","launch","PERMISSION_DENIED","_error","POSITION_UNAVAILABLE","empresa","logoSrc","slogan","titulo","wordWrap","LaunchApp","ReactDOM","src_App","document","getElementById","LaunchReact","Bootstrapper_default"],"mappings":"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","file":"static/js/main.7ee9fd31.chunk.js","sourcesContent":["const PORCENTAJE_IVA = 12;\r\nexport default function (detalle) {\r\n    const mutable = {\r\n        detalle: detalle,\r\n        base0: 0,\r\n        baseIva: 0,\r\n        subtotal: 0,\r\n        iva: 0,\r\n        servicio: 0,\r\n        // propina: 0, // propina es ingresado\r\n        descuentoTotal: 0,\r\n        total: 0\r\n    };\r\n\r\n    for (var i = 0; i < detalle.length; i++) {\r\n        const d = detalle[i];\r\n        if (d.cantidad > 0) {\r\n            let neto = d.cantidad * d.pvp;\r\n            if (d.pagaIva) {\r\n                mutable.baseIva = mutable.baseIva + neto;\r\n            } else {\r\n                mutable.base0 = mutable.base0 + neto;\r\n            }\r\n        }\r\n    }\r\n    mutable.base0 = mutable.base0.round(2);\r\n\r\n    let iva = 0;\r\n    let baseIva = 0;\r\n\r\n    if (PORCENTAJE_IVA && mutable.baseIva) {\r\n        iva = mutable.baseIva * PORCENTAJE_IVA / 100;\r\n        baseIva = mutable.baseIva;\r\n        mutable.iva = iva.round(2);\r\n    }\r\n    mutable.baseIva = mutable.baseIva.round(2);\r\n\r\n    let total_con_decimales = (iva + baseIva).round(2);\r\n    let total_redondeado = mutable.baseIva + mutable.iva;\r\n    if ((total_redondeado - total_con_decimales).round(2) === 0.01) {\r\n        // manualmente le quito ese 1 centavo que esta demas!\r\n        console.info(\"Le quito un centavo por diferencia\", total_con_decimales, total_redondeado)\r\n        mutable.baseIva = mutable.baseIva - 0.01;\r\n    }\r\n\r\n    mutable.servicio = mutable.servicio.round(2);\r\n    mutable.subtotal = (mutable.base0 + mutable.baseIva).round(2);\r\n    // aqui tengo que borrar la columna de propina\r\n    mutable.total = mutable.subtotal + mutable.servicio + mutable.iva + (isNaN(mutable.propina) ? 0 : mutable.propina);\r\n    // a veces, en la suma aparecen demasiados decimales\r\n    // por lo tanto lo redondeo (que tambien hace .toFixed)\r\n    mutable.total = mutable.total.round(2);\r\n    return mutable;\r\n}","import Totales from \"./Totales\";\r\n\r\n/*const URL = (window.location.href.indexOf(\"http://localhost\") === 0)\r\n    ? \"http://localhost:10000/data/\"\r\n    : (window.location.protocol === \"https:\"\r\n        ? \"https://orders-runfoodapp.rj.r.appspot.com/data/\"\r\n        : \"http://runfoodapp.ddns.net:10000/data/\");*/\r\nconst URL = \"https://orders.runfoodapp.com/data/\";\r\nfunction store() {\r\n    const { href, origin } = window.location;\r\n    const data = href.substring(origin.length, href.length).split(\"/\");\r\n    for (let i = 0; i < data.length; i++) {\r\n        if (data[i].indexOf(\"@\") === 0) {\r\n            return data[i].replace(/#/g, \"\").replace(\"@\", \"\");\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\nconst API = {\r\n    GetProducts() {\r\n        return Fetch(URL + store() + \"/product\");\r\n    },\r\n    GetProduct(ID) {\r\n        return Fetch(URL + store() + \"/product/\" + ID);\r\n    },\r\n    SaveOrder(state) {\r\n        let { contactData, direccion, invoiceData, items } = state;\r\n\r\n        if (!contactData) contactData = {};\r\n        if (!direccion) direccion = {};\r\n        if (!invoiceData) invoiceData = {};\r\n\r\n        let spend_time = new Date().valueOf() - state.start_timestamp;\r\n        let factura_con_datos = invoiceData.identificacion.length && invoiceData.razonsocial.length;\r\n        const totals = Totales(items);\r\n\r\n        const ORDER = {\r\n            ...contactData,\r\n            nota: state.nota,\r\n            forma_pago: state.forma_pago,\r\n\r\n            lat: direccion.position.lat,\r\n            lng: direccion.position.lng,\r\n            direcion: direccion.direccion,\r\n            numero_direccion: direccion.numero,\r\n            referencia: direccion.referencia,\r\n\r\n            factura_con_datos,\r\n            documento_factura: invoiceData.documento,\r\n            identificacion_factura: invoiceData.identificacion,\r\n            razonsocial_factura: invoiceData.razonsocial,\r\n            direccion_factura: invoiceData.direccion,\r\n            telefono_factura: invoiceData.telefono,\r\n            email_factura: invoiceData.email,\r\n\r\n            ...totals,\r\n\r\n            taking_order_time: spend_time\r\n        }\r\n        return Fetch(URL + store() + \"/order\", {\r\n            body: JSON.stringify(ORDER),\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Access-Control-Allow-Origin': '*'\r\n            }\r\n        });\r\n    },\r\n    GetStoreData() {\r\n        return Fetch(URL + store() + \"?withgooglemapskey=1\");\r\n    }\r\n}\r\n\r\nfunction Fetch(URI, options) {\r\n    const DEFAULTS = {\r\n        method: \"GET\",\r\n        cache: \"reload\",\r\n        mode: \"cors\"\r\n    };\r\n    return fetch(URI, options || DEFAULTS).then(response => {\r\n        if (response.ok) {\r\n            return response.json();\r\n        } else {\r\n            return response.clone().json()\r\n                .catch(() => {\r\n                    return response.text().then(x => {\r\n                        throw {\r\n                            message: x,\r\n                            status: response.status,\r\n                            statusText: response.statusText\r\n                        }\r\n                    })\r\n                }).then(obj => {\r\n                    throw {\r\n                        ...obj,\r\n                        status: response.status,\r\n                        statusText: response.statusText\r\n                    }\r\n                })\r\n        }\r\n    }).catch(ex => {\r\n        if (ex.message === \"Failed to fetch\") {\r\n            throw {\r\n                message: \"Este servicio no se encuentra disponible por el momento. Intentelo ms tarde.\",\r\n                status: 0\r\n            }\r\n        }\r\n        if (!ex.message) ex.message = ex.statusText;\r\n        throw ex;\r\n    });\r\n}\r\nexport default API;","export function Set(key, item) {\r\n    window.localStorage.setItem(key, item);\r\n    console.log(\"Preferences.\" + key + \" stored\");\r\n}\r\nexport function Get(item) {\r\n    let result = window.localStorage.getItem(item);\r\n    try {\r\n        result = JSON.parse(result);\r\n    } catch (ex) {\r\n        console.warn(\"Preferences.\" + item, ex);\r\n    }\r\n    if (result === \"true\" || result === \"false\") return result === \"true\";\r\n    console.log(\"Preferences.\" + item + \" sent\", result);\r\n    if (result === null || result === undefined) return null;\r\n    return result;\r\n}","export default class {\r\n    activeStep = 0;\r\n    items = [];\r\n    productList = [];\r\n    forma_pago = 1;\r\n    nota = \"\";\r\n    contactData = {\r\n        telefono: \"\",\r\n        nombre: \"\",\r\n        email: \"\",\r\n        documento: 2,\r\n        identificacion: \"\"\r\n    };\r\n    invoiceData = {\r\n        documento: 1,\r\n        identificacion: \"\",\r\n        razonsocial: \"\",\r\n        telefono: \"\",\r\n        direccion: \"\",\r\n        email: \"\"\r\n    };\r\n    direccion = {\r\n        numero: \"\",\r\n        referencia: \"\",\r\n        position: null\r\n    };\r\n    start_timestamp = new Date().valueOf();\r\n    orderNumber = null;\r\n    ws_phone = null;\r\n    ws_message = null;\r\n    loading = \"data\";\r\n\r\n    requireContactCedula = false;\r\n}","import React from \"react\";\r\nimport { Dialog, DialogContent, Typography, IconButton, TextField, Button, DialogActions, Fab, CircularProgress, withStyles } from \"@material-ui/core\";\r\nimport { Add, Remove, Close } from \"@material-ui/icons\";\r\nimport { withRouter } from \"react-router-dom\";\r\nconst styles = theme => ({\r\n    dialogPaper: {\r\n        maxWidth: 450,\r\n        maxHeight: \"calc(100% - 20px)\",\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    },\r\n    loadingPaper: {\r\n        marginLeft: 10,\r\n        marginRight: 10,\r\n        width: \"calc(100% - 20px)\",\r\n        maxWidth: 450\r\n    }\r\n});\r\n\r\nclass ProductDetails extends React.Component {\r\n    state = {\r\n        nombre: \"\",\r\n        descripcion: \"\",\r\n        pvpWithTaxes: 0,\r\n        cantidad: 1,\r\n        imgSrc: \"\",\r\n        nota: \"\",\r\n        loading: true\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleInput = this.handleInput.bind(this);\r\n        this.handleDone = this.handleDone.bind(this);\r\n        this.handleCantidad = this.handleCantidad.bind(this);\r\n        this.handleExit = this.handleExit.bind(this);\r\n        this.ID = props.match.params.id;\r\n        if (props.choosenItems && props.choosenItems.length) {\r\n            let item = props.choosenItems.find(x => x.id === (+this.ID));\r\n            if (item) this.state = { ...item, loading: false };\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.loading) return;\r\n        const { productList } = this.props;\r\n        if (productList && productList.length) {\r\n            const data = productList.find(x => x.id === (+this.ID));\r\n            if (data)\r\n                return this.setState({ loading: false, ...data });\r\n        }\r\n        alert(\"No se encontr el producto en la lista. Recargue la pantalla.\");\r\n    }\r\n    handleCantidad(event) {\r\n        const name = event.currentTarget.name;\r\n        this.setState(prev => {\r\n            const newState = { ...prev };\r\n            let cantidad = newState.cantidad;\r\n            if (name === \"add\") cantidad = (cantidad || 0) + 1;\r\n            if (name === \"remove\") cantidad = cantidad <= 0 ? 0 : (cantidad - 1);\r\n            newState.cantidad = cantidad;\r\n            console.log(\"Product Details new cantidad \", cantidad);\r\n            return newState;\r\n        });\r\n    }\r\n    handleInput(event) {\r\n        const { target } = event;\r\n        this.setState({ [target.name]: target.value });\r\n    }\r\n    handleDone() {\r\n        this.props.onDone({ ...this.state });\r\n        this.handleExit();\r\n    }\r\n    handleExit() {\r\n        const { match, history } = this.props;\r\n        const new_path = match.path.substr(0, match.path.indexOf(\"/view-product/:id\"))\r\n        history.push(new_path);\r\n    }\r\n    render() {\r\n        console.log(\"Product Details rendered\");\r\n        const { state } = this;\r\n        return (<React.Fragment>\r\n            {state.loading && <Dialog open={true} classes={{ paper: this.props.classes.loadingPaper }}>\r\n                <div style={{ marginTop: 100, marginBottom: 100, textAlign: \"center\" }}>\r\n                    <CircularProgress size={30} />\r\n                    <Typography variant=\"h5\">Cargando...</Typography>\r\n                </div>\r\n            </Dialog>}\r\n            <Dialog open={!state.loading} classes={{ paper: this.props.classes.dialogPaper }} >\r\n                <DialogContent style={{ padding: 0, maxWidth: 350, maxHeight: \"100%\" }}  >\r\n                    <Fab onClick={this.handleExit} color=\"secondary\" style={{ float: \"right\", right: 10, top: 10, position: \"absolute\" }}>\r\n                        <Close />\r\n                    </Fab>\r\n                    <img style={{ maxWidth: \"100%\", maxHeight: \"40%\" }} src={state.imgSrc || \"\"} alt={state.nombre}></img>\r\n                    <div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\" }}>\r\n                        <Typography style={{ margin: 10, flex: 1 }} variant=\"title\">\r\n                            {state.nombre}\r\n                        </Typography>\r\n                        <Typography style={{ margin: 10 }} variant=\"title\">\r\n                            $ {state.pvpWithTaxes.toFixed(2)}\r\n                        </Typography>\r\n                    </div>\r\n                    <Typography style={{ margin: 10 }} variant=\"body2\">\r\n                        {state.descripcion}\r\n                    </Typography>\r\n                    <div style={{ width: \"100%\", textAlign: \"center\", marginTop: 20, marginBottom: 20 }}>\r\n                        <QuantityButton onClick={this.handleCantidad} name=\"add\">\r\n                            <Add />\r\n                        </QuantityButton>\r\n                        <Typography style={{ display: \"inline-block\", marginLeft: 20, marginRight: 20 }} variant=\"h6\">\r\n                            {state.cantidad || 0}\r\n                        </Typography>\r\n                        <QuantityButton disabled={state.cantidad <= 0} onClick={this.handleCantidad} name=\"remove\">\r\n                            <Remove />\r\n                        </QuantityButton>\r\n                    </div>\r\n                    <div style={{ width: \"95%\", margin: \"auto\" }}>\r\n                        <TextField value={state.nota}\r\n                            inputProps={{ maxLength: 200 }}\r\n                            onChange={this.handleInput}\r\n                            name=\"nota\"\r\n                            color=\"default\"\r\n                            placeholder=\"Ej. Sin Salsa, verduras aparte, etc.\"\r\n                            label=\"Agrega una nota:\"\r\n                            variant=\"outlined\"\r\n                            multiline rows=\"3\" fullWidth />\r\n                    </div>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button type=\"button\" onClick={this.handleDone} color=\"primary\" variant=\"outlined\">AGREGAR</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </React.Fragment>);\r\n    }\r\n}\r\nexport default withStyles(styles)(withRouter(ProductDetails));\r\n\r\nfunction QuantityButton(props) {\r\n    const style = { height: 50, width: 50, border: \"1px solid gray\" };\r\n    if (props.disabled) delete style.border;\r\n    return (<IconButton\r\n        disabled={props.disabled}\r\n        onClick={props.onClick}\r\n        name={props.name} style={style}\r\n    >\r\n        {props.children}\r\n    </IconButton>)\r\n}","import React from \"react\";\r\nimport { Typography, GridList, GridListTile, GridListTileBar } from \"@material-ui/core\";\r\nimport ProductDetails from \"./ProductDetails\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nconst styles = {\r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden'\r\n    },\r\n    gridList: {\r\n        flexWrap: 'nowrap',\r\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n        transform: 'translateZ(0)',\r\n    }\r\n};\r\n\r\nexport default class extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleClick(event) {\r\n        this.props.history.push(this.props.match.path + \"/view-product/\" + event.currentTarget.id);\r\n    }\r\n    render() {\r\n        console.log(\"TakeOrder rendered\");\r\n        const { productList, style, choosenItems, match, onItemChange } = this.props;\r\n        const products = productList.reduce((prev, current) => {\r\n            let exists = prev.find(x => x.group === current.grupo);\r\n            if (!exists) {\r\n                exists = {\r\n                    group: current.grupo,\r\n                    items: []\r\n                }\r\n                prev.push(exists);\r\n            }\r\n            exists.items.push(current);\r\n            return prev;\r\n        }, []);\r\n\r\n        if (!(products && products.length)) {\r\n            return (<div style={{ ...style, textAlign: \"center\" }}>\r\n                <Typography variant=\"h6\">Esta tienda no tiene productos disponibles. Intenta nuevamente despus.</Typography>\r\n            </div>)\r\n        }\r\n        return (<div style={{ ...style, textAlign: \"left\", overflowX: \"hidden\", overflowY: \"auto\" }}>\r\n            {products.map((p, index) =>\r\n                (<Carousel key={index}\r\n                    onClick={this.handleClick}\r\n                    style={{ marginTop: 10, marginBottom: 10 }}\r\n                    title={p.group}\r\n                    items={p.items}\r\n                    choosenItems={choosenItems}\r\n                />))}\r\n            <Route path={match.path + \"/view-product/:id\"} >\r\n                <ProductDetails\r\n                    choosenItems={choosenItems || []}\r\n                    onDone={onItemChange}\r\n                    productList={productList}\r\n                />\r\n            </Route>\r\n        </div>);\r\n    }\r\n}\r\nfunction Carousel(props) {\r\n    return (<div style={{ ...props.style }}>\r\n        <Typography variant=\"h6\" style={{ marginLeft: 10 }}>{props.title}</Typography>\r\n        <GridList cols={2.5} style={styles.gridList}>\r\n            {props.items.map((item) => {\r\n                const found = (props.choosenItems || []).find(x => x.id === item.id);\r\n                return generateCarouselItem(item, found && found.cantidad, props.onClick);\r\n            })}\r\n        </GridList>\r\n    </div>)\r\n}\r\nfunction generateCarouselItem(item, cantidad, onClick) {\r\n    const TileBar = {\r\n        title: item.nombre,\r\n        actionPosition: \"right\",\r\n        subtitle: \"$ \" + item.pvpWithTaxes.toFixed(2)\r\n    }\r\n    if (cantidad) {\r\n        TileBar.actionIcon = <Typography variant=\"body2\" style={{ color: \"#fff\", marginRight: 5 }} >x{cantidad}</Typography>;\r\n    }\r\n    const Tile = {\r\n        cursor: \"pointer\"\r\n    };\r\n    if (cantidad) {\r\n        Tile.border = \"3px dashed #f50057\";\r\n    }\r\n    return (<GridListTile style={Tile} key={item.id} onClick={onClick} id={item.id} color=\"inherit\">\r\n        <img src={item.imgSrc} alt={item.nombre} />\r\n        <GridListTileBar {...TileBar} />\r\n    </GridListTile>);\r\n}","import React from \"react\";\r\nimport { Typography, TextField, List, ListItem, ListItemText, ListItemSecondaryAction } from \"@material-ui/core\";\r\nimport { Route } from \"react-router-dom\";\r\nimport ProductDetails from \"./ProductDetails\";\r\nimport Totales from \"../Services/Totales\";\r\n\r\nexport default class extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleClick(event) {\r\n        const id = event.currentTarget.id;\r\n        this.props.history.push(this.props.match.url + \"/view-product/\" + id);\r\n    }\r\n    render() {\r\n        console.log(\"ConfirmOrder rendered\");\r\n        const { props } = this;\r\n        return (<div style={{ paddingLeft: 10, paddingRight: 10, overflow: \"auto\", flex: 1 }}>\r\n            <List style={{ marginBottom: 10 }} dense={true}>\r\n                {(props.items).map(x => generateRowItem(x, this.handleClick))}\r\n                {generateTotals(props.items)}\r\n            </List>\r\n            <div style={{ width: \"100%\", textAlign: \"center\" }}>\r\n                <TextField\r\n                    label=\"Agrega una nota a tu pedido\"\r\n                    placeholder=\"Ej. Sin cubiertos, sin salas extra, etc.\"\r\n                    multiline\r\n                    name=\"nota\"\r\n                    inputProps={{ maxLength: 200 }}\r\n                    value={props.nota}\r\n                    onChange={props.onInputChange}\r\n                    rows={2}\r\n                    style={{ width: \"95%\", margin: \"auto\", marginBottom: 10, marginTop: 10 }}\r\n                />\r\n\r\n                <TextField\r\n                    label=\"Selecciona tu mtodo de pago\"\r\n                    select\r\n                    value={props.forma_pago}\r\n                    name=\"forma_pago\"\r\n                    onChange={props.onInputChange}\r\n                    variant=\"outlined\"\r\n                    style={{ width: \"95%\", margin: \"auto\", marginBottom: 10, marginTop: 10 }}\r\n                    SelectProps={{ native: true }}\r\n                >\r\n                    <option value={1}>Efectivo</option>\r\n                    <option value={2}>Tarjeta de Crdito/Debito</option>\r\n                </TextField>\r\n            </div>\r\n            <Route path={props.match.path + \"/view-product/:id\"} >\r\n                <ProductDetails productList={props.productList} choosenItems={props.items || []} onDone={props.onItemChange} />\r\n            </Route>\r\n        </div>)\r\n    }\r\n}\r\n\r\nfunction generateRowItem(data, onClick) {\r\n    return (\r\n        <ListItem key={data.id} button onClick={onClick} id={data.id}>\r\n            <ListItemText primary={data.nombre} secondary={data.nota || \"\"} />\r\n            <ListItemSecondaryAction>\r\n                <Typography style={{ margin: 0, padding: 0 }} variant=\"h6\">x{data.cantidad}</Typography>\r\n            </ListItemSecondaryAction>\r\n        </ListItem>)\r\n}\r\nfunction generateTotals(items) {\r\n    const totals = Totales(items);\r\n    return (<React.Fragment>\r\n        <ListItem>\r\n            <ListItemText primary={<Typography variant=\"h5\" style={{ margin: 0, padding: 0 }}>\r\n                {items.length + \" ITEMS\"}\r\n            </Typography>} />\r\n            <ListItemSecondaryAction>\r\n                <Typography style={{ margin: 0, padding: 0 }} variant=\"h5\">\r\n                    ${totals.total.toFixed(2)}\r\n                </Typography>\r\n            </ListItemSecondaryAction>\r\n        </ListItem>\r\n    </React.Fragment>)\r\n}\r\n\r\n","export default function (value, documento) {\r\n    if (!value) value = \"\";\r\n    documento = +documento;\r\n    if (documento === 3) { return; }\r\n    if (documento === 1) {\r\n        if (value.length !== 13) return \"Nmero de RUC debe tener 13 digitos\";\r\n        if (value.length === 13 && value === \"9999999999999\") return;\r\n    }\r\n    if (documento === 2) {\r\n        if (value.length !== 10) return \"Nmero de Cedula debe tener 10 digitos\";\r\n    }\r\n    return validadorCedulaRuc(value, false);\r\n}\r\nfunction validadorCedulaRuc(numero, vacioEstaBien, exito, error) {\r\n    var mensaje = '';\r\n    var esValido = false;\r\n    if (vacioEstaBien && isEmptyOrNull(numero)) {\r\n        mensaje = '';\r\n        esValido = true;\r\n    } else {\r\n        if (isNumber(numero)) {\r\n\r\n            if (numero.length < 10) {\r\n                mensaje = \"El numero de Cedula debe tener 10 dgitos\";\r\n            } else if (numero.length > 10 && numero.length < 13) {\r\n                mensaje = \"El numero de RUC debe tener 13 dgitos\";\r\n            } else if (numero.length > 13) {\r\n                mensaje = \"El numero tiene ms de 13 dgitos\";\r\n            }\r\n\r\n\r\n            var suma = 0;\r\n            var residuo = 0;\r\n            var pri = false;\r\n            var pub = false;\r\n            var nat = false;\r\n            var numeroProvincias = 22;\r\n            var modulo = 11;\r\n\r\n            /* Verifico que el campo no contenga letras */\r\n            var ok = 1;\r\n            /*for (i=0; i numeroProvincias){\r\n            mensaje = 'El cdigo de la provincia (dos primeros dgitos) es invlido'); esValido = fals;\r\n        } */\r\n\r\n            /* Aqui almacenamos los digitos de la cedula en variables. */\r\n            const d1 = numero.substr(0, 1);\r\n            const d2 = numero.substr(1, 1);\r\n            const d3 = numero.substr(2, 1);\r\n            const d4 = numero.substr(3, 1);\r\n            const d5 = numero.substr(4, 1);\r\n            const d6 = numero.substr(5, 1);\r\n            const d7 = numero.substr(6, 1);\r\n            const d8 = numero.substr(7, 1);\r\n            const d9 = numero.substr(8, 1);\r\n            const d10 = numero.substr(9, 1);\r\n            if (!isDigit(d1)) mensaje = \"El digito 1 no es un nmero\";\r\n            if (!isDigit(d2)) mensaje = \"El digito 2 no es un nmero\";\r\n            if (!isDigit(d3)) mensaje = \"El digito 3 no es un nmero\";\r\n            if (!isDigit(d4)) mensaje = \"El digito 4 no es un nmero\";\r\n            if (!isDigit(d5)) mensaje = \"El digito 5 no es un nmero\";\r\n            if (!isDigit(d6)) mensaje = \"El digito 6 no es un nmero\";\r\n            if (!isDigit(d7)) mensaje = \"El digito 7 no es un nmero\";\r\n            if (!isDigit(d8)) mensaje = \"El digito 8 no es un nmero\";\r\n            if (!isDigit(d9)) mensaje = \"El digito 9 no es un nmero\";\r\n            if (!isDigit(d10)) mensaje = \"El digito 10 no es un nmero\";\r\n\r\n            if (numero.length > 10) {\r\n                const d11 = numero.substr(10, 1);\r\n                const d12 = numero.substr(10, 1);\r\n                const d13 = numero.substr(10, 1);\r\n                if (d11 && !isDigit(d11)) mensaje = \"El digito 11 no es un nmero\";\r\n                if (d12 && !isDigit(d12)) mensaje = \"El digito 12 no es un nmero\";\r\n                if (d13 && !isDigit(d13)) mensaje = \"El digito 13 no es un nmero\";\r\n            }\r\n\r\n            /* El tercer digito es: */\r\n            /* 9 para sociedades privadas y extranjeros */\r\n            /* 6 para sociedades publicas */\r\n            /* menor que 6 (0,1,2,3,4,5) para personas naturales */\r\n\r\n            let p1;\r\n            let p2;\r\n            let p3;\r\n            let p4;\r\n            let p5;\r\n            let p6;\r\n            let p7;\r\n            let p8;\r\n            let p9;\r\n\r\n            if (d3 == 7 || d3 == 8) {\r\n                mensaje = 'El tercer dgito ingresado es invlido';\r\n                esValido = false;\r\n            }\r\n\r\n            /* Solo para personas naturales (modulo 10) */\r\n            if (d3 < 6) {\r\n                nat = true;\r\n                p1 = d1 * 2; if (p1 >= 10) p1 -= 9;\r\n                p2 = d2 * 1; if (p2 >= 10) p2 -= 9;\r\n                p3 = d3 * 2; if (p3 >= 10) p3 -= 9;\r\n                p4 = d4 * 1; if (p4 >= 10) p4 -= 9;\r\n                p5 = d5 * 2; if (p5 >= 10) p5 -= 9;\r\n                p6 = d6 * 1; if (p6 >= 10) p6 -= 9;\r\n                p7 = d7 * 2; if (p7 >= 10) p7 -= 9;\r\n                p8 = d8 * 1; if (p8 >= 10) p8 -= 9;\r\n                p9 = d9 * 2; if (p9 >= 10) p9 -= 9;\r\n                modulo = 10;\r\n            }\r\n\r\n            /* Solo para sociedades publicas (modulo 11) */\r\n            /* Aqui el digito verficador esta en la posicion 9, en las otras 2 en la pos. 10 */\r\n            else if (d3 == 6) {\r\n                pub = true;\r\n                p1 = d1 * 3;\r\n                p2 = d2 * 2;\r\n                p3 = d3 * 7;\r\n                p4 = d4 * 6;\r\n                p5 = d5 * 5;\r\n                p6 = d6 * 4;\r\n                p7 = d7 * 3;\r\n                p8 = d8 * 2;\r\n                p9 = 0;\r\n            }\r\n\r\n            /* Solo para entidades privadas (modulo 11) */\r\n            else if (d3 == 9) {\r\n                pri = true;\r\n                p1 = d1 * 4;\r\n                p2 = d2 * 3;\r\n                p3 = d3 * 2;\r\n                p4 = d4 * 7;\r\n                p5 = d5 * 6;\r\n                p6 = d6 * 5;\r\n                p7 = d7 * 4;\r\n                p8 = d8 * 3;\r\n                p9 = d9 * 2;\r\n            }\r\n\r\n            suma = p1 + p2 + p3 + p4 + p5 + p6 + p7 + p8 + p9;\r\n            residuo = suma % modulo;\r\n\r\n            /* Si residuo=0, dig.ver.=0, caso contrario 10 - residuo*/\r\n            const digitoVerificador = residuo == 0 ? 0 : modulo - residuo;\r\n\r\n            /* ahora comparamos el elemento de la posicion 10 con el dig. ver.*/\r\n            if (pub == true) {\r\n                if (digitoVerificador != d9) {\r\n                    mensaje = 'El ruc de la empresa del sector pblico es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                /* El ruc de las empresas del sector publico terminan con 0001*/\r\n                if (numero.substr(9, 4) != '0001') {\r\n                    mensaje = 'El ruc de la empresa del sector pblico debe terminar con 0001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n            else if (pri == true) {\r\n                if (digitoVerificador != d10) {\r\n                    mensaje = 'El ruc de la empresa del sector privado es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                if (numero.substr(10, 3) != '001') {\r\n                    mensaje = 'El ruc de la empresa del sector privado debe terminar con 001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n\r\n            else if (nat == true) {\r\n                if (digitoVerificador != d10) {\r\n                    mensaje = 'El nmero de cdula de la persona natural es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                if (numero.length > 10 && numero.substr(10, 3) != '001') {\r\n                    mensaje = 'El ruc de la persona natural debe terminar con 001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n            esValido = true;\r\n\r\n        } else {\r\n            mensaje = 'Este campo solo admite numeros';\r\n        }\r\n    }\r\n\r\n    if (esValido && mensaje == '') {\r\n        if (exito) { exito(); }\r\n        return \"\";\r\n    } else {\r\n        if (mensaje == '') {\r\n            mensaje = 'La cantidad de digitos no corresponde a Cedula o RUC'\r\n        }\r\n        if (error) { error(mensaje); }\r\n        return mensaje;\r\n    }\r\n}\r\nexport function isDigit(char) { return char >= \"0\" && char <= \"9\"; }\r\nfunction isNumber(obj) { return !isNaN(parseFloat(obj)) }\r\nfunction isEmptyOrNull(obj) {\r\n    if (obj === '' || obj == undefined || obj == null || obj == 'undefined') {\r\n        return true\r\n    } else {\r\n        return false;\r\n    }\r\n}","import { isDigit } from \"./ValidarIdentificacion\";\r\n\r\nconst ValidateInput = {\r\n    tel(value) {\r\n        if (!value) return;\r\n        if (value.length < 7) return \"El nmero de telefono debe tener al menos 7 digitos\";\r\n        for (let i = 0; i < value.length; i++) {\r\n            if (!(value[i] === \"+\" || isDigit(value[i]) || value[i].trim() === \"\")) {\r\n                return \"El nmero debe tener uno de estos formatos: '09123456789' o '+5931234567890'\";\r\n            }\r\n        }\r\n    },\r\n    email(value) {\r\n        if (!value) return;\r\n        if (value.length < 5) return \"El email no est escrito correctamente\";\r\n        let twoParts = value.split(\"@\");\r\n        if (twoParts.length !== 2) return \"El email no est escrito correctamente\";\r\n        if (!(twoParts[1].indexOf(\".\") >= 0)) return \"El email no est escrito correctamente\";\r\n        if (value.trim().indexOf(\" \") >= 0) return \"El email no est escrito correctamente\";\r\n        if (value.trim().indexOf(\"\\t\") >= 0) return \"El email no est escrito correctamente\";\r\n        if (value.trim().indexOf(\"\\r\") >= 0) return \"El email no est escrito correctamente\";\r\n    }\r\n}\r\nexport default ValidateInput;","import React from \"react\";\r\nimport { Dialog, DialogContent, TextField, Button, DialogActions, withStyles } from \"@material-ui/core\";\r\nimport ValidarIdentificacion from \"../Services/ValidarIdentificacion\";\r\nimport ValidateInput from \"../Services/ValidateInput\";\r\n\r\nconst style = {\r\n    textField: {\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    },\r\n    content: {\r\n        paddingTop: 10,\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        paddingBottom: 0\r\n    }\r\n};\r\n\r\nclass InvoiceData extends React.PureComponent {\r\n    state = {\r\n        documento: 1,\r\n        identificacion: \"\",\r\n        razonSocial: \"\",\r\n        telefono: \"\",\r\n        direccion: \"\",\r\n        email: \"\"\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.data) {\r\n            for (const key in props.data) {\r\n                if (props.data.hasOwnProperty(key)) {\r\n                    this.state[key] = props.data[key];\r\n                }\r\n            }\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleExit = this.handleExit.bind(this);\r\n        this.handleDone = this.handleDone.bind(this);\r\n    }\r\n    handleChange(event) {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    handleExit() {\r\n        const { match, history } = this.props;\r\n        const new_path = match.path.substr(0, match.path.indexOf(\"/invoice-data\"));\r\n        history.push(new_path);\r\n    }\r\n    handleDone(event) {\r\n        event.preventDefault();\r\n        const msg = validateMsg(this.state);\r\n        if (msg) {\r\n            alert(msg);\r\n        } else {\r\n            if (this.props.onDone)\r\n                this.props.onDone(this.state);\r\n            this.handleExit();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const cedula_err = this.state.identificacion\r\n            ? ValidarIdentificacion(this.state.identificacion, this.state.documento)\r\n            : \"\";\r\n        const cedula_props = {};\r\n        if (cedula_err) {\r\n            cedula_props.error = true;\r\n            cedula_props.helperText = cedula_err;\r\n        }\r\n        const rs_err = (this.state.identificacion && !(this.state.razonSocial || \"\").trim())\r\n            ? \"Esta campo no puede estar vaco\"\r\n            : \"\";\r\n        const tel_props = {};\r\n        const tel_err = ValidateInput.tel(this.state.telefono)\r\n        if (tel_err) {\r\n            tel_props.error = true;\r\n            tel_props.helperText = tel_err;\r\n        }\r\n        const email_props = {};\r\n        const email_err = ValidateInput.email(this.state.email)\r\n        if (email_err) {\r\n            email_props.error = true;\r\n            email_props.helperText = email_err;\r\n        }\r\n\r\n        const hay_errores = cedula_err || rs_err || tel_err || email_err;\r\n\r\n        return (<Dialog open={true} >\r\n            <form onSubmit={this.handleDone}>\r\n                <DialogContent style={style.content}>\r\n                    <TextField value={this.state.documento}\r\n                        name=\"documento\"\r\n                        onChange={this.handleChange}\r\n                        select\r\n                        SelectProps={{ native: true }}\r\n                        fullWidth\r\n                        label=\"Documento\"\r\n                        style={style.textField}\r\n                    >\r\n                        <option value={1}>RUC</option>\r\n                        <option value={2}>Cedula</option>\r\n                        <option value={3}>Pasaporte</option>\r\n                    </TextField>\r\n\r\n                    <TextField name=\"identificacion\"\r\n                        inputProps={{ maxLength: 20 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"# de Identificacion\"\r\n                        value={this.state.identificacion || \"\"}\r\n                        style={style.textField}\r\n                        fullWidth\r\n\r\n                        {...cedula_props}\r\n                    />\r\n\r\n                    <TextField name=\"razonSocial\"\r\n                        inputProps={{ maxLength: 200 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Razon Social\"\r\n                        value={this.state.razonSocial || \"\"}\r\n                        multiline\r\n                        rows={2}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                    />\r\n\r\n                    <TextField name=\"telefono\"\r\n                        inputProps={{ maxLength: 50 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Telefono\"\r\n                        value={this.state.telefono || \"\"}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                        {...tel_props}\r\n                    />\r\n\r\n                    <TextField name=\"direccion\"\r\n                        inputProps={{ maxLength: 300 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Direccion\"\r\n                        value={this.state.direccion || \"\"}\r\n                        multiline\r\n                        rows={3}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                    />\r\n\r\n                    <TextField name=\"email\"\r\n                        inputProps={{ maxLength: 150 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Email\"\r\n                        value={this.state.email || \"\"}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                        {...email_props}\r\n                    />\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button type=\"button\" onClick={this.handleExit} color=\"secondary\" variant=\"outlined\">\r\n                        SALIR\r\n                </Button>\r\n                    <Button disabled={hay_errores} type=\"submit\" color=\"primary\" variant=\"outlined\">\r\n                        AGREGAR\r\n                </Button>\r\n                </DialogActions>\r\n            </form>\r\n        </Dialog>)\r\n    }\r\n}\r\n\r\nfunction validateMsg(state) {\r\n    const { documento, identificacion, razonSocial, telefono, direccion, email } = state;\r\n    let a = identificacion || \"\";\r\n    let b = razonSocial || \"\";\r\n    let c = telefono || \"\";\r\n    let d = direccion || \"\";\r\n    let e = email || \"\";\r\n    let msg = \"\";\r\n    if (a.length || b.length || c.length || d.length || e.length) {\r\n        if (!a.length) return \"Agregue el numero de identificacion\";\r\n        if (!b.length) return \"Agregue la Razon Social\";\r\n        msg = ValidarIdentificacion(identificacion, documento);\r\n        if (msg) return msg;\r\n        msg = c && ValidateInput.tel(c);\r\n        if (msg) return msg;\r\n        msg = e && ValidateInput.email(e);\r\n        if (msg) return msg;\r\n    }\r\n}\r\n\r\nexport default withStyles(theme => ({\r\n    paper: {\r\n        maxHeight: \"calc(100% - 30px)\",\r\n        marginTop: 15,\r\n        marginBottom: 15\r\n    }\r\n}))(InvoiceData);","import React from \"react\";\r\nimport { TextField, Typography, Button } from \"@material-ui/core\";\r\nimport { Route } from \"react-router-dom\";\r\nimport InvoiceData from \"./InvoiceData\";\r\nimport ValidateInput from \"../Services/ValidateInput\";\r\nimport ValidarIdentificacion from \"../Services/ValidarIdentificacion\";\r\n\r\nconst style = {\r\n    root: { padding: \"20px 10px\", flex: 1 },\r\n    textFiel: { marginTop: 10, marginBottom: 10 }\r\n}\r\n\r\nexport default class extends React.Component {\r\n    state = {\r\n        telefono_error: \"\",\r\n        email_error: \"\"\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleClick() {\r\n        this.props.history.push(this.props.match.path + \"/invoice-data\");\r\n    }\r\n    render() {\r\n        const { props } = this;\r\n\r\n        const telefono_error = ValidateInput.tel(props.data.telefono);\r\n        let telefono_props = {};\r\n        if (telefono_error) {\r\n            telefono_props.error = true;\r\n            telefono_props.helperText = telefono_error;\r\n        }\r\n        const email_error = ValidateInput.email(props.data.email);\r\n        let email_props = {};\r\n        if (email_error) {\r\n            email_props.error = true;\r\n            email_props.helperText = email_error;\r\n        }\r\n        const cedula_err = props.data.identificacion\r\n            ? ValidarIdentificacion(props.data.identificacion, props.data.documento)\r\n            : \"\";\r\n        const cedula_props = {};\r\n        if (cedula_err) {\r\n            cedula_props.error = true;\r\n            cedula_props.helperText = cedula_err;\r\n        }\r\n\r\n        return (<div style={style.root}>\r\n\r\n            {props.requireContactCedula &&\r\n                (<React.Fragment>\r\n                    <TextField\r\n                        autoFocus={true}\r\n                        label=\"Documento\"\r\n                        fullWidth\r\n                        style={style.textField}\r\n                        name=\"contactData.documento\"\r\n                        select\r\n                        SelectProps={{ native: true }}\r\n                        value={props.data.documento || 1}\r\n                        onChange={props.onInputChange}\r\n                    >\r\n                        <option value={1}>RUC</option>\r\n                        <option value={2}>Cedula</option>\r\n                        <option value={3}>Pasaporte</option>\r\n                    </TextField>\r\n                    <TextField\r\n                        inputProps={{ maxLength: 20 }}\r\n                        label=\"# Identificacin*\"\r\n                        fullWidth\r\n                        inputProps={{ maxLength: 300 }}\r\n                        style={style.textField}\r\n                        name=\"contactData.identificacion\"\r\n                        value={props.data.identificacion || \"\"}\r\n                        onChange={props.onInputChange}\r\n                        {...cedula_props}\r\n                    />\r\n                </React.Fragment>)}\r\n            <TextField\r\n                autoFocus={props.requireContactCedula ? false : true}\r\n                label=\"Nombre (Nombres y Apellidos)*\"\r\n                fullWidth\r\n                inputProps={{ maxLength: 300 }}\r\n                style={style.textField}\r\n                name=\"contactData.nombre\"\r\n                value={props.data.nombre}\r\n                onChange={props.onInputChange}\r\n            />\r\n            <TextField\r\n                label=\"Telefono*\"\r\n                fullWidth\r\n                inputProps={{ maxLength: 50, type: \"phone\" }}\r\n                style={style.textField}\r\n                name=\"contactData.telefono\"\r\n                value={props.data.telefono}\r\n                onChange={props.onInputChange}\r\n                {...telefono_props}\r\n            />\r\n            <TextField\r\n                label=\"Email\"\r\n                fullWidth\r\n                inputProps={{ maxLength: 150, type: \"email\" }}\r\n                style={style.textField}\r\n                name=\"contactData.email\"\r\n                value={props.data.email}\r\n                onChange={props.onInputChange}\r\n                {...email_props}\r\n            />\r\n\r\n            <Typography style={{ marginTop: 20 }} variant=\"body2\">NECESITAS FACTURA?</Typography>\r\n            <div style={{ width: \"100%\", marginBottom: 10, textAlign: \"center\" }}>\r\n                <Button variant=\"outlined\" color=\"secondary\" size=\"small\"\r\n                    style={{ width: \"90%\", margin: \"auto\" }} onClick={this.handleClick}>\r\n                    Agregar Datos de Facturacin\r\n                </Button>\r\n            </div>\r\n            <Route path={`${props.match.path}/invoice-data`}\r\n                render={r_props => <InvoiceData {...r_props} data={props.invoiceData} onDone={props.onInvoiceDataChange} />}\r\n            />\r\n        </div>)\r\n    }\r\n}","import React from \"react\";\r\nimport { TextField, Typography, Button } from \"@material-ui/core\";\r\nimport { withGoogleMap, GoogleMap, withScriptjs } from \"react-google-maps\";\r\nimport SearchBox from \"react-google-maps/lib/components/places/SearchBox\";\r\nimport { MarkerWithLabel } from \"react-google-maps/lib/components/addons/MarkerWithLabel\";\r\nimport { GpsFixed } from \"@material-ui/icons\";\r\nimport * as prefs from \"../Services/Preferences\";\r\n\r\nconst refs = {};\r\n\r\nconst STORE_LATLNG = {\r\n    lat: -0.263496, lng: -78.488272\r\n}\r\nexport default class extends React.PureComponent {\r\n    state = {\r\n        loading: false,\r\n        defaultCenter: {},\r\n        latLng: null,\r\n        defaultZoom: 12,\r\n        bounds: null,\r\n        enableLocationBtn: false\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleMapClick = this.handleMapClick.bind(this);\r\n        this.handlePlacesChanged = this.handlePlacesChanged.bind(this);\r\n        this.handleSearchBoxMounted = this.handleSearchBoxMounted.bind(this);\r\n        this.handleMapMounted = this.handleMapMounted.bind(this);\r\n        this.handleBoundsChanged = this.handleBoundsChanged.bind(this);\r\n        this.handleLocationClick = this.handleLocationClick.bind(this);\r\n    }\r\n    handleSearchBoxMounted(ref) {\r\n        refs.searchBox = ref;\r\n    }\r\n    handleMapMounted(ref) {\r\n        refs.map = ref;\r\n    }\r\n    handleBoundsChanged() {\r\n        this.setState({ bounds: refs.map.getBounds() });\r\n    }\r\n    handlePlacesChanged() {\r\n        const places = refs.searchBox.getPlaces();\r\n        const bounds = new window.google.maps.LatLngBounds();\r\n\r\n        places.forEach(place => {\r\n            if (place.geometry.viewport) {\r\n                bounds.union(place.geometry.viewport)\r\n            } else {\r\n                bounds.extend(place.geometry.location)\r\n            }\r\n        });\r\n        const placeLocations = places.map(place => ({\r\n            position: place.geometry.location,\r\n            name: place.name\r\n        }));\r\n        let placeLoc = this.state.defaultCenter;\r\n        if (placeLocations && placeLocations.length) {\r\n            placeLoc = placeLocations[0];\r\n        }\r\n        this.setState({\r\n            center: placeLoc.position\r\n        });\r\n        this.props.onPositionChanged({\r\n            lat: placeLoc.position.lat(),\r\n            lng: placeLoc.position.lng(),\r\n            name: placeLoc.name\r\n        });\r\n    }\r\n    componentWillMount() {\r\n        const { direccion } = this.props;\r\n        // prev stored\r\n        if (direccion && direccion.position) {\r\n            this.setState({\r\n                center: { ...direccion.position },\r\n                defaultZoom: 17\r\n            });\r\n            if (navigator.permissions) {\r\n                navigator.permissions.query({ name: 'geolocation' })\r\n                    .then(value => {\r\n                        if (value.state === \"granted\") {\r\n                            this.setState({ enableLocationBtn: true });\r\n                        }\r\n                    });\r\n            }\r\n            return;\r\n        }\r\n        if (!navigator.geolocation) return;\r\n        navigator.geolocation.getCurrentPosition(position => {\r\n            const latLng = {\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude,\r\n                name: \"Ubicacin Actual\"\r\n            };\r\n            this.setState({\r\n                defaultCenter: { ...latLng, isCurrentLocation: true },\r\n                defaultZoom: 17,\r\n                loading: false,\r\n                enableLocationBtn: true\r\n            });\r\n            this.props.onPositionChanged(latLng);\r\n        }, err => {\r\n            this.setState({\r\n                loading: false,\r\n                defaultCenter: { ...STORE_LATLNG },\r\n                markerName: \"\",\r\n                enableLocationBtn: false\r\n            });\r\n        })\r\n    }\r\n    handleMapClick(a) {\r\n        this.props.onPositionChanged({ lat: a.latLng.lat(), lng: a.latLng.lng(), name: \"\" });\r\n    }\r\n    handleLocationClick() {\r\n        navigator.geolocation.getCurrentPosition(position => {\r\n            const center = {\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude,\r\n                name: \"Ubicacin Actual\"\r\n            }\r\n            this.props.onPositionChanged(center);\r\n            this.setState({ center });\r\n        }, err => {\r\n            const state = { center: { ...this.state.defaultCenter } };\r\n            if (state.center.isCurrentLocation) {\r\n                delete state.center.isCurrentLocation;\r\n                this.props.onPositionChanged(state.center);\r\n            }\r\n            alert(\"No pudimos obtener tu ubicacin \" + err.message);\r\n            this.setState(state);\r\n        });\r\n    }\r\n    render() {\r\n        const { direccion, onInputChange, API_KEY } = this.props;\r\n        const { defaultCenter, defaultZoom, center, bounds, enableLocationBtn } = this.state;\r\n        return (<div style={{ overflow: \"auto\", paddingLeft: 10, paddingRight: 10, flex: 1 }}>\r\n            <Map\r\n                googleMapURL={`https://maps.googleapis.com/maps/api/js?key=${API_KEY || \"\"}&v=3.exp&libraries=geometry,drawing,places`}\r\n                //googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\"\r\n                containerElement={<div style={{ height: \"300px\" }} />}\r\n                loadingElement={<div style={{ height: `100%` }} />}\r\n                mapElement={<div style={{ height: `100%` }} />}\r\n                onClick={this.handleMapClick}\r\n                defaultZoom={defaultZoom}\r\n                onPlacesChanged={this.handlePlacesChanged}\r\n                onSearchBoxMounted={this.handleSearchBoxMounted}\r\n                onMapMounted={this.handleMapMounted}\r\n                marker={direccion.position}\r\n                center={center || defaultCenter}\r\n                onBoundsChanged={this.handleBoundsChanged}\r\n                searchBoxBounds={bounds}\r\n                onLocationClick={this.handleLocationClick}\r\n                enableLocationBtn={enableLocationBtn}\r\n            />\r\n            <TextField\r\n                name=\"direccion.numero\"\r\n                value={direccion.numero}\r\n                onChange={onInputChange}\r\n                inputProps={{ maxLength: 100 }}\r\n                label=\"Numero*\"\r\n                placeholder=\"Ej. Dpto 101, Oficina 304, Manzana 10 Villa 4, etc.\"\r\n                fullWidth\r\n            />\r\n\r\n            <TextField\r\n                name=\"direccion.referencia\"\r\n                value={direccion.referencia}\r\n                onChange={onInputChange}\r\n                inputProps={{ maxLength: 200 }}\r\n                label=\"Referencia*\"\r\n                placeholder=\"Ej. Al lado de la panaderia 'El Pan de Cada Dia'\"\r\n                fullWidth\r\n            />\r\n\r\n        </div>)\r\n    }\r\n}\r\n\r\nconst Map = withScriptjs(withGoogleMap(function Map(props) {\r\n    function changeFn(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n    }\r\n    const { google } = window;\r\n    return (<GoogleMap\r\n        {...props}\r\n        ref={props.onMapMounted}\r\n        options={{\r\n            disableDefaultUI: true,\r\n            zoomControl: true,\r\n            clickableIcons: false\r\n        }}\r\n    >\r\n        <SearchBox\r\n            bounds={props.searchBoxBounds}\r\n            onPlacesChanged={props.onPlacesChanged}\r\n            controlPosition={google.maps.ControlPosition.TOP_LEFT}\r\n            ref={props.onSearchBoxMounted}>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\", width: \"calc(100% - 10px)\", margin: 5 }}>\r\n                <input\r\n                    type=\"text\"\r\n                    onChange={changeFn}\r\n                    placeholder=\"Busca tu direccin aqui\"\r\n                    style={{\r\n                        flex: 1,\r\n                        boxSizing: `border-box`,\r\n                        border: `1px solid transparent`,\r\n                        height: 40,\r\n                        padding: `0 10px`,\r\n                        borderRadius: `3px`,\r\n                        boxShadow: `0 2px 6px rgba(0, 0, 0, 0.3)`,\r\n                        fontSize: `14px`,\r\n                        outline: `none`,\r\n                        textOverflow: `ellipses`\r\n                    }}\r\n                />\r\n                <Button style={{\r\n                    maxHeight: 40,\r\n                    padding: 5,\r\n                    minWidth: 40,\r\n                    background: \"#fff\",\r\n                    boxShadow: `0 2px 6px rgba(0, 0, 0, 0.3)`\r\n                }} variant=\"outlined\"\r\n                    disabled={!props.enableLocationBtn}\r\n                    onClick={props.onLocationClick}>\r\n                    <GpsFixed />\r\n                </Button>\r\n            </div>\r\n        </SearchBox>\r\n        {props.marker\r\n            ? (<MarkerWithLabel\r\n                x labelAnchor={new window.google.maps.Point(0, 0)}\r\n                position={props.marker}\r\n                labelStyle={{ background: \"#fff\", border: \"1px solid grey\", padding: \"10px\" }}\r\n                labelVisible={Boolean(props.marker.name)}\r\n            >\r\n                <Typography>{props.marker.name}</Typography>\r\n            </MarkerWithLabel>)\r\n            : null}\r\n    </GoogleMap>)\r\n}));","import React from \"react\";\r\nimport { CheckCircleOutline, Edit } from \"@material-ui/icons\";\r\nimport { Typography, Button, CircularProgress } from \"@material-ui/core\";\r\n\r\n\r\n\r\nexport default class extends React.Component {\r\n    state = {\r\n        loading: false\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        // en este caso, al comenzar se guardar inmediatamente.\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleReturnToOrder = this.handleReturnToOrder.bind(this);\r\n    }\r\n    handleReturnToOrder() {\r\n        this.props.history.push(\"/1\");\r\n    }\r\n    render() {\r\n        const { loading, error, ...other_props } = this.props;\r\n\r\n        return (<div style={{ textAlign: \"center\", overflow: \"auto\", padding: 10 }}>\r\n            {loading\r\n                ? <Wait />\r\n                : (error\r\n                    ? <ErrrMsg {...error} onClick={this.handleReturnToOrder} />\r\n                    : <IsCompleted {...other_props} />)}\r\n        </div>)\r\n    }\r\n}\r\n\r\nfunction Wait(props) {\r\n    return (<React.Fragment>\r\n        <CircularProgress size={50} />\r\n        <Typography variant=\"h6\">Guardando...</Typography>\r\n    </React.Fragment>);\r\n}\r\nfunction ErrrMsg(props) {\r\n    return (<React.Fragment>\r\n        <Typography variant=\"h6\" color=\"secondary\" >Ocurri un problema al guardar tu orden. Regresa al pedido, verifica tu informacin e intentalo nuevamente.</Typography>\r\n\r\n        <Typography variant=\"body1\" color=\"secondary\" >{props.message}</Typography>\r\n        <Typography variant=\"caption\" color=\"secondary\" >{props.code}{props.status && (\" | \" + props.status)}</Typography>\r\n        {props.statusText && <Typography variant=\"body1\" color=\"secondary\" >{props.statusText}</Typography>}\r\n\r\n        <Button onClick={props.onClick} variant=\"outlined\" color=\"primary\" fullWidth style={{ marginTop: 20 }} >\r\n            REGRESAR AL PEDIDO <Edit />\r\n        </Button>\r\n    </React.Fragment>);\r\n}\r\nfunction IsCompleted(props) {\r\n    const ws = CreateWSMessage(props);\r\n    return (<React.Fragment>\r\n        <CheckCircleOutline fontSize=\"large\" style={{ margin: 20 }} />\r\n        <Typography variant=\"h5\">Tu pedido ha sido recibido!</Typography>\r\n        <Typography variant=\"body2\">\r\n            En un momento nos comunicaremos contigo para coordinar la entrega de tu pedido.\r\n            Mantente pendiente a tu telefono.\r\n     </Typography>\r\n        <Button onClick={ev => window.location.replace(window.location.pathname)} style={{ margin: 10 }} variant=\"contained\" color=\"primary\">NUEVO PEDIDO</Button>\r\n        {ws && (<Button target=\"_blank\" style={{ margin: 10 }} variant=\"outlined\" color=\"secondary\" component=\"a\" href={ws}>\r\n            CHATEA CON NOSOTROS\r\n            <img alt=\"Whatsapp\" src=\"./ws.png\" style={{ height: 20, width: 20, marginLeft: 5 }}></img>\r\n        </Button>)}\r\n    </React.Fragment>);\r\n}\r\n\r\nfunction CreateWSMessage(info) {\r\n    const { ws_phone, ws_msg, contactData, orderNumber } = info;\r\n    if (!ws_phone || !ws_msg) return \"\";\r\n    const final_msg = ws_msg\r\n        .replace(/__NAME__/g, (contactData || {}).nombre).\r\n        replace(/__ORDER_NUMBER__/g, orderNumber || \"\");\r\n    return \"https://api.whatsapp.com/send?\" +\r\n        (`phone=${ws_phone}&`) +\r\n        `text=${encodeURIComponent(final_msg)}`;\r\n\r\n}","import React from \"react\";\r\n\r\nexport default function (Component, step) {\r\n    return class extends React.Component {\r\n        state = {\r\n            render: true\r\n        }\r\n        constructor(props) {\r\n            super(props);\r\n            const moveToStep = props.onValidate(step);\r\n            if (moveToStep >= 0) {\r\n                props.history.push(\"/\" + moveToStep);\r\n                this.state.render = false;\r\n            }\r\n        }\r\n        render() {\r\n            if (!this.state.render) return null;\r\n            return <Component stepIndex={step} {...this.props} />\r\n        }\r\n    }\r\n}\r\n","import React from 'react';\nimport { Paper, Stepper, Step, StepLabel, Button, CircularProgress, Typography } from '@material-ui/core';\nimport { Switch, Route, withRouter, HashRouter, Redirect, Prompt } from \"react-router-dom\";\nimport {\n  ReceiptOutlined, PlaceOutlined, PersonOutlined, AddShoppingCartOutlined,\n  Receipt, Place, Person, ShoppingCart, ArrowBack\n} from '@material-ui/icons';\n\nimport API from \"./Services/API\";\nimport * as prefs from \"./Services/Preferences\";\nimport State from \"./App.state\";\n\nimport A from './Components/TakeOrder';\nimport B from './Components/ConfirmOrder';\nimport C from './Components/ContactData';\nimport D from './Components/Location';\nimport E from './Components/Done';\nimport WithValidate from './HOCs/WithValidate';\nimport ValidateInput from './Services/ValidateInput';\nimport ValidarIdentificacion from './Services/ValidarIdentificacion';\n\nconst TakeOrder = WithValidate(A, 0);\nconst ConfirmOrder = WithValidate(B, 1);\nconst ContactData = WithValidate(C, 2);\nconst Location = WithValidate(D, 3);\nconst Done = WithValidate(E, 4);\n\nconst STEPS = [\n  { t: \"Elige tus productos\", icon: AddShoppingCartOutlined, currentIcon: ShoppingCart },\n  { t: \"Confirma tu pedido\", icon: ReceiptOutlined, currentIcon: Receipt },\n  { t: \"Registra tus datos\", icon: PersonOutlined, currentIcon: Person },\n  { t: \"Ingresa tu ubicacin\", icon: PlaceOutlined, currentIcon: Place }\n];\n\nclass App extends React.Component {\n  state = new State();\n  constructor(props) {\n    super(props);\n    this.handleOptionOpened = this.handleOptionOpened.bind(this);\n    this.handleItemChange = this.handleItemChange.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleInvoiceDataChange = this.handleInvoiceDataChange.bind(this);\n    this.handlePositionChanged = this.handlePositionChanged.bind(this);\n\n    this.handleGuardar = this.handleGuardar.bind(this);\n\n    this.validateStep = this.validateStep.bind(this);\n    this.handleValidateStep = this.handleValidateStep.bind(this);\n    this.handleNextClick = this.handleNextClick.bind(this);\n\n    this.state.contactData = prefs.Get(\"contactData\") || this.state.contactData;\n    this.state.invoiceData = prefs.Get(\"invoiceData\") || this.state.invoiceData;\n    this.state.direccion = prefs.Get(\"direccion\") || this.state.direccion;\n  }\n  handleValidateStep(step) {\n    // CUANDO SE MUEVE EL PEDIDO, POR EJEMPLO HACIA ATRAS, BORRO TODO Y COMIENZO DE 0\n    if (!(window.location.href.indexOf(\"http://localhost\") === 0)) {\n      if (this.state.orderNumber) {\n        const state = { ...new State(), loading: false, productList: [...this.state.productList] };\n        state.contactData = prefs.Get(\"contactData\") || state.contactData;\n        state.invoiceData = prefs.Get(\"invoiceData\") || state.invoiceData;\n        state.direccion = prefs.Get(\"direccion\") || state.direccion;\n        this.setState(state);\n        return 0;\n      }\n    }\n    var prevstep = step - 1;\n    var goToStep = undefined;\n    if (step >= 0) {\n      while (prevstep >= 0) {\n        let msg = this.validateStep(prevstep);\n        if (msg) goToStep = prevstep;\n        prevstep--;\n      }\n    }\n    return goToStep;\n  }\n  validateStep(step) {\n    if (step === 0 || step === 1) {\n      if (!this.state.items.length)\n        return \"Para continuar seleccione la menos un producto\";\n    }\n    if (step === 1) {\n      if (!this.state.forma_pago) return \"Seleccione el Mtodo de Pago\";\n    }\n    if (step === 2 && this.state.contactData) {\n      const x = this.state.contactData;\n      if (!x.nombre) return \"Agregue un nombre de contacto\";\n      if (!x.telefono) return \"Agregue un telefono de contacto\";\n      if (this.state.requireContactCedula) {\n        if (!x.identificacion) return \"Agregue el nmero de identificacin de contacto\";\n        msg = ValidarIdentificacion(x.identificacion, x.documento);\n        if (msg) return msg;\n      }\n      let msg = ValidateInput.tel(x.telefono);\n      if (msg) return msg;\n      msg = ValidateInput.email(x.email);\n      if (msg) return msg;\n    }\n\n    if (step === 3 && this.state.direccion) {\n      const x = this.state.direccion;\n      if (!x.position) return \"Confirme su ubicacin en el mapa.\";\n      if (!x.numero) return \"Agregue un nmero de casa/local de la direccin de entrega.\";\n      if (!x.referencia) return \"Agregue la referencia de la direccin de entrega.\";\n    }\n    return;\n  }\n  componentDidMount() {\n    API.GetStoreData().then(x =>\n      this.setState({ ...x })\n    ).then(_ =>\n      API.GetProducts().then(products => {\n        let productList = products.map(item => {\n          var pvpWithTaxes = 0;\n          if (item.pvp) pvpWithTaxes = item.pvp;\n          if (item.pagaIva) pvpWithTaxes += (item.pvp * 12 / 100);\n          item.pvpWithTaxes = pvpWithTaxes;\n          return item;\n        });\n        this.setState({\n          productList,\n          loading: false\n        }, () => console.info(\"Se han cargado los productos al estado\"))\n      })\n    ).catch(ex => {\n      console.dir(ex);\n      if (ex.status === 404) return this.setState({ loading: false, products: [] });\n      this.setState({ loading: false, error: { ...ex } });\n    });\n  }\n  handleOptionOpened(index) {\n    // esto de errGuardar lo pongo en caso de que \n    // el pedido se haya guardado, y haya fallado\n    // y se decide ir atras a ver qu est mal con el pedido.\n    // entonces errGuardar vuelve a NULL\n    this.setState({ activeStep: index, errGuardar: null });\n  }\n  handleInputChange(event) {\n    const { name, value } = event.currentTarget;\n    this.setState(prev => {\n      const state = { ...prev };\n      if (name.indexOf(\".\") >= 0) {\n        const levels = name.split(\".\");\n        const key = levels.pop();\n        let reference = state;\n        for (let i = 0; i < levels.length; i++) {\n          reference = reference[levels[i]];\n        }\n        reference[key] = value;\n      } else {\n        state[name] = value;\n      }\n      return state;\n    });\n  }\n  handleItemChange(item) {\n    let PrevItem = this.state.items.find(x => x.id === item.id);\n    if (!PrevItem && item.cantidad) {\n      const items = [...this.state.items];\n      items.push(item);\n      return this.setState({ items });\n    }\n    if (PrevItem) {\n      const items = [...this.state.items];\n      let PrevIndex = items.indexOf(PrevItem);\n      if (item.cantidad) {\n        items[PrevIndex] = item;\n      } else {\n        items.splice(PrevIndex, 1);\n      }\n      this.setState({ items });\n    }\n  }\n  handleInvoiceDataChange(invoiceData) {\n    this.setState({ invoiceData });\n    if (invoiceData) {\n      prefs.Set(\"invoiceData\", JSON.stringify(invoiceData));\n    } else {\n      prefs.Set(\"invoiceData\");\n    }\n  }\n  handlePositionChanged(new_position) {\n    this.setState(prev => {\n      const state = { ...prev };\n      state.direccion = { ...state.direccion };\n      state.direccion.position = new_position;\n      return state;\n    });\n  }\n  handleNextClick() {\n    const { contactData, direccion, activeStep } = this.state;\n    if (activeStep === 2 && contactData)\n      prefs.Set(\"contactData\", JSON.stringify(contactData));\n\n    if (activeStep === 3 && direccion)\n      prefs.Set(\"direccion\", JSON.stringify(direccion));\n  }\n  handleGuardar(index) {\n    this.handleOptionOpened(index);\n    this.setState({ loading: \"guardar\", errGuardar: null });\n\n    return API.SaveOrder(this.state).then(order => {\n      this.setState({ loading: false, orderNumber: order.numero, errGuardar: null });\n    }).catch(ex => {\n      this.setState({ loading: false, errGuardar: ex });\n    });\n  }\n  render() {\n    const { activeStep, productList, loading, error,\n      items, forma_pago, nota,\n      invoiceData, contactData, requireContactCedula,\n      direccion,\n      errGuardar, orderNumber, ws_phone, ws_msg\n    } = this.state;\n    return (\n      <HashRouter>\n        <Paper style={{\n          maxHeight: \"100%\",\n          minHeight: \"100%\",\n          margin: \"auto\",\n          maxWidth: 700,\n          display: \"flex\",\n          flexDirection: \"column\"\n        }}>\n\n          <Stepper className=\"hide-on-min-height\" alternativeLabel activeStep={activeStep}>\n            {STEPS.map((x, i) => generateStep(x, i, activeStep))}\n          </Stepper>\n          {loading\n            ? null\n            : <Typography variant=\"h6\" className=\"show-on-min-height\" style={{\n              textAlign: \"center\",\n              textTransform: \"uppercase\",\n              background: \"#3f51b5\",\n              color: \"white\"\n            }}>\n              {(STEPS[activeStep] || {}).t}\n            </Typography>}\n\n          <div style={{ flex: 1, overflow: \"hidden\", display: \"flex\", flexDirection: \"column\" }}>\n            {error\n              ? (<div style={{ flex: 1, textAlign: \"center\", padding: 20 }}>\n                <Typography variant=\"h6\" color=\"secondary\">{error.message}</Typography>\n                <Button fullWidth style={{ marginTop: 20, marginBottom: 20 }} onClick={x => window.location.reload()} variant=\"outlined\" color=\"primary\">\n                  REINTENTAR\n                  </Button>\n              </div>)\n              : (loading === \"data\"\n                ? (<div style={{ flex: 1, textAlign: \"center\", padding: 20 }}>\n                  <CircularProgress size={40} />\n                  <Typography color=\"primary\" variant=\"h6\">Obteniendo informacin de la Tienda...</Typography>\n                </div>)\n                : (<React.Fragment>\n                  {loading\n                    ? <Prompt message=\"Hay un proceso en progreso, no deberia salir hasta que se complete. Est seguro de salir?\" />\n                    : null}< Switch >\n                    <Route path=\"/0\"\n                      render={props => <TakeOrder\n                        {...props}\n                        onValidate={this.handleValidateStep}\n                        onMounted={this.handleOptionOpened}\n                        onItemChange={this.handleItemChange}\n                        choosenItems={items}\n                        productList={productList}\n                      />}\n                    />\n                    <Route path=\"/1\"\n                      render={props => <ConfirmOrder\n                        {...props}\n                        productList={productList}\n                        onValidate={this.handleValidateStep}\n                        onMounted={this.handleOptionOpened}\n                        onItemChange={this.handleItemChange}\n                        onInputChange={this.handleInputChange}\n                        items={items}\n                        nota={nota}\n                        forma_pago={forma_pago}\n                      />}\n                    />\n                    <Route path=\"/2\"\n                      render={props =>\n                        <ContactData\n                          {...props}\n                          requireContactCedula={requireContactCedula}\n                          onValidate={this.handleValidateStep}\n                          invoiceData={invoiceData}\n                          data={contactData}\n                          onInputChange={this.handleInputChange}\n                          onInvoiceDataChange={this.handleInvoiceDataChange}\n                          onMounted={this.handleOptionOpened}\n                        />}\n                    />\n                    <Route path=\"/3\" render={props =>\n                      (<Location\n                        {...props}\n                        onValidate={this.handleValidateStep}\n                        API_KEY={this.state.G_M_K}\n                        onMounted={this.handleOptionOpened}\n                        onPositionChanged={this.handlePositionChanged}\n                        direccion={direccion} onInputChange={this.handleInputChange} />)} />\n                    <Route path=\"/4\"\n                      render={props => (<Done\n                        {...props}\n                        ws_msg={ws_msg}\n                        ws_phone={ws_phone}\n                        contactData={contactData}\n                        orderNumber={orderNumber}\n                        onValidate={this.handleValidateStep}\n                        onMounted={this.handleGuardar}\n                        loading={loading}\n                        error={errGuardar}\n                        saved={Boolean(orderNumber)}\n                      />)} />\n                    <Redirect exact from=\"/\" to=\"/0\"></Redirect>\n                    <Redirect exact from=\"\" to=\"/0\"></Redirect>\n                  </Switch >\n                  {STEPS.length === this.state.activeStep\n                    ? null\n                    : <RouterButton\n                      onClick={this.handleNextClick}\n                      activeStep={this.state.activeStep}\n                      errMsg={this.validateStep(this.state.activeStep)}\n                    />}\n                </React.Fragment>))}\n          </div>\n        </Paper>\n      </HashRouter >\n    );\n  }\n}\nexport default App;\n\nconst RouterButton = withRouter(NextButton);\n\nfunction NextButton(props) {\n  function fn() {\n    if (props.errMsg) {\n      alert(props.errMsg);\n    } else {\n      props.history.push(\"/\" + (props.activeStep + 1));\n    }\n    props.onClick();\n  }\n  function back() {\n    props.history.push(\"/\" + (props.activeStep - 1));\n  }\n  return (<div style={{ width: \"calct(100% - 20px)\", display: \"flex\", flexDirection: \"row\", textAlign: \"center\", margin: 10, minHeight: 40 }}>\n    {props.activeStep === 0\n      ? null\n      : <Button onClick={back} title=\"Regresar\" color=\"secondary\" variant=\"outlined\">\n        <ArrowBack />\n      </Button>}\n    <Button\n      onClick={fn}\n      disabled={props.disabled}\n      color=\"primary\"\n      type=\"button\"\n      variant=\"outlined\"\n      style={{ flex: 1 }}\n      size=\"large\">\n      CONTINUAR\n  </Button>\n  </div>)\n}\n\nfunction generateStep(item, index, current) {\n  let data = {};\n  if (current === index) data = { icon: <item.currentIcon /> };\n  if (index > current) data = { icon: <item.icon /> };\n  return (<Step key={index} >\n    <StepLabel {...data} >{item.t}</StepLabel>\n  </Step >)\n}","import React from \"react\";\r\nimport { Typography, Button } from \"@material-ui/core\";\r\nimport { MyLocation, LocationDisabled } from \"@material-ui/icons\";\r\n\r\n// aqui cargo todo lo relacionado a la informacin inicial antes de comenzar!\r\nexport default class extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const { empresa, error } = props;\r\n        if (empresa) {\r\n            this.state.logoSrc = empresa.logoSrc;\r\n            this.state.slogan = empresa.slogan;\r\n            this.state.titulo = empresa.titulo;\r\n        }\r\n        if (error) {\r\n            if (error.status === 404) {\r\n                this.state.error = \"La tienda que buscas no existe. Revisa tu enlace.\";\r\n                this.state._error = \"Ingresaste a: \" + window.location.href;\r\n            } else {\r\n                this.state.error = error.message;\r\n                this.state.code = error.code || error.status;\r\n                this.state._error = error.statusText;\r\n            }\r\n        }\r\n    }\r\n    state = { begin: true }\r\n    begin = () => {\r\n        this.setState({ begin: false });\r\n        if (!navigator.geolocation) return this.setState({\r\n            error: \"Tu navegador no soporta la funcin de Ubicacin.\"\r\n        });\r\n        navigator.geolocation.getCurrentPosition(position => {\r\n            window[\"lat\"] = position.coords.latitude;\r\n            window[\"lon\"] = position.coords.longitude;\r\n            this.props.launch();\r\n        }, error => {\r\n            if (error.code === error.PERMISSION_DENIED) {\r\n                this.setState({\r\n                    error: \"No se ha podido establecer tu ubicacin. Permitenos acceder a tu ubicacin para tener una mejor experiencia.\",\r\n                    _error: error.message, code: error.code\r\n                })\r\n            } else if (error.code === error.POSITION_UNAVAILABLE) {\r\n                this.setState({\r\n                    error: \"Tu navegador no nos permite encontrar tu ubicacin.\",\r\n                    _error: error.message, code: error.code\r\n                })\r\n            } else {\r\n                this.setState({ error: error.message, code: error.code });\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const { logoSrc, slogan, titulo, error, _error, begin } = this.state;\r\n        return (<div style={{ width: \"calc(100% - 20px)\", maxWidth: 600, textAlign: \"center\", paddingTop: 30, margin: \"auto\" }}>\r\n            {\r\n                begin ? (\r\n                    error ?\r\n                        (<React.Fragment>\r\n                            <Typography color=\"secondary\" variant=\"h6\">{error}</Typography>\r\n                            <Typography color=\"secondary\" variant=\"subtitle2\">{_error}</Typography>\r\n                        </React.Fragment>)\r\n                        : <React.Fragment>\r\n                            {logoSrc && <img src={logoSrc} style={{ maxWidth: \"100%\", maxHeight: 350, marginTop: 10, marginBottom: 10 }} />}\r\n                            <Typography variant=\"h6\">{titulo || \"Cargando...\"}</Typography>\r\n                            {slogan && <Typography variant=\"subtitle2\">{slogan}</Typography>}\r\n                            {(titulo || logoSrc)\r\n                                && (<Button color=\"primary\" onClick={this.begin} fullWidth variant=\"outlined\" style={{ marginTop: 20 }} >EMPECEMOS!</Button>)}\r\n                        </React.Fragment >)\r\n                    : (error\r\n                        ? (<div style={{ width: \"100%\" }}>\r\n                            <LocationDisabled fontSize=\"large\" />\r\n                            <Typography variant=\"body2\">{error}</Typography>\r\n                            <Typography variant=\"body1\">{_error}</Typography>\r\n                            <Button\r\n                                style={{ marginTop: 20, wordWrap: \"break-word\" }}\r\n                                onClick={() => this.props.launch()}\r\n                                variant=\"outlined\"\r\n                                color=\"primary\"\r\n                            >ENTRAR DE TODAS FORMAS</Button>\r\n                        </div>) : (<div style={{ width: \"100%\" }}>\r\n                            <Typography variant=\"h5\">\r\n                                Primero necesitamos que nos permitas acceder a tu ubicacin\r\n                    </Typography>\r\n                            <MyLocation fontSize=\"large\" />\r\n                        </div>))\r\n            }\r\n        </div>)\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport Bootstrapper from './Bootstrapper';\nimport API from \"./Services/API\";\n\nconst LaunchApp = () => ReactDOM.render(<App />, document.getElementById('app'));\nfunction LaunchReact(empresa, error) {\n    ReactDOM.render(<Bootstrapper empresa={empresa} error={error} launch={LaunchApp} />, document.getElementById('app'));\n}\n\nAPI.GetStoreData()\n    .then(x => LaunchReact(x))\n    .catch(x => LaunchReact(null, x));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();"],"sourceRoot":""}