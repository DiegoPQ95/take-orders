{"version":3,"sources":["Reducers/productList.ts","Reducers/items.ts","Store.ts","Services/Totales.js","Services/API.ts","Services/Preferences.js","Components/TakeOrder/ViewProduct.tsx","Components/TakeOrder/Carousel.tsx","ActionCreators/Items.ts","HOC/Mountable.tsx","Components/TakeOrder/index.tsx","Services/HorarioCalcs.js","Components/ConfirmOrder/Schedule.js","Components/ConfirmOrder/Rows.tsx","Components/ConfirmOrder/index.tsx","Services/ValidarIdentificacion.js","Services/ValidateInput.js","Components/InvoiceData.js","Services/Geo.js","Components/ContactData.tsx","Components/Payment/Stripe.tsx","Components/Location.js","Components/Payment.tsx","Components/Done.js","Services/StepValidations.js","Components/Layouts/NavigationButtons.js","Components/Layouts/StepsHeader.tsx","App.js","index.tsx","Components/Layouts/PageRoute.tsx","Home.js","Options.js"],"names":["prevState","action","console","info","type","payload","prevItems","item","PrevItem","find","x","id","cantidad","items","PrevIndex","indexOf","splice","State","activeStep","productList","forma_pago","numeroTransaccion","nota","delivery","contactData","telefono","nombre","email","documento","identificacion","invoiceData","direccion","referencia","position","envio_programado","start_timestamp","Date","valueOf","orderNumber","detalle","PORCENTAJE_IVA","mutable","base0","baseIva","subtotal","iva","servicio","descuentoTotal","total","i","length","d","neto","pvp","pagaIva","round","total_con_decimales","total_redondeado","isNaN","propina","URL","window","PROJECT_ENVIROMENT","store","data","location","pathname","split","replace","Fetch","URI","options","fetch","method","cache","mode","then","response","ok","json","clone","catch","text","message","status","statusText","obj","ex","API","GetProducts","GetProduct","ID","GetStripeSecret","body","JSON","stringify","amount","headers","SaveOrder","state","taking_order_time","all_items","valor","push","totals","Totales","porcentajeIVA","ORDER","stripePaymentData","lat","lng","valor_delivery","mts_delivery","metros","segs_delivery","segundos","info_id","documento_factura","identificacion_factura","razonsocial_factura","razonSocial","direccion_factura","telefono_factura","email_factura","GetStoreData","CheckCoverage","RedirectTo","new_store","step1","new_url","href","btoa","Set","key","localStorage","setItem","log","Get","result","getItem","parse","warn","undefined","ViewProduct","descripcion","pvp_final","imgSrc","loading","idGrupo","grupo","handleCantidad","event","name","currentTarget","setState","prev","newState","handleInput","value","handleDone","props","onDone","handleExit","nextProps","this","show","keys","Object","product","reduce","acc","v","classes","fullScreen","DialogProps","paper","dialogPaper","toFixed","Dialog","sm","open","scroll","TransitionComponent","Transition","onClose","Hidden","smUp","AppBar","Toolbar","Typography","color","style","flexGrow","textTransform","variant","DialogContent","padding","CardMedia","className","image","title","xsDown","width","display","flexDirection","margin","flex","textAlign","marginTop","marginBottom","verticalAlign","QuantityButton","onClick","Add","marginLeft","marginRight","disabled","Remove","TextField","inputProps","maxLength","onChange","placeholder","label","multiline","rows","fullWidth","DialogActions","Button","React","Component","ViewProductHOC","withStyles","theme","maxWidth","maxHeight","loadingPaper","withMobileDialog","path","children","match","Boolean","params","findProductFn","height","border","IconButton","forwardRef","ref","Slide","direction","styles","root","flexWrap","justifyContent","overflow","gridList","transform","tile_no_disponible","background","top","left","content","zIndex","paddingTop","fontSize","fontWeight","fontFamily","GridList","cols","sort","a","b","orden","map","found","choosenItems","TileBar","actionPosition","subtitle","actionIcon","Tile","cursor","GridListTile","tile","paused","alert","src","alt","GridListTileBar","generateCarouselItem","ItemChanged","onMounted","remain","PureComponent","TakeOrder","handleClick","history","findProduct","exists","productViewClose","onItemChange","products","current","group","grupo_orden","overflowX","overflowY","ViewGroup","filter","p","index","Carousel","mapDispatchToProps","Mountable","connect","DayString","day","ParseHorarios","horarios","results","dias","h","dias_ordenados","dias_consecutivos","periodo","PeriodoString","join","tz","desde","hasta","t","PLUS","UTC","getFullYear","getMonth","getDate","parseInt","getDay","toLocaleTimeString","HorariosToDias","dias_a_generar","CURRENT_TZ","getTimezoneOffset","H","min_desde","min_hasta","forEach","horas","hoy","dias_calenario_desde_hoy","sgte_dia","getHours","getMinutes","dia_en_horario","Schedule","dia","hora","handleDia","bind","handleHora","handleClose","handleSubmit","hasOwnProperty","horas_del_dia","HorasDelDia","preventDefault","stopPropagation","dia_opciones","onSubmit","select","SelectProps","native","toDateString","selectedDia","HORAS_DEC","HORA","MIN","Day_ADS","toString","generateRowItem","ListItem","button","paddingRight","Edit","minWidth","ConfirmOrder","handleEnvio","programarEnvio","ProductViewClosed","FindProduct","url","onDataChange","deliveryCost","deliveryStatus","paddingLeft","List","dense","valor_envio","items_to_calc","generateTotals","onInputChange","estado","numero","vacioEstaBien","exito","error","mensaje","esValido","parseFloat","isNumber","residuo","p1","p2","p3","p4","p5","p6","p7","p8","p9","pri","pub","nat","modulo","d1","substr","d2","d3","d4","d5","d6","d7","d8","d9","d10","isDigit","d11","d12","d13","digitoVerificador","validadorCedulaRuc","char","ValidateInput","tel","trim","twoParts","textField","paddingBottom","InvoiceData","stored_data","prefs","handleChange","target","new_path","msg","c","e","ValidarIdentificacion","validateMsg","cedula_err","cedula_props","helperText","rs_err","tel_props","tel_err","email_props","email_err","hay_errores","GeoCoder","telefono_error","email_error","stepIndex","onInvoiceDataChange","telefono_props","requireCedula","Fragment","autoFocus","requireEmail","size","render","r_props","Promise","resolve","reject","navigator","geolocation","PositionByIP","getCurrentPosition","geoLocation","coords","latitude","longitude","bounds","google","maps","Geocoder","geocode","QUITO_BOUNDS","first","inputText","place","route","street_number","address_components","component","ii","types","short_name","long_name","formatted_address","AddressText","address","west","north","east","south","QUITO","stripePromise","zoom","initial_position","initial_gps_enabled","placeChanged","handleLocationClick","handleMapMounted","handleDragEnd","handleDragStart","handleCenterChanged","positionChanged","valueChanged","prop","gps_enabled","Geo","CanUseGPS","currentPosition","center","_","autocomplete","unbindAll","avoid_update_zoom","mapRef","getZoom","getCenter","toJSON","getPlace","geometry","CoordsFromPlace","autocompleteRef","PlaceFromCoords","virtualMarker","classList","add","remove","document","createElement","getDiv","appendChild","mountAutocomplete","places","Autocomplete","bindTo","addListener","setOptions","strictBounds","GoogleMapsKey","G_M_K","inputRef","InputProps","endAdornment","InputAdornment","GpsFixed","GpsOff","googleMapURL","containerElement","loadingElement","mapElement","handleMapClick","onZoomChanged","onMapMounted","onCenterChanged","onDragStart","onDragEnd","marker","Map","withScriptjs","withGoogleMap","mapProps","disableDefaultUI","zoomControl","clickableIcons","MarkerWithLabel","labelAnchor","Point","icon","Card","elevation","CardContent","StripeCard","useState","clientSecret","setClientSecret","setStatus","setDiabled","setError","stripe","useStripe","elements","useElements","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","useEffect","useMemo","base","letterSpacing","invalid","empty","API_KEY","loadStripe","Items","resume","Divider","all","MapFormasPago","formasPago","datosTransferencia","whiteSpace","autoComplete","Stripe","onStripePaymentDone","stripePublicKey","other_props","Wait","ErrrMsg","IsCompleted","CircularProgress","code","ws","ws_phone","ws_msg","final_msg","encodeURIComponent","CreateWSMessage","CheckCircleOutline","ev","VerifyStep","step","requestAnimationFrame","getElementById","focus","requireContactCedula","requireContactEmail","minHeight","onBackClick","ArrowBack","onNextClick","reduxStore","PRE_LOADED_DIRECCION","steps","Stepper","alternativeLabel","currentIcon","Step","StepLabel","resumido","generateStep","MountableComponent","renderProp","routeProps","STEPS","PlaceOutlined","Place","AddShoppingCartOutlined","ShoppingCart","ReceiptOutlined","Receipt","PersonOutlined","Person","MonetizationOnOutlined","MonetizationOn","App","withRouter","handleInputChange","handleInvoiceDataChange","handleMount","handleNext","handleBack","handleDataChange","handleStripeDone","createStore","combineReducers","Create","getState","prevstep","goToStep","VerificarUbicacion","LoadProducts","PROMISE_GUARDAR","errGuardar","order","prev_position","new_position","loadingMessage","dispatch","dir","isCovered","deliveryPriceStatus","deliveryPrice","distance","duration","nearestStore","setTimeout","btnMessage","levels","pop","reference","deniedReason","storable_data","paymentData","Paper","StepsHeader","reload","PageRoute","saved","exact","from","to","NavigationButtons","logoSrc","slogan","titulo","horarios_de_atencion","infoHeader","_error","launch","Options","CardActionArea","origin","search","URLSearchParams","get","atob","LaunchApp","ReactDOM","LaunchHome"],"mappings":"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","file":"static/js/main.49b7babd.chunk.js","sourcesContent":["export default function (prevState: Product[] = [], action: Action) {\r\n    console.info(\"Reducers.ProductList\", action);\r\n    switch (action.type) {\r\n        case \"SET_PRODUCT_LIST\":\r\n            return [...action.payload];\r\n        default:\r\n            return prevState;\r\n    }\r\n}","export default function (prevItems: Product[] = [], action: Action) {\r\n    const item: Product = action.payload;\r\n    switch (action.type) {\r\n        case \"ITEM_CHANGED\":\r\n            let PrevItem = prevItems.find(x => x.id === item.id);\r\n            if (!PrevItem && item.cantidad)\r\n                return [...prevItems, item];\r\n\r\n            if (PrevItem) {\r\n                const items = [...prevItems];\r\n                let PrevIndex = items.indexOf(PrevItem);\r\n                if (item.cantidad) {\r\n                    items[PrevIndex] = item;\r\n                } else {\r\n                    items.splice(PrevIndex, 1);\r\n                }\r\n                return items;\r\n            }\r\n            return [...prevItems];\r\n\r\n        default:\r\n            return [...prevItems];\r\n    }\r\n}","import { createStore, combineReducers } from \"redux\";\r\nimport productList from \"./Reducers/productList\";\r\nimport items from \"./Reducers/items\";\r\n\r\nexport class State {\r\n    // este lo tengo que quitar\r\n    activeStep = 0;\r\n\r\n    items: Product[] = [];\r\n    productList: Product[] = [];\r\n    forma_pago = \"\";\r\n    numeroTransaccion = \"\";\r\n\r\n    nota = \"\";\r\n    // con esta funcion se si la direccion fue aprobada o no!\r\n    delivery = null;\r\n    contactData = {\r\n        telefono: \"\",\r\n        nombre: \"\",\r\n        email: \"\",\r\n        documento: 2,\r\n        identificacion: \"\"\r\n    };\r\n    invoiceData = null;\r\n    direccion = {\r\n        direccion: \"\",\r\n        referencia: \"\",\r\n        position: null\r\n    };\r\n    envio_programado = null;\r\n    start_timestamp = new Date().valueOf();\r\n    orderNumber = null;\r\n}\r\n\r\n\r\nexport function Create(defaultState: State = new State()) {\r\n    return createStore(combineReducers({\r\n        productList,\r\n        items\r\n    }));\r\n}\r\n","export default function (detalle, PORCENTAJE_IVA) {\r\n    const mutable = {\r\n        detalle: detalle,\r\n        base0: 0,\r\n        baseIva: 0,\r\n        subtotal: 0,\r\n        iva: 0,\r\n        servicio: 0,\r\n        // propina: 0, // propina es ingresado\r\n        descuentoTotal: 0,\r\n        total: 0\r\n    };\r\n\r\n    for (var i = 0; i < detalle.length; i++) {\r\n        const d = detalle[i];\r\n        if (d.cantidad > 0) {\r\n            let neto = d.cantidad * d.pvp;\r\n            if (d.pagaIva) {\r\n                mutable.baseIva = mutable.baseIva + neto;\r\n            } else {\r\n                mutable.base0 = mutable.base0 + neto;\r\n            }\r\n        }\r\n    }\r\n    mutable.base0 = mutable.base0.round(2);\r\n\r\n    let iva = 0;\r\n    let baseIva = 0;\r\n\r\n    if (PORCENTAJE_IVA && mutable.baseIva) {\r\n        iva = mutable.baseIva * PORCENTAJE_IVA / 100;\r\n        baseIva = mutable.baseIva;\r\n        mutable.iva = iva.round(2);\r\n    }\r\n    mutable.baseIva = mutable.baseIva.round(2);\r\n\r\n    let total_con_decimales = (iva + baseIva).round(2);\r\n    let total_redondeado = mutable.baseIva + mutable.iva;\r\n    if ((total_redondeado - total_con_decimales).round(2) === 0.01) {\r\n        // manualmente le quito ese 1 centavo que esta demas!\r\n        console.info(\"Le quito un centavo por diferencia\", total_con_decimales, total_redondeado)\r\n        mutable.baseIva = mutable.baseIva - 0.01;\r\n    }\r\n\r\n    mutable.servicio = mutable.servicio.round(2);\r\n    mutable.subtotal = (mutable.base0 + mutable.baseIva).round(2);\r\n    // aqui tengo que borrar la columna de propina\r\n    mutable.total = mutable.subtotal + mutable.servicio + mutable.iva + (isNaN(mutable.propina) ? 0 : mutable.propina);\r\n    // a veces, en la suma aparecen demasiados decimales\r\n    // por lo tanto lo redondeo (que tambien hace .toFixed)\r\n    mutable.total = mutable.total.round(2);\r\n    return mutable;\r\n}","import Totales from \"./Totales\";\r\n\r\n/*const URL = (window.location.href.indexOf(\"http://localhost\") === 0)\r\n    ? \"http://localhost:10000/data/\"\r\n    : (window.location.protocol === \"https:\"\r\n        ? \"https://orders-runfoodapp.rj.r.appspot.com/data/\"\r\n        : \"http://runfoodapp.ddns.net:10000/data/\");*/\r\n//const URL = \"https://orders.runfoodapp.com/data/\";\r\nconst URL = (window as any).PROJECT_ENVIROMENT === \"development\"\r\n    ? \"http://localhost:10000/data/\"\r\n    : \"http://www.orders.runfoodapp.com/data/\";\r\n//const URL = ;\r\nfunction store() {\r\n    const data = window.location.pathname.split(\"/\");\r\n    for (let i = 0; i < data.length; i++) {\r\n        if (data[i].indexOf(\"@\") === 0) {\r\n            return data[i].replace(/#/g, \"\").replace(\"@\", \"\");\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\nconst API = {\r\n    GetProducts() {\r\n        return Fetch(URL + store() + \"/product\");\r\n    },\r\n    GetProduct(ID: number) {\r\n        return Fetch(URL + store() + \"/product/\" + ID);\r\n    },\r\n    GetStripeSecret(total: number) {\r\n        return Fetch(URL + \"test/create-stripe-intent\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify({ amount: total * 100 }),\r\n            mode: \"cors\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Access-Control-Allow-Origin': '*'\r\n            }\r\n        });\r\n    },\r\n    SaveOrder(state: any) {\r\n        let { contactData, direccion, invoiceData, items, envio_programado, delivery } = state;\r\n\r\n        if (!contactData) contactData = {};\r\n        if (!direccion) direccion = {};\r\n        if (!invoiceData) invoiceData = {};\r\n\r\n        let taking_order_time = new Date().valueOf() - state.start_timestamp;\r\n\r\n        var all_items = [...items];\r\n        if (delivery && delivery.valor) all_items.push({ id: \"domicilio\", pvp: delivery.valor, pagaIva: 0 });\r\n        const totals = Totales(all_items, state.store.porcentajeIVA);\r\n        totals.detalle = items;\r\n\r\n        const ORDER = {\r\n            ...contactData,\r\n            nota: state.nota,\r\n            forma_pago: state.forma_pago,\r\n            numeroTransaccion: state.numeroTransaccion,\r\n            stripePaymentData: state.stripePaymentData,\r\n\r\n            lat: direccion && direccion.position && direccion.position.lat,\r\n            lng: direccion && direccion.position && direccion.position.lng,\r\n            direccion: direccion.direccion,\r\n            referencia: direccion.referencia,\r\n\r\n            envio_programado,\r\n\r\n            valor_delivery: delivery && delivery.valor,\r\n            mts_delivery: delivery && delivery.metros,\r\n            segs_delivery: delivery && delivery.segundos,\r\n            info_id: delivery && delivery.info_id,\r\n\r\n            documento_factura: invoiceData.documento,\r\n            identificacion_factura: invoiceData.identificacion,\r\n            razonsocial_factura: invoiceData.razonSocial,\r\n            direccion_factura: invoiceData.direccion,\r\n            telefono_factura: invoiceData.telefono,\r\n            email_factura: invoiceData.email,\r\n\r\n            ...totals,\r\n\r\n            taking_order_time\r\n        }\r\n        return Fetch(URL + store() + \"/order\", {\r\n            body: JSON.stringify(ORDER),\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Access-Control-Allow-Origin': '*'\r\n            }\r\n        });\r\n    },\r\n    GetStoreData() {\r\n        return Fetch(URL + store() + \"?gmaps=1&stripe=1\");\r\n    },\r\n\r\n    CheckCoverage(position: { lat: string; lng: string; }) {\r\n        return Fetch(URL + store() + `/check-coverage?lat=${position.lat}&lng=${position.lng}`);\r\n    },\r\n    RedirectTo(new_store: string, step1?: any) {\r\n        var url = window.location.href;\r\n        var new_url = url.split(\"/@\" + store())[0] + (\"/@\" + new_store);\r\n        if (step1) new_url += \"?step1=\" + btoa(JSON.stringify(step1)) + \"#/1\";\r\n        window.location.replace(new_url);\r\n    }\r\n}\r\nfunction Fetch(URI: string, options?: any) {\r\n    const DEFAULTS = {\r\n        method: \"GET\",\r\n        cache: \"reload\",\r\n        mode: \"cors\"\r\n    };\r\n    return fetch(URI, options || DEFAULTS).then(response => {\r\n        if (response.ok) {\r\n            return response.json();\r\n        } else {\r\n            return response.clone().json()\r\n                .catch(() => {\r\n                    return response.text().then(x => {\r\n                        throw {\r\n                            message: x,\r\n                            status: response.status,\r\n                            statusText: response.statusText\r\n                        }\r\n                    })\r\n                }).then(obj => {\r\n                    throw {\r\n                        ...obj,\r\n                        status: response.status,\r\n                        statusText: response.statusText\r\n                    }\r\n                })\r\n        }\r\n    }).catch(ex => {\r\n        if (ex.message === \"Failed to fetch\") {\r\n            throw {\r\n                message: \"Este servicio no se encuentra disponible por el momento. Intentelo más tarde.\",\r\n                status: 0\r\n            }\r\n        }\r\n        if (!ex.message) ex.message = ex.statusText;\r\n        throw ex;\r\n    });\r\n}\r\nexport default API;","export function Set(key, item) {\r\n    window.localStorage.setItem(key, item);\r\n    console.log(\"Preferences.\" + key + \" stored\");\r\n}\r\nexport function Get(item) {\r\n    let result = window.localStorage.getItem(item);\r\n    try {\r\n        result = JSON.parse(result);\r\n    } catch (ex) {\r\n        console.warn(\"Preferences.\" + item, ex);\r\n    }\r\n    if (result === \"true\" || result === \"false\") return result === \"true\";\r\n    console.log(\"Preferences.\" + item + \" sent\", result);\r\n    if (result === null || result === undefined) return null;\r\n    return result;\r\n}","import React from \"react\";\r\nimport {\r\n    Dialog, DialogContent, Typography, IconButton, TextField,\r\n    Button, DialogActions, CardMedia,\r\n    withStyles, withMobileDialog,\r\n    AppBar, Toolbar, Hidden, Slide,\r\n} from \"@material-ui/core\";\r\nimport { Add, Remove } from \"@material-ui/icons\";\r\nimport { Route } from \"react-router-dom\";\r\nconst styles = theme => ({\r\n    dialogPaper: {\r\n        maxWidth: 450,\r\n        width: \"100%\",\r\n        maxHeight: \"calc(100% - 20px)\",\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    },\r\n    loadingPaper: {\r\n        marginLeft: 10,\r\n        marginRight: 10,\r\n        width: \"calc(100% - 20px)\",\r\n        maxWidth: 450\r\n    }\r\n});\r\n\r\ninterface Props {\r\n    show: boolean;\r\n    onDone: (item?: Product) => void;\r\n    product?: Product | null | undefined;\r\n    classes?: any;\r\n    fullScreen?: boolean;\r\n}\r\ninterface State extends Product {\r\n    loading: boolean;\r\n}\r\n\r\nclass ViewProduct extends React.Component<Props, State> {\r\n    state = {\r\n        nombre: \"\",\r\n        descripcion: \"\",\r\n        pvp_final: 0,\r\n        cantidad: 1,\r\n        imgSrc: \"\",\r\n        nota: \"\",\r\n        loading: true,\r\n        idGrupo: 0,\r\n        grupo: \"\"\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps: Props) {\r\n        return (this.props.show === nextProps.show && this.props.show === false) ? false : true;\r\n    }\r\n    componentWillReceiveProps(nextProps: Props) {\r\n        if (!this.props.show && nextProps.show) {\r\n            this.setState(prev => {\r\n                const keys = Object.keys(prev);\r\n                // RESETEO LAS PROPIEDADES QUE NO EXISTEN\r\n                var cantidad = (nextProps.product || prev).cantidad;\r\n                if (cantidad === null || cantidad === undefined) cantidad = 1;\r\n\r\n                return {\r\n                    ...keys.reduce((acc, v) => ({ ...acc, [v]: undefined }), {} as State)\r\n                    , ...nextProps.product\r\n                    , cantidad\r\n                    , loading: false\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    handleCantidad = event => {\r\n        const name = event.currentTarget.name;\r\n        this.setState(prev => {\r\n            const newState = { ...prev };\r\n            let cantidad = newState.cantidad;\r\n            if (name === \"add\") cantidad = (cantidad || 0) + 1;\r\n            if (name === \"remove\") cantidad = cantidad <= 0 ? 0 : (cantidad - 1);\r\n            newState.cantidad = cantidad;\r\n            return newState;\r\n        });\r\n    }\r\n    handleInput = event => {\r\n        const { name, value } = event.currentTarget;\r\n        this.setState({ [name]: value } as any);\r\n    }\r\n    handleDone = () => this.props.onDone({ ...this.state });\r\n    handleExit = () => this.props.onDone();\r\n\r\n    render() {\r\n        const { state } = this;\r\n        const { classes, show, fullScreen } = this.props;\r\n        const DialogProps: any = {};\r\n        if (!fullScreen) DialogProps.classes = { paper: classes.dialogPaper };\r\n\r\n        console.info(\"Rendering ViewProducts\");\r\n\r\n        const pvp = ((state.pvp_final && state.cantidad)\r\n            ? (state.pvp_final * state.cantidad)\r\n            : state.pvp_final).toFixed(2);\r\n\r\n        return (<Dialog\r\n            fullScreen={fullScreen}\r\n\r\n            {...DialogProps}\r\n            sm\r\n            open={show}\r\n            scroll=\"paper\"\r\n            TransitionComponent={Transition}\r\n            onClose={this.handleExit}\r\n        >\r\n            <Hidden smUp>\r\n                <AppBar position=\"static\">\r\n                    <Toolbar>\r\n                        <Typography color=\"inherit\" style={{ flexGrow: 1, textTransform: \"uppercase\" }} variant=\"h6\">{state.nombre}</Typography>\r\n                    </Toolbar>\r\n                </AppBar>\r\n            </Hidden>\r\n\r\n            <DialogContent style={{ padding: 0 }}>\r\n                <CardMedia className=\"product-details-img\" image={state.imgSrc || \"https://diegopq95.github.io/img/default.png\"} title={state.nombre} />\r\n\r\n                <Hidden xsDown>\r\n                    <div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\" }}>\r\n                        <Typography style={{ margin: 10, flex: 1, textTransform: \"uppercase\" }} variant=\"h6\">{state.nombre}</Typography>\r\n                        <Typography style={{ margin: 10 }} variant=\"h6\">$ {pvp}</Typography>\r\n                    </div>\r\n                </Hidden>\r\n\r\n                <Typography style={{ margin: 10 }} variant=\"body2\">\r\n                    {state.descripcion}\r\n                </Typography>\r\n\r\n                <div style={{ width: \"100%\", textAlign: \"center\", marginTop: 20, marginBottom: 20, display: \"table\" }}>\r\n                    <Hidden smUp>\r\n                        <Typography style={{ verticalAlign: \"middle\", display: \"table-cell\" }} variant=\"h6\">$ {pvp}</Typography>\r\n                    </Hidden>\r\n\r\n                    <div style={{ display: \"table-cell\", verticalAlign: \"middle\" }} >\r\n                        <QuantityButton onClick={this.handleCantidad} name=\"add\">\r\n                            <Add />\r\n                        </QuantityButton>\r\n                        <Typography style={{ display: \"inline-block\", marginLeft: 20, marginRight: 20 }} variant=\"h6\">\r\n                            {state.cantidad || 0}\r\n                        </Typography>\r\n                        <QuantityButton disabled={state.cantidad <= 0} onClick={this.handleCantidad} name=\"remove\">\r\n                            <Remove />\r\n                        </QuantityButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{ width: \"95%\", margin: \"auto\" }}>\r\n                    <TextField value={state.nota}\r\n                        inputProps={{ maxLength: 200 }}\r\n                        onChange={this.handleInput}\r\n                        name=\"nota\"\r\n                        placeholder=\"Ej. Sin Salsa, verduras aparte, etc.\"\r\n                        label=\"Agrega una nota:\"\r\n                        variant=\"outlined\"\r\n                        multiline rows=\"3\" fullWidth />\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button type=\"button\" onClick={this.handleExit} variant=\"text\">SALIR</Button>\r\n                <Button type=\"button\" onClick={this.handleDone} color=\"primary\" variant=\"outlined\">AGREGAR</Button>\r\n            </DialogActions>\r\n        </Dialog>);\r\n    }\r\n}\r\nconst ViewProductHOC = withStyles(styles)(withMobileDialog()(ViewProduct));\r\nexport default function (props: {\r\n    path: string;\r\n    onDone: (item?: Product) => void;\r\n    findProductFn: (ID?: any) => Product | null | undefined;\r\n}) {\r\n    return <Route\r\n        path={props.path}\r\n        children={({ match }) => <ViewProductHOC\r\n            show={Boolean(match && match.params.id)}\r\n            onDone={props.onDone}\r\n            product={props.findProductFn(match && match.params && match.params.id)}\r\n        />}\r\n    />\r\n}\r\n\r\nfunction QuantityButton(props) {\r\n    const style = { height: 50, width: 50, border: \"1px solid gray\" };\r\n    if (props.disabled) delete style.border;\r\n    return (<IconButton\r\n        disabled={props.disabled}\r\n        onClick={props.onClick}\r\n        name={props.name} style={style}\r\n    >\r\n        {props.children}\r\n    </IconButton>)\r\n}\r\n\r\nconst Transition = React.forwardRef(function (props: any, ref: any) {\r\n    return <Slide direction=\"up\" {...props} ref={ref} />;\r\n});","import React from \"react\";\r\nimport { withStyles, GridList, GridListTile, GridListTileBar, Typography } from \"@material-ui/core\";\r\n\r\n\r\nconst styles = {\r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden'\r\n    },\r\n    gridList: {\r\n        flexWrap: 'nowrap',\r\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n        transform: 'translateZ(0)',\r\n    }\r\n};\r\n\r\nexport default withStyles({\r\n    tile_no_disponible: {\r\n        \"&::before\": {\r\n            background: \"#b3b1b1d4\",\r\n            position: \"absolute\",\r\n            top: 0,\r\n            left: 0,\r\n            height: \"100%\",\r\n            width: \"100%\",\r\n            content: '\"NO DISPONIBLE\"',\r\n            zIndex: 100,\r\n            color: \"white\",\r\n            paddingTop: 60,\r\n            fontSize: \"calc(1em + 1vw)\",\r\n            fontWeight: \"bolder\",\r\n            fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n            textAlign: \"center\"\r\n        }\r\n    }\r\n})(function (props: any) {\r\n    return (<div style={{ ...props.style }}>\r\n        <Typography variant=\"h6\" style={{ marginLeft: 10 }}>{props.title}</Typography>\r\n        <GridList cols={2.5} style={styles.gridList as any}>\r\n            {props.items.sort((a, b) => a.orden - b.orden).map((item) => {\r\n                const found = (props.choosenItems || []).find(x => x.id === item.id);\r\n                return generateCarouselItem(item, found && found.cantidad, props.onClick, props.classes);\r\n            })}\r\n        </GridList>\r\n    </div>)\r\n});\r\nfunction generateCarouselItem(item, cantidad, onClick, classes) {\r\n    const TileBar: any = {\r\n        title: item.nombre,\r\n        actionPosition: \"right\",\r\n        subtitle: \"$ \" + item.pvp_final.toFixed(2),\r\n        actionIcon: undefined as any\r\n    }\r\n    if (cantidad) TileBar.actionIcon = <Typography variant=\"body2\" style={{ color: \"#fff\", marginRight: 5 }} >x{cantidad}</Typography>;\r\n    const Tile: any = { cursor: \"pointer\" };\r\n\r\n    const _on_click = (event: any) => {\r\n        if (item.paused) {\r\n            alert(\"Este item no está disponible\");\r\n        } else {\r\n            onClick(event);\r\n        }\r\n    }\r\n\r\n    if (cantidad) Tile.border = \"3px dashed #f50057\";\r\n    return (<GridListTile\r\n        classes={{ tile: item.paused ? classes.tile_no_disponible : null }}\r\n        style={Tile as any}\r\n        key={item.id}\r\n        onClick={_on_click}\r\n        id={item.id}\r\n        color=\"inherit\">\r\n        <img src={item.imgSrc} alt={item.nombre} />\r\n        <GridListTileBar {...TileBar} />\r\n    </GridListTile >);\r\n}","export function ItemChanged(payload: Product) {\r\n    return {\r\n        type: \"ITEM_CHANGED\",\r\n        payload\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport default function (Component) {\r\n    return class Mountable extends React.PureComponent<{\r\n        onMounted: (ID: any) => void;\r\n        ID: any;\r\n        [prop: string]: any;\r\n    }> {\r\n        componentWillMount() {\r\n            if (this.props.onMounted) this.props.onMounted(this.props.ID);\r\n        }\r\n        render() {\r\n            const { ID, onMounted, ...remain } = this.props;\r\n            return <Component {...remain} />\r\n        }\r\n    }\r\n}","import React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport ViewProduct from \"./ViewProduct\";\r\nimport Carousel from \"./Carousel\";\r\nimport { ItemChanged } from \"../../ActionCreators/Items\";\r\nimport { connect } from \"react-redux\";\r\nimport Mountable from \"../../HOC/Mountable\";\r\n\r\n\r\ninterface Props {\r\n    onItemChange: (product: Product) => void;\r\n    path: string;\r\n    choosenItems: Product[];\r\n    style: any;\r\n    productList: Product[];\r\n    history?: any;\r\n}\r\n\r\nclass TakeOrder extends React.PureComponent<Props, any> {\r\n    handleClick = (event: React.MouseEvent<any, MouseEvent>) => {\r\n        this.props.history.push(this.props.path + \"/view-product/\" + event.currentTarget.id);\r\n    }\r\n    findProduct = (ID?) => {\r\n        if (!ID) return undefined;\r\n        var exists = (this.props.choosenItems || []).find(x => x.id === +ID);\r\n        if (exists) return exists;\r\n        return this.props.productList.find(x => x.id === +ID);\r\n    }\r\n    productViewClose = product => {\r\n        if (product) this.props.onItemChange(product);\r\n        this.props.history.push(this.props.path);\r\n    }\r\n    render() {\r\n        const { productList, style, path, choosenItems } = this.props;\r\n\r\n        const products = productList.reduce((prev, current) => {\r\n            let exists = prev.find(x => x.group === current.grupo);\r\n            if (!exists) {\r\n                exists = {\r\n                    group: current.grupo,\r\n                    id: current.idGrupo,\r\n                    orden: current.grupo_orden,\r\n                    items: []\r\n                }\r\n                prev.push(exists);\r\n            }\r\n            exists.items.push(current);\r\n            return prev;\r\n        }, [] as any[]);\r\n\r\n        if (!(products && products.length)) {\r\n            return (<div style={{ ...style, textAlign: \"center\" }}>\r\n                <Typography variant=\"h6\">Esta tienda no tiene productos disponibles. Intenta nuevamente después.</Typography>\r\n            </div>)\r\n        }\r\n        return (<div style={{ ...style, textAlign: \"left\", overflowX: \"hidden\", overflowY: \"auto\" }}>\r\n            <ViewGroup products={products} choosenItems={choosenItems} onClick={this.handleClick} />\r\n            <ViewProduct\r\n                path={path + \"/view-product/:id\"}\r\n                onDone={this.productViewClose}\r\n                findProductFn={this.findProduct}\r\n            />\r\n        </div >);\r\n    }\r\n}\r\n\r\nfunction ViewGroup(props) {\r\n    const ID = props.id;\r\n    const products = props.products.filter(x => x.idGrupo === +ID\r\n        || (ID === undefined || ID === null)\r\n    );\r\n    return products\r\n        .sort((a, b) => a.orden - b.orden)\r\n        .map((p, index) => <Carousel key={p.id || index}\r\n            onClick={props.onClick}\r\n            style={{ marginTop: 10, marginBottom: 10 }}\r\n            title={p.group}\r\n            items={p.items}\r\n            choosenItems={props.choosenItems}\r\n        />);\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        productList: state.productList,\r\n        choosenItems: state.items\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onItemChange: ItemChanged\r\n}\r\n\r\nexport default Mountable(\r\n    connect(mapStateToProps, mapDispatchToProps)(TakeOrder)\r\n);","function DayString(day) {\r\n    if (day === 0) return \"Dom\";\r\n    if (day === 1) return \"Lun\";\r\n    if (day === 2) return \"Mar\";\r\n    if (day === 3) return \"Mie\";\r\n    if (day === 4) return \"Jue\";\r\n    if (day === 5) return \"Vie\";\r\n    if (day === 6) return \"Sab\";\r\n    if (day === 7) return \"Dom\";\r\n}\r\nexport function ParseHorarios(horarios) {\r\n    var results = [];\r\n    if (horarios && horarios.length) {\r\n        for (let i = 0; i < horarios.length; i++) {\r\n            const h = horarios[i];\r\n            var dias_ordenados = h.dias\r\n                .map(x => x === 0 ? 7 : x)\r\n                .sort((a, b) => a - b);\r\n\r\n            var dias_consecutivos = dias_ordenados.length > 1 && dias_ordenados\r\n                .filter((value, index) => {\r\n                    if (index === 0) return true;\r\n                    return dias_ordenados[index - 1] === (value - 1);\r\n                }).length === dias_ordenados.length;\r\n            var periodo = PeriodoString(h);\r\n            var dias;\r\n            if (dias_consecutivos) {\r\n                dias = DayString(dias_ordenados[0]) + \" - \" + DayString(dias_ordenados[dias_ordenados.length - 1]);\r\n            } else {\r\n                dias = dias_ordenados.map(x => DayString(x)).join(\", \");\r\n            }\r\n            results.push({ periodo, dias });\r\n        }\r\n    }\r\n    return results;\r\n}\r\n\r\nfunction PeriodoString(h) {\r\n    var { tz, desde, hasta } = h;\r\n    var t = new Date();\r\n    var desde = new Date(Date.UTC(t.getFullYear(), t.getMonth(), t.getDate(), desde[0], parseInt(desde[1]) + parseInt(tz), 59));\r\n    var hasta = new Date(Date.UTC(t.getFullYear(), t.getMonth(), t.getDate(), hasta[0], parseInt(hasta[1]) + parseInt(tz), 59));\r\n    var PLUS = \"\";\r\n    if (desde.getDay() < hasta.getDay()) {\r\n        PLUS = \"+\" + (hasta.getDay() - desde.getDay());\r\n    }\r\n    return desde.toLocaleTimeString().replace(/:59/g, \"\") + \" - \" + hasta.toLocaleTimeString().replace(/:59/g, \"\") + PLUS\r\n}\r\n\r\n/** \r\n * Utiliza una lista de horarios y los genera en DIAS del año\r\n * Si no hay horarios, genera un numeros de dias del año y listo\r\n */\r\nexport function HorariosToDias(horarios, dias_a_generar) {\r\n    var dias = [];\r\n    // en este formato\r\n    // const dia = { day: 1, horas: [9, 10, 11, 12, 24, 56] };\r\n    var CURRENT_TZ = new Date().getTimezoneOffset();\r\n    if (horarios && horarios.length) {\r\n        for (let i = 0; i < horarios.length; i++) {\r\n            const H = horarios[i];\r\n            var dias_ordenados = H.dias.sort((a, b) => a - b);\r\n            // se quee los minutos pasan de 15 en 15\r\n            var min_desde = (H.desde[0] * 60) + H.desde[1] + H.tz - CURRENT_TZ;\r\n            var min_hasta = (H.hasta[0] * 60) + H.hasta[1] + H.tz - CURRENT_TZ;\r\n\r\n            dias_ordenados.forEach(d => {\r\n                var exists = dias.find(x => x.day === d);\r\n                if (!exists) {\r\n                    exists = { day: d, horas: [] };\r\n                    dias.push(exists);\r\n                }\r\n                // verifico si las horas ya existen\r\n                for (let index = min_desde; index <= min_hasta; index += 15) {\r\n                    if (exists.horas.indexOf(index) < 0) {\r\n                        exists.horas.push(index);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    var result = [];\r\n    if (!dias_a_generar) dias_a_generar = 7;\r\n    var hoy = new Date();\r\n    var dias_calenario_desde_hoy = 0;\r\n    while (dias_a_generar) {\r\n        dias_calenario_desde_hoy++;\r\n        var sgte_dia = new Date(hoy.getFullYear(), hoy.getMonth(), hoy.getDate() + dias_calenario_desde_hoy, hoy.getHours(), hoy.getMinutes());\r\n        var dia_en_horario = dias.find(item => item.day === sgte_dia.getDay());\r\n\r\n        var day = [sgte_dia.getFullYear(), sgte_dia.getMonth(), sgte_dia.getDate(), sgte_dia.getTimezoneOffset()].join(\"-\");\r\n        if (dias.length) {\r\n            if (dia_en_horario) {\r\n                result.push({ ...dia_en_horario, Date: sgte_dia, day });\r\n                dias_a_generar--;\r\n            }\r\n        } else {\r\n            result.push({ day, Date: sgte_dia });\r\n            dias_a_generar--;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nwindow.HorariosToDias = HorariosToDias;","import React from \"react\";\r\nimport { Dialog, DialogContent, Typography, TextField, DialogActions, Button } from \"@material-ui/core\";\r\nimport { HorariosToDias } from \"../../Services/HorarioCalcs\";\r\n\r\nexport default class Schedule extends React.PureComponent {\r\n    state = {\r\n        dia: \"\",\r\n        hora: \"\",\r\n        dias: []\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleDia = this.handleDia.bind(this);\r\n        this.handleHora = this.handleHora.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        if (props.value) {\r\n            for (const key in this.state) {\r\n                if (props.value.hasOwnProperty(key)) {\r\n                    this.state[key] = props.value[key];\r\n                }\r\n            }\r\n        }\r\n        this.state.dias = HorariosToDias(props.store && props.store.horarios, 7);\r\n    }\r\n    handleDia(event) {\r\n        const { value } = event.currentTarget;\r\n        this.setState({ dia: value });\r\n        var horas_del_dia = HorasDelDia(value, this.state.dias);\r\n        if (!(horas_del_dia &&\r\n            horas_del_dia.length &&\r\n            horas_del_dia.indexOf(+this.state.hora) >= 0)\r\n        ) this.setState({ hora: null });\r\n    }\r\n    handleHora(event) {\r\n        const { value } = event.currentTarget;\r\n        this.setState({ hora: value });\r\n    }\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        // si no le quiere poner hora, esta bien!\r\n        //var horas_del_dia = HorasDelDia(this.state.dia, this.state.dias);x\r\n        this.props.onDone && this.props.onDone({\r\n            dia: this.state.dia,\r\n            hora: this.state.hora\r\n        });\r\n    }\r\n    handleClose() {\r\n        this.props.onDone && this.props.onDone(this.props.value);\r\n    }\r\n\r\n    render() {\r\n        const { dia, hora } = this.state;\r\n        var dias = (this.state.dias && this.state.dias.length && this.state.dias) || [];\r\n        var horas = [{ value: \"\", label: \"Cualquier hora\" }, ...HorasDelDia(dia, dias)];\r\n        var dia_opciones = [{ day: \"\", label: \"Elige un día\" }, ...dias];\r\n\r\n        return (<Dialog open={true} onClose={this.handleClose}>\r\n            <form onSubmit={this.handleSubmit}>\r\n                <DialogContent>\r\n                    <Typography variant=\"h6\">Elige el horario para tu entrega:</Typography>\r\n\r\n                    <TextField\r\n                        select\r\n                        value={dia || \"\"}\r\n                        onChange={this.handleDia}\r\n                        variant=\"outlined\"\r\n                        style={{ width: \"95%\", margin: \"auto\", marginBottom: 10, marginTop: 10 }}\r\n                        SelectProps={{ native: true }}\r\n                    >\r\n                        {dia_opciones.map(d => <option value={d.day} >{d.label || d.Date.toDateString()}</option>)}\r\n                    </TextField>\r\n\r\n                    {horas && horas.length && <TextField\r\n                        select\r\n                        value={hora || \"\"}\r\n                        onChange={this.handleHora}\r\n                        variant=\"outlined\"\r\n                        style={{ width: \"95%\", margin: \"auto\", marginBottom: 10, marginTop: 10 }}\r\n                        SelectProps={{ native: true }}\r\n                    >\r\n                        {horas.map(h => <option value={h.value} >{h.label}</option>)}\r\n                    </TextField>}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button type=\"submit\">GUARDAR</Button>\r\n                </DialogActions>\r\n            </form>\r\n        </Dialog>)\r\n    }\r\n}\r\n\r\n\r\nfunction HorasDelDia(dia, dias) {\r\n    var selectedDia = dia && dias.find(item => item.day === dia);\r\n    if (selectedDia) {\r\n        return (selectedDia.horas && selectedDia.horas.map(x => {\r\n            var HORAS_DEC = x / 60;\r\n            var HORA = parseInt(HORAS_DEC);\r\n            var MIN = HORAS_DEC > HORA ? (HORAS_DEC - HORA) * 60 : 0;\r\n            var Day_ADS = 0;\r\n            if (HORA > 23) {\r\n                Day_ADS++;\r\n                HORA = HORA - 24;\r\n            }\r\n            return {\r\n                value: x,\r\n                label: `${HORA.toString().length === 1 ? \"0\" : \"\"}${HORA}` + \":\" + `${MIN.toString().length === 1 ? \"0\" : \"\"}${MIN} ${Day_ADS ? (\"+\" + Day_ADS) : \"\"}`\r\n            }\r\n        })) || [];\r\n    }\r\n    return [];\r\n}","import React from \"react\";\r\nimport { ListItem, Typography } from \"@material-ui/core\";\r\nimport Totales from \"../../Services/Totales\";\r\nimport { Edit } from \"@material-ui/icons\";\r\n\r\n\r\nexport function generateRowItem(data, onClick?) {\r\n    const color: any = data.id === \"DOMICILIO\" ? \"primary\" : \"default\";\r\n    const neto: any = (data.pvp_final * data.cantidad);\r\n    return (\r\n        <ListItem\r\n            key={data.id} button={Boolean(onClick) as any} onClick={onClick} id={data.id}>\r\n            <div style={{ display: \"table\", width: \"100%\" }}>\r\n                <div style={{ display: \"table-cell\", paddingRight: 5 }}>\r\n                    <Typography color={color} variant=\"subtitle1\">\r\n                        {Boolean(onClick) ? <Edit /> : null} {data.nombre}\r\n                    </Typography>\r\n                    {data.nota && <Typography color={color} variant=\"body1\">{data.nota}</Typography>}\r\n                </div>\r\n                <div style={{ display: \"table-cell\", width: \"15%\", maxWidth: 100, textAlign: \"right\" }}>\r\n                    <Typography color={color} variant=\"h6\" style={{ margin: 0, padding: 0 }}>x{data.cantidad}</Typography>\r\n                </div>\r\n                <div style={{ display: \"table-cell\", width: \"25%\", maxWidth: 100, minWidth: 75, textAlign: \"right\" }}>\r\n                    <Typography color={color} variant=\"h6\" style={{ margin: 0, padding: 0 }}>$ {neto.round(2).toFixed(2)}</Typography>\r\n                </div>\r\n            </div>\r\n        </ListItem>)\r\n}\r\nexport function generateTotals(items, valor_envio, porcentajeIVA) {\r\n    var items_to_calc = [...items];\r\n    if (valor_envio) items_to_calc.push({\r\n        id: \"DOMICILIO\", cantidad: 1, pvp: valor_envio, pagaIva: false\r\n    });\r\n    const totals: any = Totales(items_to_calc, porcentajeIVA);\r\n    return (<ListItem>\r\n\r\n        <div style={{ display: \"table\", width: \"100%\" }}>\r\n            <div style={{ display: \"table-cell\", paddingRight: 5 }}>\r\n                <Typography variant=\"h6\">TOTAL</Typography>\r\n            </div>\r\n            <div style={{ display: \"table-cell\", width: \"15%\", maxWidth: 100, textAlign: \"right\" }}></div>\r\n            <div style={{ display: \"table-cell\", width: \"25%\", maxWidth: 100, minWidth: 75, textAlign: \"right\" }}>\r\n                <Typography style={{ margin: 0, padding: 0 }} variant=\"h6\">\r\n                    $ {totals.total.round(2).toFixed(2)}\r\n                </Typography>\r\n            </div>\r\n        </div>\r\n\r\n    </ListItem>);\r\n}","import React from \"react\";\r\nimport { Typography, TextField, List, Button } from \"@material-ui/core\";\r\nimport { Route } from \"react-router-dom\";\r\nimport ViewProduct from \"../TakeOrder/ViewProduct\";\r\nimport Schedule from \"./Schedule\";\r\nimport { generateRowItem, generateTotals } from \"./Rows\";\r\nimport { ItemChanged } from \"../../ActionCreators/Items\";\r\nimport Mountable from \"../../HOC/Mountable\";\r\nimport { connect } from \"react-redux\";\r\n\r\ninterface Props {\r\n    history: any;\r\n    match: any;\r\n\r\n    productList: Product[];\r\n    items: Product[];\r\n\r\n    onDataChange: any;\r\n    onInputChange: any;\r\n    onItemChange:any;\r\n\r\n    delivery: {\r\n        valor: number,\r\n        status: any\r\n    };\r\n    nota: string;\r\n    store: any;\r\n    envio_programado: boolean;\r\n}\r\nclass ConfirmOrder extends React.PureComponent<Props, any> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.handleEnvio = this.handleEnvio.bind(this);\r\n        this.programarEnvio = this.programarEnvio.bind(this);\r\n        this.ProductViewClosed = this.ProductViewClosed.bind(this);\r\n        this.FindProduct = this.FindProduct.bind(this);\r\n    }\r\n    handleClick(event) {\r\n        const id = event.currentTarget.id;\r\n        this.props.history.push(this.props.match.url + \"/view-product/\" + id);\r\n    }\r\n    programarEnvio(value?) {\r\n        this.props.onDataChange && this.props.onDataChange(\"envio_programado\", value);\r\n        this.props.history.push(this.props.match.path);\r\n    }\r\n    handleEnvio(event) {\r\n        const programar_envio = event.currentTarget.value;\r\n        if (programar_envio) {\r\n            this.props.history.push(this.props.match.path + \"/schedule\");\r\n        } else {\r\n            this.programarEnvio();\r\n        }\r\n    }\r\n    ProductViewClosed(product) {\r\n        if (product) this.props.onItemChange(product);\r\n        this.props.history.push(this.props.match.path);\r\n    }\r\n    FindProduct(ID?) {\r\n        if (!ID) return undefined;\r\n        var exists = (this.props.items || []).find(x => x.id === +ID);\r\n        if (exists) return exists;\r\n        return this.props.productList.find(x => x.id === +ID);\r\n    }\r\n    render() {\r\n        console.log(\"ConfirmOrder rendered\");\r\n        const { props } = this;\r\n        const deliveryCost = (props.delivery || {}).valor;\r\n        const deliveryStatus = (props.delivery || {}).status;\r\n\r\n        return (<div style={{ paddingLeft: 10, paddingRight: 10, overflow: \"auto\", flex: 1 }}>\r\n            <List style={{ marginBottom: 10 }} dense={true}>\r\n                {(props.items).map(x => generateRowItem(x, this.handleClick))}\r\n\r\n                {(deliveryStatus === \"ACTIVO\" && !isNaN(+deliveryCost))\r\n                    ? generateRowItem({\r\n                        id: \"DOMICILIO\",\r\n                        nombre: \"ENVIO A DOMICILIO\"/* + (props.delivery.metros\r\n                            ? (\" (\" + (props.delivery.metros / 1000).round(1) + \" km)\")\r\n                            : \"\")*/,\r\n                        pvp_final: deliveryCost,\r\n                        cantidad: 1\r\n                    }) : null}\r\n\r\n                {generateTotals(props.items, deliveryCost, props.store.porcentajeIVA)}\r\n            </List>\r\n            {deliveryStatus !== \"ACTIVO\"\r\n                ? (<Typography variant=\"subtitle1\" color=\"secondary\">\r\n                    El costo del Envío a Domicilio no está disponible.\r\n                    Debes consultar este valor con la tienda.\r\n                </Typography>)\r\n                : null}\r\n\r\n            <div style={{ width: \"100%\", textAlign: \"center\" }}>\r\n                <TextField\r\n                    label=\"Agrega una nota a tu pedido\"\r\n                    placeholder=\"Ej. Sin cubiertos, sin salas extra, etc.\"\r\n                    multiline={true}\r\n                    name=\"nota\"\r\n                    inputProps={{ maxLength: 200 }}\r\n                    value={props.nota}\r\n                    onChange={props.onInputChange}\r\n                    rows={2}\r\n                    style={{ width: \"95%\", margin: \"auto\", marginBottom: 10, marginTop: 10 }}\r\n                />\r\n                <div style={{ width: \"95%\", display: \"flex\", flexDirection: \"row\", marginTop: 10 }}>\r\n                    {props.store.estado === \"ACTIVO\" &&\r\n                        (<Button color={props.envio_programado ? \"default\" : \"primary\"} style={{ flex: 1, marginRight: 5 }} variant={props.envio_programado ? \"outlined\" : \"contained\"} onClick={this.handleEnvio} value=\"\" >\r\n                            Entrega inmediata\r\n                        </Button>)}\r\n                    <Button color={props.envio_programado ? \"primary\" : \"default\"} style={{ flex: 1, marginLeft: 5 }} variant={props.envio_programado ? \"contained\" : \"outlined\"} onClick={this.handleEnvio} value=\"1\">\r\n                        {props.envio_programado ? \"Entrega programada\" : \"Programa la Entrega\"}\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n            <ViewProduct\r\n                onDone={this.ProductViewClosed}\r\n                findProductFn={this.FindProduct}\r\n                path={props.match.path + \"/view-product/:id\"}\r\n            />\r\n            <Route path={props.match.path + \"/schedule\"} >\r\n                <Schedule store={props.store} value={props.envio_programado} onDone={this.programarEnvio} />\r\n            </Route>\r\n        </div >)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        productList: state.productList,\r\n        items: state.items\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    onItemChange: ItemChanged\r\n}\r\n\r\nexport default Mountable(\r\n    connect(mapStateToProps, mapDispatchToProps)(ConfirmOrder)\r\n);\r\n\r\n/*\r\n\r\n        <ListItemText primary={<Typography variant=\"h5\" style={{ margin: 0, padding: 0 }}>\r\n            Total\r\n            </Typography>}\r\n        />\r\n        <ListItemSecondaryAction>\r\n            <Typography style={{ margin: 0, padding: 0 }} variant=\"h5\">\r\n                {items.length}\r\n            </Typography>\r\n            <Typography style={{ margin: 0, padding: 0 }} variant=\"h5\">\r\n                $ {(totals.total + (valor_envio || 0)).round(2).toFixed(2)}\r\n            </Typography>\r\n        </ListItemSecondaryAction>\r\n*/","export default function (value, documento) {\r\n    if (!value) value = \"\";\r\n    documento = +documento;\r\n    if (documento === 3) { return; }\r\n    if (documento === 1) {\r\n        if (value.length !== 13) return \"Número de RUC debe tener 13 digitos\";\r\n        if (value.length === 13 && value === \"9999999999999\") return;\r\n    }\r\n    if (documento === 2) {\r\n        if (value.length !== 10) return \"Número de Cedula debe tener 10 digitos\";\r\n    }\r\n    return validadorCedulaRuc(value, false);\r\n}\r\nfunction validadorCedulaRuc(numero, vacioEstaBien, exito, error) {\r\n    var mensaje = '';\r\n    var esValido = false;\r\n    if (vacioEstaBien && isEmptyOrNull(numero)) {\r\n        mensaje = '';\r\n        esValido = true;\r\n    } else {\r\n        if (isNumber(numero)) {\r\n\r\n            if (numero.length < 10) {\r\n                mensaje = \"El numero de Cedula debe tener 10 dígitos\";\r\n            } else if (numero.length > 10 && numero.length < 13) {\r\n                mensaje = \"El numero de RUC debe tener 13 dígitos\";\r\n            } else if (numero.length > 13) {\r\n                mensaje = \"El numero tiene más de 13 dígitos\";\r\n            }\r\n\r\n\r\n            var suma = 0;\r\n            var residuo = 0;\r\n            var pri = false;\r\n            var pub = false;\r\n            var nat = false;\r\n            var numeroProvincias = 22;\r\n            var modulo = 11;\r\n\r\n            /* Verifico que el campo no contenga letras */\r\n            var ok = 1;\r\n            /*for (i=0; i numeroProvincias){\r\n            mensaje = 'El código de la provincia (dos primeros dígitos) es inválido'); esValido = fals;\r\n        } */\r\n\r\n            /* Aqui almacenamos los digitos de la cedula en variables. */\r\n            const d1 = numero.substr(0, 1);\r\n            const d2 = numero.substr(1, 1);\r\n            const d3 = numero.substr(2, 1);\r\n            const d4 = numero.substr(3, 1);\r\n            const d5 = numero.substr(4, 1);\r\n            const d6 = numero.substr(5, 1);\r\n            const d7 = numero.substr(6, 1);\r\n            const d8 = numero.substr(7, 1);\r\n            const d9 = numero.substr(8, 1);\r\n            const d10 = numero.substr(9, 1);\r\n            if (!isDigit(d1)) mensaje = \"El digito 1 no es un número\";\r\n            if (!isDigit(d2)) mensaje = \"El digito 2 no es un número\";\r\n            if (!isDigit(d3)) mensaje = \"El digito 3 no es un número\";\r\n            if (!isDigit(d4)) mensaje = \"El digito 4 no es un número\";\r\n            if (!isDigit(d5)) mensaje = \"El digito 5 no es un número\";\r\n            if (!isDigit(d6)) mensaje = \"El digito 6 no es un número\";\r\n            if (!isDigit(d7)) mensaje = \"El digito 7 no es un número\";\r\n            if (!isDigit(d8)) mensaje = \"El digito 8 no es un número\";\r\n            if (!isDigit(d9)) mensaje = \"El digito 9 no es un número\";\r\n            if (!isDigit(d10)) mensaje = \"El digito 10 no es un número\";\r\n\r\n            if (numero.length > 10) {\r\n                const d11 = numero.substr(10, 1);\r\n                const d12 = numero.substr(10, 1);\r\n                const d13 = numero.substr(10, 1);\r\n                if (d11 && !isDigit(d11)) mensaje = \"El digito 11 no es un número\";\r\n                if (d12 && !isDigit(d12)) mensaje = \"El digito 12 no es un número\";\r\n                if (d13 && !isDigit(d13)) mensaje = \"El digito 13 no es un número\";\r\n            }\r\n\r\n            /* El tercer digito es: */\r\n            /* 9 para sociedades privadas y extranjeros */\r\n            /* 6 para sociedades publicas */\r\n            /* menor que 6 (0,1,2,3,4,5) para personas naturales */\r\n\r\n            let p1;\r\n            let p2;\r\n            let p3;\r\n            let p4;\r\n            let p5;\r\n            let p6;\r\n            let p7;\r\n            let p8;\r\n            let p9;\r\n\r\n            if (d3 == 7 || d3 == 8) {\r\n                mensaje = 'El tercer dígito ingresado es inválido';\r\n                esValido = false;\r\n            }\r\n\r\n            /* Solo para personas naturales (modulo 10) */\r\n            if (d3 < 6) {\r\n                nat = true;\r\n                p1 = d1 * 2; if (p1 >= 10) p1 -= 9;\r\n                p2 = d2 * 1; if (p2 >= 10) p2 -= 9;\r\n                p3 = d3 * 2; if (p3 >= 10) p3 -= 9;\r\n                p4 = d4 * 1; if (p4 >= 10) p4 -= 9;\r\n                p5 = d5 * 2; if (p5 >= 10) p5 -= 9;\r\n                p6 = d6 * 1; if (p6 >= 10) p6 -= 9;\r\n                p7 = d7 * 2; if (p7 >= 10) p7 -= 9;\r\n                p8 = d8 * 1; if (p8 >= 10) p8 -= 9;\r\n                p9 = d9 * 2; if (p9 >= 10) p9 -= 9;\r\n                modulo = 10;\r\n            }\r\n\r\n            /* Solo para sociedades publicas (modulo 11) */\r\n            /* Aqui el digito verficador esta en la posicion 9, en las otras 2 en la pos. 10 */\r\n            else if (d3 == 6) {\r\n                pub = true;\r\n                p1 = d1 * 3;\r\n                p2 = d2 * 2;\r\n                p3 = d3 * 7;\r\n                p4 = d4 * 6;\r\n                p5 = d5 * 5;\r\n                p6 = d6 * 4;\r\n                p7 = d7 * 3;\r\n                p8 = d8 * 2;\r\n                p9 = 0;\r\n            }\r\n\r\n            /* Solo para entidades privadas (modulo 11) */\r\n            else if (d3 == 9) {\r\n                pri = true;\r\n                p1 = d1 * 4;\r\n                p2 = d2 * 3;\r\n                p3 = d3 * 2;\r\n                p4 = d4 * 7;\r\n                p5 = d5 * 6;\r\n                p6 = d6 * 5;\r\n                p7 = d7 * 4;\r\n                p8 = d8 * 3;\r\n                p9 = d9 * 2;\r\n            }\r\n\r\n            suma = p1 + p2 + p3 + p4 + p5 + p6 + p7 + p8 + p9;\r\n            residuo = suma % modulo;\r\n\r\n            /* Si residuo=0, dig.ver.=0, caso contrario 10 - residuo*/\r\n            const digitoVerificador = residuo == 0 ? 0 : modulo - residuo;\r\n\r\n            /* ahora comparamos el elemento de la posicion 10 con el dig. ver.*/\r\n            if (pub == true) {\r\n                if (digitoVerificador != d9) {\r\n                    mensaje = 'El ruc de la empresa del sector público es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                /* El ruc de las empresas del sector publico terminan con 0001*/\r\n                if (numero.substr(9, 4) != '0001') {\r\n                    mensaje = 'El ruc de la empresa del sector público debe terminar con 0001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n            else if (pri == true) {\r\n                if (digitoVerificador != d10) {\r\n                    mensaje = 'El ruc de la empresa del sector privado es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                if (numero.substr(10, 3) != '001') {\r\n                    mensaje = 'El ruc de la empresa del sector privado debe terminar con 001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n\r\n            else if (nat == true) {\r\n                if (digitoVerificador != d10) {\r\n                    mensaje = 'El número de cédula de la persona natural es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                if (numero.length > 10 && numero.substr(10, 3) != '001') {\r\n                    mensaje = 'El ruc de la persona natural debe terminar con 001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n            esValido = true;\r\n\r\n        } else {\r\n            mensaje = 'Este campo solo admite numeros';\r\n        }\r\n    }\r\n\r\n    if (esValido && mensaje == '') {\r\n        if (exito) { exito(); }\r\n        return \"\";\r\n    } else {\r\n        if (mensaje == '') {\r\n            mensaje = 'La cantidad de digitos no corresponde a Cedula o RUC'\r\n        }\r\n        if (error) { error(mensaje); }\r\n        return mensaje;\r\n    }\r\n}\r\nexport function isDigit(char) { return char >= \"0\" && char <= \"9\"; }\r\nfunction isNumber(obj) { return !isNaN(parseFloat(obj)) }\r\nfunction isEmptyOrNull(obj) {\r\n    if (obj === '' || obj == undefined || obj == null || obj == 'undefined') {\r\n        return true\r\n    } else {\r\n        return false;\r\n    }\r\n}","import { isDigit } from \"./ValidarIdentificacion\";\r\n\r\nconst ValidateInput = {\r\n    tel(value) {\r\n        if (!value) return;\r\n        if (value.length < 7) return \"El número de telefono debe tener al menos 7 digitos\";\r\n        for (let i = 0; i < value.length; i++) {\r\n            if (!(value[i] === \"+\" || isDigit(value[i]) || value[i].trim() === \"\")) {\r\n                return \"El número debe tener uno de estos formatos: '09123456789' o '+5931234567890'\";\r\n            }\r\n        }\r\n    },\r\n    email(value) {\r\n        if (!value) return;\r\n        if (value.length < 5) return \"El email no está escrito correctamente\";\r\n        let twoParts = value.split(\"@\");\r\n        if (twoParts.length !== 2) return \"El email no está escrito correctamente\";\r\n        if (!(twoParts[1].indexOf(\".\") >= 0)) return \"El email no está escrito correctamente\";\r\n        if (value.trim().indexOf(\" \") >= 0) return \"El email no está escrito correctamente\";\r\n        if (value.trim().indexOf(\"\\t\") >= 0) return \"El email no está escrito correctamente\";\r\n        if (value.trim().indexOf(\"\\r\") >= 0) return \"El email no está escrito correctamente\";\r\n    }\r\n}\r\nexport default ValidateInput;","import React from \"react\";\r\nimport { Dialog, DialogContent, TextField, Button, DialogActions, withStyles } from \"@material-ui/core\";\r\nimport ValidarIdentificacion from \"../Services/ValidarIdentificacion\";\r\nimport ValidateInput from \"../Services/ValidateInput\";\r\nimport * as prefs from \"../Services/Preferences\";\r\n\r\nconst style = {\r\n    textField: {\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    },\r\n    content: {\r\n        paddingTop: 10,\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        paddingBottom: 0\r\n    }\r\n};\r\n\r\nclass InvoiceData extends React.PureComponent {\r\n    state = {\r\n        documento: 1,\r\n        identificacion: \"\",\r\n        razonSocial: \"\",\r\n        telefono: \"\",\r\n        direccion: \"\",\r\n        email: \"\"\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.data) {\r\n            for (const key in props.data) {\r\n                if (props.data.hasOwnProperty(key)) {\r\n                    this.state[key] = props.data[key];\r\n                }\r\n            }\r\n        } else {\r\n            var stored_data = prefs.Get(\"invoiceData\");\r\n            if (stored_data) {\r\n                for (const key in stored_data) {\r\n                    if (stored_data.hasOwnProperty(key)) {\r\n                        this.state[key] = stored_data[key];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleExit = this.handleExit.bind(this);\r\n        this.handleDone = this.handleDone.bind(this);\r\n    }\r\n    handleChange(event) {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    handleExit() {\r\n        const { match, history } = this.props;\r\n        const new_path = match.path.substr(0, match.path.indexOf(\"/invoice-data\"));\r\n        history.push(new_path);\r\n    }\r\n    handleDone(event) {\r\n        event.preventDefault();\r\n        const msg = validateMsg(this.state);\r\n        if (msg) {\r\n            alert(msg);\r\n        } else {\r\n            if (this.props.onDone)\r\n                this.props.onDone(this.state);\r\n            this.handleExit();\r\n            prefs.Set(\"invoiceData\", this.state);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const cedula_err = this.state.identificacion\r\n            ? ValidarIdentificacion(this.state.identificacion, this.state.documento)\r\n            : \"\";\r\n        const cedula_props = {};\r\n        if (cedula_err) {\r\n            cedula_props.error = true;\r\n            cedula_props.helperText = cedula_err;\r\n        }\r\n        const rs_err = (this.state.identificacion && !(this.state.razonSocial || \"\").trim())\r\n            ? \"Esta campo no puede estar vacío\"\r\n            : \"\";\r\n        const tel_props = {};\r\n        const tel_err = ValidateInput.tel(this.state.telefono)\r\n        if (tel_err) {\r\n            tel_props.error = true;\r\n            tel_props.helperText = tel_err;\r\n        }\r\n        const email_props = {};\r\n        const email_err = ValidateInput.email(this.state.email)\r\n        if (email_err) {\r\n            email_props.error = true;\r\n            email_props.helperText = email_err;\r\n        }\r\n\r\n        const hay_errores = cedula_err || rs_err || tel_err || email_err;\r\n\r\n        return (<Dialog open={true}>\r\n            <form onSubmit={this.handleDone}>\r\n                <DialogContent style={style.content}>\r\n                    <TextField value={this.state.documento}\r\n                        name=\"documento\"\r\n                        onChange={this.handleChange}\r\n                        select\r\n                        SelectProps={{ native: true }}\r\n                        fullWidth\r\n                        label=\"Documento\"\r\n                        style={style.textField}\r\n                    >\r\n                        <option value={1}>RUC</option>\r\n                        <option value={2}>Cedula</option>\r\n                        <option value={3}>Pasaporte</option>\r\n                    </TextField>\r\n\r\n                    <TextField name=\"identificacion\"\r\n                        inputProps={{ maxLength: 20 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"# de Identificacion\"\r\n                        value={this.state.identificacion || \"\"}\r\n                        style={style.textField}\r\n                        fullWidth\r\n\r\n                        {...cedula_props}\r\n                    />\r\n\r\n                    <TextField name=\"razonSocial\"\r\n                        inputProps={{ maxLength: 200 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Razon Social\"\r\n                        value={this.state.razonSocial || \"\"}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                    />\r\n\r\n                    <TextField name=\"telefono\"\r\n                        inputProps={{ maxLength: 50 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Telefono\"\r\n                        value={this.state.telefono || \"\"}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                        {...tel_props}\r\n                    />\r\n\r\n                    <TextField name=\"direccion\"\r\n                        inputProps={{ maxLength: 300 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Direccion\"\r\n                        value={this.state.direccion || \"\"}\r\n                        multiline\r\n                        rows={2}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                    />\r\n\r\n                    <TextField name=\"email\"\r\n                        inputProps={{ maxLength: 150 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Email\"\r\n                        value={this.state.email || \"\"}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                        {...email_props}\r\n                    />\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button type=\"button\" onClick={this.handleExit} color=\"secondary\" variant=\"outlined\">\r\n                        SALIR\r\n                </Button>\r\n                    <Button disabled={hay_errores} type=\"submit\" color=\"primary\" variant=\"outlined\">\r\n                        AGREGAR\r\n                </Button>\r\n                </DialogActions>\r\n            </form>\r\n        </Dialog>)\r\n    }\r\n}\r\n\r\nfunction validateMsg(state) {\r\n    const { documento, identificacion, razonSocial, telefono, direccion, email } = state;\r\n    let a = identificacion || \"\";\r\n    let b = razonSocial || \"\";\r\n    let c = telefono || \"\";\r\n    let d = direccion || \"\";\r\n    let e = email || \"\";\r\n    let msg = \"\";\r\n    if (a.length || b.length || c.length || d.length || e.length) {\r\n        if (!a.length) return \"Agregue el numero de identificacion\";\r\n        if (!b.length) return \"Agregue la Razon Social\";\r\n        msg = ValidarIdentificacion(identificacion, documento);\r\n        if (msg) return msg;\r\n        msg = c && ValidateInput.tel(c);\r\n        if (msg) return msg;\r\n        msg = e && ValidateInput.email(e);\r\n        if (msg) return msg;\r\n    }\r\n}\r\n\r\nexport default withStyles(theme => ({\r\n    paper: {\r\n        maxHeight: \"calc(100% - 30px)\",\r\n        marginTop: 15,\r\n        marginBottom: 15\r\n    }\r\n}))(InvoiceData);","var GeoCoder;\r\n\r\nexport default class {\r\n    static currentPosition() {\r\n        return new Promise((resolve, reject) => {\r\n            console.info(\"obteniendo posicion actual con navigator.geolocation.getCurrentPosition\");\r\n            if (!navigator.geolocation) {\r\n                console.info(\"navigator.geolocation.getCurrentPosition no existe en este navegador, intentando con PositionByIP()\");\r\n                return PositionByIP().then(resolve).catch(reject);\r\n            }\r\n            navigator.geolocation.getCurrentPosition(geoLocation => {\r\n                console.info(\"navigator.geolocation.getCurrentPosition ha obtenido la posicion\");\r\n                resolve({\r\n                    lat: geoLocation.coords.latitude,\r\n                    lng: geoLocation.coords.longitude\r\n                }, true);\r\n            }, () => {\r\n                console.info(\"navigator.geolocation.getCurrentPosition falló, intentando con PositionByIP()\");\r\n                PositionByIP().then(resolve).catch(reject);\r\n            }\r\n            );\r\n        });\r\n    }\r\n    static CanUseGPS() {\r\n        return new Promise((resolve, reject) => {\r\n            if (!navigator.geolocation) return reject();\r\n            navigator.geolocation.getCurrentPosition(resolve, reject);\r\n        });\r\n    }\r\n    static PlaceFromCoords(location, bounds) {\r\n        if (!GeoCoder) GeoCoder = new window.google.maps.Geocoder();\r\n        return new Promise((resolve, reject) => {\r\n            GeoCoder.geocode({ location, bounds: bounds || this.QUITO_BOUNDS }, (results, status) => {\r\n                if (status === \"ZERO_RESULTS\") {\r\n                    return reject({ status, message: \"No se encontraron resultados\" });\r\n                }\r\n                const first = results.length && results[0];\r\n                if (!first) return reject({ message: \"No se encontraron resultados\" });\r\n                first.inputText = AddressText(first);\r\n                resolve(first);\r\n            });\r\n        })\r\n    }\r\n    static CoordsFromPlace(address, bounds) {\r\n        if (!GeoCoder) GeoCoder = new window.google.maps.Geocoder();\r\n        return new Promise((resolve, reject) => {\r\n            GeoCoder.geocode({ address, bounds: bounds || this.QUITO_BOUNDS }, (results, status) => {\r\n                if (status === \"ZERO_RESULTS\") {\r\n                    return reject({ status, message: \"No se encontraron resultados\" });\r\n                }\r\n                const first = results.length && results[0];\r\n                if (!first) return reject({ message: \"No se encontraron resultados\" });\r\n                resolve(first);\r\n            });\r\n        })\r\n    }\r\n    static QUITO_BOUNDS = {\r\n        west: -78.85300,\r\n        north: -0.04875,\r\n        east: -78.17184,\r\n        south: -0.39207\r\n    }\r\n    static QUITO = {\r\n        lat: -0.189515,\r\n        lng: -78.488167\r\n    }\r\n}\r\n\r\nfunction AddressText(place) {\r\n    var route;\r\n    var street_number;\r\n    for (let i = 0; i < place.address_components.length; i++) {\r\n        const component = place.address_components[i];\r\n        for (let ii = 0; ii < component.types.length; ii++) {\r\n            const type = component.types[ii];\r\n            if (type === \"street_address\") return component.short_name || component.long_name;\r\n            if (component.types.find(x => x === \"street_number\") && component.types.find(x => x === \"route\"))\r\n                return component.short_name || component.long_name;\r\n\r\n            if (type === \"route\" && !route) route = component.short_name || component.long_name;\r\n            if (type === \"street_number\" && !street_number) street_number = component.short_name || component.long_name;\r\n        }\r\n    }\r\n    if (route && street_number) return route + \" \" + street_number;\r\n    return place.formatted_address;\r\n}\r\nfunction PositionByIP() {\r\n    return fetch(\"https://ipapi.co/json/\").then(x => x.json())\r\n        .then(info => ({ lat: info.latitude, lng: info.longitude }));\r\n}","import React from \"react\";\r\nimport { TextField, Typography, Button } from \"@material-ui/core\";\r\nimport { Route } from \"react-router-dom\";\r\nimport InvoiceData from \"./InvoiceData\";\r\nimport ValidateInput from \"../Services/ValidateInput\";\r\nimport ValidarIdentificacion from \"../Services/ValidarIdentificacion\";\r\nimport Mountable from \"../HOC/Mountable\";\r\n\r\ninterface Props {\r\n    history: any;\r\n    match: any;\r\n\r\n    requireEmail: boolean;\r\n    requireCedula: boolean;\r\n\r\n    data: any;\r\n    invoiceData?: any;\r\n\r\n    onInvoiceDataChange: any;\r\n    onInputChange: any;\r\n}\r\n\r\nconst style = {\r\n    root: { padding: \"20px 10px\", flex: 1 },\r\n    TextField: { marginTop: 10, marginBottom: 10 }\r\n}\r\nclass ContactData extends React.Component<Props> {\r\n    state = {\r\n        telefono_error: \"\",\r\n        email_error: \"\"\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleClick(event) {\r\n        const { value } = event.currentTarget;\r\n        if (value) {\r\n            this.props.history.push(this.props.match.path + \"/invoice-data\");\r\n        } else {\r\n            this.props.onInvoiceDataChange(null);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { props } = this;\r\n        const telefono_error = ValidateInput.tel(props.data.telefono);\r\n        let telefono_props: any = {};\r\n        if (telefono_error) {\r\n            telefono_props.error = true;\r\n            telefono_props.helperText = telefono_error;\r\n        }\r\n        const email_error = ValidateInput.email(props.data.email);\r\n        let email_props: any = {};\r\n        if (email_error) {\r\n            email_props.error = true;\r\n            email_props.helperText = email_error;\r\n        }\r\n        const cedula_err = props.data.identificacion\r\n            ? ValidarIdentificacion(props.data.identificacion, props.data.documento)\r\n            : \"\";\r\n        const cedula_props: any = {};\r\n        if (cedula_err) {\r\n            cedula_props.error = true;\r\n            cedula_props.helperText = cedula_err;\r\n        }\r\n\r\n        return (<div style={style.root}>\r\n            {props.requireCedula &&\r\n                (<React.Fragment>\r\n                    <TextField\r\n                        autoFocus={true}\r\n                        label=\"Documento\"\r\n                        fullWidth\r\n                        style={style.TextField}\r\n                        name=\"contactData.documento\"\r\n                        select\r\n                        SelectProps={{ native: true }}\r\n                        value={props.data.documento || 1}\r\n                        onChange={props.onInputChange}\r\n                    >\r\n                        <option value={1}>RUC</option>\r\n                        <option value={2}>Cedula</option>\r\n                        <option value={3}>Pasaporte</option>\r\n                    </TextField>\r\n                    <TextField\r\n                        inputProps={{ maxLength: 20 }}\r\n                        label=\"# Identificación*\"\r\n                        fullWidth\r\n                        style={style.TextField}\r\n                        name=\"contactData.identificacion\"\r\n                        value={props.data.identificacion || \"\"}\r\n                        onChange={props.onInputChange}\r\n                        {...cedula_props}\r\n                    />\r\n                </React.Fragment>)}\r\n            <TextField\r\n                autoFocus={props.requireCedula ? false : true}\r\n                label=\"Nombre (Nombres y Apellidos)*\"\r\n                fullWidth\r\n                inputProps={{ maxLength: 300 }}\r\n                style={style.TextField}\r\n                name=\"contactData.nombre\"\r\n                value={props.data.nombre}\r\n                onChange={props.onInputChange}\r\n            />\r\n            <TextField\r\n                label=\"Telefono*\"\r\n                fullWidth\r\n                inputProps={{ maxLength: 50, type: \"phone\" }}\r\n                style={style.TextField}\r\n                name=\"contactData.telefono\"\r\n                value={props.data.telefono}\r\n                onChange={props.onInputChange}\r\n                {...telefono_props}\r\n            />\r\n            <TextField\r\n                label={\"Email\" + (props.requireEmail ? \"*\" : \"\")}\r\n                fullWidth\r\n                inputProps={{ maxLength: 150, type: \"email\" }}\r\n                style={style.TextField}\r\n                name=\"contactData.email\"\r\n                value={props.data.email}\r\n                onChange={props.onInputChange}\r\n                {...email_props}\r\n            />\r\n\r\n            <Typography variant=\"h6\" style={{ marginTop: 10, marginBottom: 10 }} >Datos de Facturación</Typography>\r\n            <div style={{ width: \"95%\", marginBottom: 10, textAlign: \"center\", display: \"flex\", flexDirection: \"row\" }}>\r\n                <Button variant={props.invoiceData ? \"outlined\" : \"contained\"} color={props.invoiceData ? \"default\" : \"primary\"}\r\n                    onClick={this.handleClick} value=\"\" style={{ flex: 1, marginRight: 10 }} >\r\n                    CONSUMIDOR FINAL\r\n                </Button>\r\n                <Button variant={props.invoiceData ? \"contained\" : \"outlined\"} color={props.invoiceData ? \"primary\" : \"default\"}\r\n                    size=\"small\" value=\"1\" style={{ flex: 1, marginLeft: 10 }} onClick={this.handleClick}>\r\n                    {(props.invoiceData && props.invoiceData.razonSocial) || \"Agregar Datos\"}\r\n                </Button>\r\n            </div>\r\n            <Route path={`${props.match.path}/invoice-data`}\r\n                render={r_props => <InvoiceData {...r_props} data={props.invoiceData} onDone={props.onInvoiceDataChange} />}\r\n            />\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default Mountable(ContactData);","import React, { useMemo, useEffect, useState } from \"react\";\r\nimport { Elements, CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\r\nimport { loadStripe, Stripe, StripeElements } from \"@stripe/stripe-js\";\r\nimport { Card, Typography, Button } from \"@material-ui/core\";\r\nimport API from \"../../Services/API\";\r\n\r\nvar stripePromise;\r\nconst useOptions = () => {\r\n    const options = useMemo(() => ({\r\n        style: {\r\n            base: {\r\n                color: \"#424770\",\r\n                letterSpacing: \"0.025em\",\r\n                fontFamily: \"Source Code Pro, monospace\",\r\n                \"::placeholder\": {\r\n                    color: \"#aab7c4\"\r\n                }\r\n            },\r\n            invalid: {\r\n                color: \"#9e2146\"\r\n            }\r\n        }\r\n    }), [\"16px\"]);\r\n\r\n    return options;\r\n};\r\n\r\nexport function StripeCard(props) {\r\n    const [clientSecret, setClientSecret] = useState('');\r\n    const [status, setStatus] = useState(\"\");\r\n    const [disabled, setDiabled] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const stripe = useStripe() as Stripe;\r\n    const elements = useElements() as StripeElements;\r\n\r\n    useEffect(() => {\r\n        API.GetStripeSecret(props.amount)\r\n            .then(data => {\r\n                setClientSecret(data.clientSecret);\r\n                console.info(\"Client Secret\", data.clientSecret);\r\n            }).catch(ex => setError(ex.message));\r\n    }, []);\r\n\r\n    async function onSubmit(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (status !== \"\") return;\r\n        setStatus(\"LOADING\");\r\n        try {\r\n            const payload = await stripe.confirmCardPayment(clientSecret, {\r\n                payment_method: { card: elements.getElement(CardElement) as any }\r\n            });\r\n            if (payload.error) throw payload.error;\r\n            setStatus(\"OK\");\r\n            props.onDone(payload.paymentIntent);\r\n        } catch (ex) {\r\n            setStatus(\"\");\r\n            setError(ex.message);\r\n            console.warn(\"Stripe Error\", ex);\r\n        }\r\n    }\r\n    function onChange(event) {\r\n        setDiabled(event.empty);\r\n        setError((event.error && event.error.message) || \"\");\r\n    }\r\n\r\n    const options = useOptions();\r\n\r\n    if (!clientSecret) {\r\n        return <Typography color={error ? \"secondary\" : \"initial\"} style={{ textAlign: \"center\", margin: \"auto\" }} variant=\"button\">\r\n            {error ? error : \"Cargando...\"}\r\n        </Typography>\r\n    }\r\n\r\n    return (<form onSubmit={onSubmit}>\r\n        <Card elevation={6} style={{ margin: \"auto\", textAlign: \"center\", maxWidth: 400, padding: 10 }}>\r\n            <div style={{ padding: 10 }}>\r\n                <CardElement options={options}\r\n                    onChange={onChange}\r\n                />\r\n            </div>\r\n\r\n            {error && <Typography color=\"secondary\">{error}</Typography>}\r\n\r\n            <Button fullWidth variant=\"contained\" color=\"primary\" type=\"submit\"\r\n                disabled={disabled || !!status} >\r\n                {status === \"LOADING\"\r\n                    ? \"CARGANDO...\"\r\n                    : (status === \"OK\"\r\n                        ? \"LISTO!\"\r\n                        : \"PAGAR\")}\r\n            </Button>\r\n        </Card>\r\n    </form >)\r\n}\r\n\r\nexport default function (props) {\r\n    const { API_KEY, ...p } = props;\r\n    if (!API_KEY) return (<p>Stripe no está configurado en esta tienda. Intenta otro método de pago</p>);\r\n    if (!stripePromise) stripePromise = loadStripe(API_KEY);\r\n    return (<Elements stripe={stripePromise}>\r\n        <StripeCard {...p} />\r\n    </Elements>);\r\n}","import React from \"react\";\r\nimport { TextField, InputAdornment, IconButton, Card, CardContent, Typography } from \"@material-ui/core\";\r\nimport { withGoogleMap, GoogleMap, withScriptjs } from \"react-google-maps\";\r\nimport { MarkerWithLabel } from \"react-google-maps/lib/components/addons/MarkerWithLabel\";\r\nimport { GpsFixed, GpsOff } from \"@material-ui/icons\";\r\nimport Geo from \"../Services/Geo\";\r\nimport * as prefs from \"../Services/Preferences\";\r\n\r\nexport default class extends React.PureComponent {\r\n    state = {\r\n        zoom: 15,\r\n        initial_position: undefined,\r\n        initial_gps_enabled: undefined\r\n    }\r\n    /** objeto Autocomplete | referencia del textbox */\r\n    autocompleteRef;\r\n    /** objeto Google Maps | referencia del Mapa */\r\n    mapRef;\r\n    /** div que representa el Marker estatico */\r\n    virtualMarker;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.placeChanged = this.placeChanged.bind(this);\r\n        this.handleLocationClick = this.handleLocationClick.bind(this);\r\n        this.handleInput = this.handleInput.bind(this);\r\n\r\n        this.handleMapMounted = this.handleMapMounted.bind(this);\r\n        this.handleDragEnd = this.handleDragEnd.bind(this);\r\n        this.handleDragStart = this.handleDragStart.bind(this);\r\n        this.handleCenterChanged = this.handleCenterChanged.bind(this);\r\n\r\n        this.positionChanged = this.positionChanged.bind(this);\r\n        this.valueChanged = this.valueChanged.bind(this);\r\n\r\n        console.info(\"Location comienza con direccion\", props.data);\r\n        var direccion = prefs.Get(\"direccion\");\r\n        if (direccion && !props.data.position) {\r\n            console.info(\"Se reemplaza por la direccion en PREFS\");\r\n            props.onDataChange(props.prop, direccion);\r\n            this.state.zoom = 17;\r\n            this.state.initial_position = direccion;\r\n        }\r\n        if (props.data.position) {\r\n            this.state.zoom = 17;\r\n            this.state.initial_position = props.data.position;\r\n        }\r\n        this.state.initial_gps_enabled = props.data && props.data.gps_enabled;\r\n    }\r\n    componentDidMount() {\r\n        if (this.state.initial_position) {\r\n            if (this.state.initial_gps_enabled === undefined ||\r\n                this.state.initial_gps_enabled === null) {\r\n                console.info(\"Se verifica si el GPS se puede usar\");\r\n                Geo.CanUseGPS()\r\n                    .then(() => this.valueChanged(\"gps_enabled\", true))\r\n                    .catch(() => this.valueChanged(\"gps_enabled\", false));\r\n            }\r\n        } else {\r\n            // pongo la posicion actual POR DEFAULT\r\n            console.info(\"No se encuentra la posicion, asi que se busca por GPS/HTTP\");\r\n            Geo.currentPosition()\r\n                .then((center) => {\r\n                    console.info(\"Posicion por GPS/HTTP encontrada\");\r\n                    this.positionChanged(center, false);\r\n                    this.valueChanged(\"gps_enabled\", true);\r\n                    this.setState({ zoom: 17 });\r\n                }).catch(_ => {\r\n                    console.info(\"Posicion por GPS/HTTP no encontrada\");\r\n                    this.setState({ loading: false });\r\n                    this.valueChanged(\"gps_enabled\", false);\r\n                });\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.autocomplete)\r\n            this.autocomplete.unbindAll();\r\n    }\r\n    valueChanged(key, value) {\r\n        const data = { ...this.props.data };\r\n        data[key] = value;\r\n        this.props.onDataChange(this.props.prop, data);\r\n    }\r\n\r\n    positionChanged(position, avoid_update_zoom) {\r\n        if (!avoid_update_zoom && this.mapRef && this.mapRef.getZoom() < 17) {\r\n            this.setState({ zoom: 17 });\r\n        }\r\n        this.valueChanged(\"position\", position);\r\n    }\r\n    handleInput(event) {\r\n        const { value, name } = event.currentTarget;\r\n        this.valueChanged(name, value);\r\n    }\r\n\r\n    handleCenterChanged() {\r\n        this.positionChanged(this.mapRef && this.mapRef.getCenter().toJSON());\r\n    }\r\n    // cuando encuentra una direccion, o aplasta ENTER\r\n    placeChanged() {\r\n        const place = this.autocomplete.getPlace();\r\n        // un texto y ya. Busco lo mas cercano\r\n        if (!place.geometry)\r\n            return Geo.CoordsFromPlace(place.name)\r\n                .then(place => this.positionChanged(place.geometry.location));\r\n\r\n        this.positionChanged(place.geometry.location);\r\n        this.valueChanged(\"direccion\", this.autocompleteRef.value);\r\n    }\r\n    handleLocationClick() {\r\n        Geo.currentPosition()\r\n            .then(location => {\r\n                this.positionChanged(location);\r\n                Geo.PlaceFromCoords(this.props.data.position)\r\n                    .then(place => this.valueChanged(\"direccion\", place.inputText));\r\n            }).catch(ex => {\r\n                alert(\"No pudimos obtener tu ubicacion\");\r\n                console.warn(\"handleLocationClick\", ex);\r\n            });\r\n    }\r\n\r\n    handleDragStart() {\r\n        this.virtualMarker.classList.add(\"on-move\");\r\n    }\r\n    handleDragEnd() {\r\n        this.positionChanged(this.mapRef.getCenter().toJSON(), true);\r\n        Geo.PlaceFromCoords(this.mapRef.getCenter())\r\n            .then(d => this.valueChanged(\"direccion\", d.inputText))\r\n            .catch(ex => console.warn(\"PlaceFromCoords ERROR\", ex));\r\n        this.virtualMarker.classList.remove(\"on-move\");\r\n    }\r\n\r\n    handleMapMounted(map) {\r\n        this.mapRef = map;\r\n        if (!this.mapRef) return;\r\n        this.virtualMarker = document.createElement(\"div\");\r\n        this.virtualMarker.className = \"centerMarker\";\r\n        map.getDiv().appendChild(this.virtualMarker);\r\n        this.mountAutocomplete();\r\n    }\r\n    mountAutocomplete() {\r\n        if (!(this.mapRef && this.autocompleteRef)) return;\r\n        if (this.autocomplete) return;\r\n        // cuando se ubica la ubicacion geoLocation pero no se ha actualizado\r\n        // la direccion en el CUADRO DE TEXTO\r\n        if (this.props.data.position && !this.props.data.direccion) {\r\n            Geo.PlaceFromCoords(this.props.data.position)\r\n                .then(place => this.valueChanged(\"direccion\", place.inputText));\r\n        }\r\n        this.autocomplete = new window.google.maps.places.Autocomplete(this.autocompleteRef);\r\n        this.autocomplete.bindTo('bounds', this.mapRef);\r\n        this.autocomplete.addListener(\"place_changed\", this.placeChanged);\r\n        this.autocomplete.setOptions({ strictBounds: true });\r\n    }\r\n\r\n    render() {\r\n        const { data, store } = this.props;\r\n        const { zoom } = this.state;\r\n\r\n        const GoogleMapsKey = window.PROJECT_ENVIROMENT === \"development\" ? \"\" : store.G_M_K;\r\n\r\n        return (<div style={{ overflow: \"auto\", paddingLeft: 10, paddingRight: 10, flex: 1 }}>\r\n            <div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\" }}>\r\n                <TextField\r\n                    inputRef={ref => this.autocompleteRef = ref}\r\n                    name=\"direccion\"\r\n                    inputProps={{ maxLength: 200 }}\r\n                    onChange={this.handleInput}\r\n                    value={data.direccion || \"\"}\r\n                    placeholder=\"Ej. Calle 1 y Calle 2\"\r\n                    label=\"Direccion de Entrega*\"\r\n                    fullWidth\r\n                    style={{ marginBottom: 10, marginTop: 5, flex: 1 }}\r\n                    InputProps={{\r\n                        endAdornment: (<InputAdornment position=\"end\" >\r\n                            <IconButton onClick={this.handleLocationClick} disabled={!data.gps_enabled}>\r\n                                {data.gps_enabled ? <GpsFixed /> : <GpsOff />}\r\n                            </IconButton>\r\n                        </InputAdornment>)\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            <Map\r\n                googleMapURL={`https://maps.googleapis.com/maps/api/js?key=${GoogleMapsKey}&v=3.exp&libraries=geometry,places,geocode`}\r\n                //googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\"\r\n                containerElement={<div id=\"map-container\" />}\r\n                loadingElement={<div style={{ height: `100%` }} />}\r\n                mapElement={<div style={{ height: `100%` }} />}\r\n                onClick={this.handleMapClick}\r\n                zoom={zoom}\r\n                onZoomChanged={() => this.setState({ zoom: this.mapRef.getZoom() })}\r\n                onMapMounted={this.handleMapMounted}\r\n                center={data.position || store.position}\r\n                onCenterChanged={this.handleCenterChanged}\r\n                onDragStart={this.handleDragStart}\r\n                onDragEnd={this.handleDragEnd}\r\n                marker={{\r\n                    label: \"Tienda\",\r\n                    position: store.position\r\n                }}\r\n            //onBoundsChanged={this.handleBoundsChanged}\r\n            />\r\n\r\n            <TextField\r\n                name=\"referencia\"\r\n                value={data.referencia || \"\"}\r\n                onChange={this.handleInput}\r\n                inputProps={{ maxLength: 200, id: \"referencia\" }}\r\n                label=\"Referencia*\"\r\n                placeholder=\"Ej. Al lado de la panaderia 'El Pan de Cada Dia'\"\r\n                fullWidth\r\n            />\r\n\r\n        </div>)\r\n    }\r\n}\r\n\r\nconst Map = withScriptjs(withGoogleMap(function Map(props) {\r\n    const google = window.google;\r\n    const { marker, onMapMounted, ...mapProps } = props;\r\n    return (<GoogleMap\r\n        {...mapProps}\r\n        ref={onMapMounted}\r\n        options={{\r\n            disableDefaultUI: true,\r\n            zoomControl: true,\r\n            clickableIcons: false\r\n        }}\r\n    >\r\n        {marker && <MarkerWithLabel\r\n            labelAnchor={new google.maps.Point(0, 0)}\r\n            position={marker.position}\r\n            icon=\"./store.png\"\r\n        >\r\n            <Card elevation={1} color=\"secondary\" style={{ margin: 2 }}>\r\n                <CardContent style={{ maxWidth: 200, padding: 5 }}>\r\n                    <Typography variant=\"button\">{marker.label}</Typography>\r\n                </CardContent>\r\n            </Card>\r\n        </MarkerWithLabel>}\r\n    </GoogleMap>)\r\n}));","import React from \"react\";\r\nimport { TextField, Typography, Divider } from \"@material-ui/core\";\r\nimport Mountable from \"../HOC/Mountable\";\r\nimport { connect } from \"react-redux\";\r\nimport Totales from \"../Services/Totales\";\r\nimport Stripe from \"./Payment/Stripe\";\r\n\r\nfunction Payment(props) {\r\n    const Items = [...props.items];\r\n    if (props.delivery && props.delivery.status === \"ACTIVO\" && !isNaN(+props.delivery.valor)) {\r\n        Items.push({\r\n            pvp: props.delivery.valor,\r\n            cantidad: 1,\r\n            id: \"DOMICILIO\",\r\n            pagaIva: false\r\n        });\r\n    }\r\n    const resume = (Totales(Items, props.store.porcentajeIVA) || { total: 0 });\r\n    return (<div style={{ flex: 1, textAlign: \"center\", maxWidth: \"95%\", margin: \"auto\" }}>\r\n        <Typography style={{ margin: 10 }} variant=\"h4\">TOTAL: ${resume.total.toFixed(2)}</Typography>\r\n        <Divider style={{ marginBottom: 20, marginLeft: 30, marginRight: 30 }} />\r\n        <TextField\r\n            select\r\n            value={props.forma_pago || \"\"}\r\n            name=\"forma_pago\"\r\n            onChange={props.onInputChange}\r\n            variant=\"outlined\"\r\n            style={{ width: \"95%\", margin: \"auto\", marginBottom: 10, marginTop: 10 }}\r\n            SelectProps={{ native: true }}\r\n        >\r\n            <option value=\"\">- SELECCIONA TU MÉTODO DE PAGO -</option>\r\n            {MapFormasPago(props.store.formasPago).map(x => (<option key={x.value} value={x.value} >{x.label}</option>))}\r\n        </TextField>\r\n        {+props.forma_pago === 3 ? (<div>\r\n            {props.store.datosTransferencia && <Typography style={{\r\n                textAlign: \"left\", margin: \"10px 20px\", whiteSpace: \"pre-line\"\r\n            }} variant=\"subtitle1\">{props.store.datosTransferencia}</Typography>}\r\n            <Typography variant=\"body2\">Realiza tu transferencia y luego ingresa el Numero de Comprobante aqui:</Typography>\r\n            <TextField\r\n                label=\"Comprobante de Transacción\"\r\n                variant=\"outlined\"\r\n                value={props.numeroTransaccion || \"\"}\r\n                placeholder=\"Agrega tu # de Comprobante\"\r\n                name=\"numeroTransaccion\"\r\n                inputProps={{\r\n                    \"aria-autocomplete\": \"none\",\r\n                    \"autocomplete\": \"off\"\r\n                }}\r\n                onChange={props.onInputChange}\r\n                type=\"phone\"\r\n                autoComplete=\"off\"\r\n                style={{ width: \"95%\", margin: \"auto\", marginBottom: 10, marginTop: 10 }}\r\n            />\r\n        </div>) : null}\r\n\r\n        {+props.forma_pago === 4 ? <div>\r\n            <Typography variant=\"subtitle1\" color=\"primary\" style={{ margin: 5 }} >NO CIERRES NI RECARGUES LA PANTALLA</Typography>\r\n            <Stripe onDone={props.onStripePaymentDone} amount={+resume.total.toFixed(2)} API_KEY={props.store.stripePublicKey} />\r\n        </div> : null}\r\n    </div>);\r\n}\r\nfunction MapFormasPago(info) {\r\n    var all = [] as any[];\r\n    if (!info) return all;\r\n    if (info.indexOf(1) >= 0) all.push({ label: \"Efectivo\", value: 1 });\r\n    if (info.indexOf(2) >= 0) all.push({ label: \"Tarjeta de Credito/Debito\", value: 2 });\r\n    if (info.indexOf(3) >= 0) all.push({ label: \"Transferencia Bancaria\", value: 3 });\r\n    if (info.indexOf(4) >= 0) all.push({ label: \"Tarjeta Credito/Debito (Stripe)\", value: 4 });\r\n    return all;\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        items: state.items\r\n    }\r\n}\r\nexport default Mountable(\r\n    connect(mapStateToProps)(Payment)\r\n);","import React from \"react\";\r\nimport { CheckCircleOutline, Edit } from \"@material-ui/icons\";\r\nimport { Typography, Button, CircularProgress } from \"@material-ui/core\";\r\nimport Mountable from \"../HOC/Mountable\";\r\n\r\nfunction Done(props) {\r\n    const { loading, error, ...other_props } = props;\r\n    function handleReturnToOrder() {\r\n        props.history.push(\"/1\");\r\n    }\r\n    return (<div style={{ textAlign: \"center\", overflow: \"auto\", padding: 10 }}>\r\n        {loading\r\n            ? <Wait />\r\n            : (error\r\n                ? <ErrrMsg {...error} onClick={handleReturnToOrder} />\r\n                : <IsCompleted {...other_props} />)}\r\n    </div>);\r\n}\r\nexport default Mountable(Done);\r\n\r\nfunction Wait(props) {\r\n    return (<React.Fragment>\r\n        <CircularProgress size={50} />\r\n        <Typography variant=\"h6\">Guardando...</Typography>\r\n    </React.Fragment>);\r\n}\r\nfunction ErrrMsg(props) {\r\n    return (<React.Fragment>\r\n        <Typography variant=\"h6\" color=\"secondary\" >Ocurrió un problema al guardar tu orden. Regresa al pedido, verifica tu información e intentalo nuevamente.</Typography>\r\n\r\n        <Typography variant=\"body1\" color=\"secondary\" >{props.message}</Typography>\r\n        <Typography variant=\"caption\" color=\"secondary\" >{props.code}{props.status && (\" | \" + props.status)}</Typography>\r\n        {props.statusText && <Typography variant=\"body1\" color=\"secondary\" >{props.statusText}</Typography>}\r\n\r\n        <Button onClick={props.onClick} variant=\"outlined\" color=\"primary\" fullWidth style={{ marginTop: 20 }} >\r\n            REGRESAR AL PEDIDO <Edit />\r\n        </Button>\r\n    </React.Fragment>);\r\n}\r\nfunction IsCompleted(props) {\r\n    const ws = CreateWSMessage(props);\r\n    return (<React.Fragment>\r\n        <CheckCircleOutline fontSize=\"large\" style={{ margin: 20 }} />\r\n        <Typography variant=\"h4\">Tu pedido ha sido recibido!</Typography>\r\n        <Typography variant=\"body2\" style={{ maxWidth: 300, margin: \"auto\", textAlign: \"center\" }}>\r\n            Nos comunicaremos contigo para coordinar la entrega de tu pedido.Mantente pendiente a tu telefono.\r\n     </Typography>\r\n        <Typography variant=\"h5\" style={{ margin: 5 }}>ORDEN #{props.orderNumber}</Typography>\r\n\r\n        <Button onClick={ev => window.location.replace(window.location.pathname)} style={{ margin: 10 }} variant=\"contained\" color=\"primary\">NUEVO PEDIDO</Button>\r\n        {ws && (<Button target=\"_blank\" style={{ margin: 10 }} variant=\"outlined\" color=\"secondary\" component=\"a\" href={ws}>\r\n            CHATEA CON NOSOTROS\r\n            <img alt=\"Whatsapp\" src=\"./ws.png\" style={{ height: 20, width: 20, marginLeft: 5 }}></img>\r\n        </Button>)}\r\n    </React.Fragment>);\r\n}\r\n\r\nfunction CreateWSMessage(info) {\r\n    const { ws_phone, ws_msg, contactData, orderNumber } = info;\r\n    if (!ws_phone || !ws_msg) return \"\";\r\n    const final_msg = ws_msg\r\n        .replace(/__NAME__/g, (contactData || {}).nombre)\r\n        .replace(/__ORDER_NUMBER__/g, orderNumber || \"\");\r\n    return \"whatsapp://send?\" +\r\n        (`phone=${ws_phone}&`) +\r\n        `text=${encodeURIComponent(final_msg)}`;\r\n\r\n}","import ValidateInput from './ValidateInput';\r\nimport ValidarIdentificacion from './ValidarIdentificacion';\r\n\r\nexport function VerifyStep(step, state) {\r\n    var store = state.store || {};\r\n    // ubicacion\r\n    if (step === 0) {\r\n        const x = state.direccion;\r\n        if (!x.position) return \"Confirme su ubicación en el mapa.\";\r\n        if (!x.direccion) return \"Digite su dirección.\";\r\n        if (!x.referencia) {\r\n            Focus(\"referencia\");\r\n            return \"Agregue la referencia de la dirección de entrega.\";\r\n        };\r\n    }\r\n\r\n    // elegir productos\r\n    if (step === 1 || step === 2) {\r\n        if (!state.items.length)\r\n            return \"Para continuar seleccione al menos un producto\";\r\n    }\r\n\r\n    if (step === 2 && store.estado !== \"ACTIVO\" && !state.envio_programado)\r\n        return \"Debido a que la tienda no esta disponible en este momento, necesitas programar una fecha de entrega\";\r\n\r\n\r\n    if (step === 3 && state.contactData) {\r\n        const x = state.contactData;\r\n        if (!x.nombre) return \"Agregue un nombre de contacto\";\r\n        if (!x.telefono) return \"Agregue un telefono de contacto\";\r\n        if (store.requireContactCedula) {\r\n            if (!x.identificacion) return \"Agregue el número de identificación de contacto\";\r\n            msg = ValidarIdentificacion(x.identificacion, x.documento);\r\n            if (msg) return msg;\r\n        }\r\n        let msg = ValidateInput.tel(x.telefono);\r\n        if (msg) return msg;\r\n        if (store.requireContactEmail && !x.email)\r\n            return \"Agregue el Correo Electrónico de contacto\";\r\n        msg = ValidateInput.email(x.email);\r\n        if (msg) return msg;\r\n    }\r\n\r\n    if (step === 4) {\r\n        if (!state.forma_pago) {\r\n            return \"Seleccione su método de pago\";\r\n        }\r\n        if ((+state.forma_pago) === 3 && !state.numeroTransaccion) {\r\n            return \"Agregue el número de Comprobante\";\r\n        }\r\n        if (+state.forma_pago === 4 && !state.stripePaymentData) {\r\n            return \"Confirme el pago para continuar\";\r\n        }\r\n    }\r\n\r\n    return;\r\n}\r\nfunction Focus(ID) {\r\n    window.requestAnimationFrame(() => {\r\n        try {\r\n            document.getElementById(\"referencia\").focus();\r\n        } catch (ex) { }\r\n    })\r\n}","import React from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport { ArrowBack } from '@material-ui/icons';\r\n\r\nexport default function (props) {\r\n    return (<div style={{ width: \"calc(100% - 20px)\", display: \"flex\", flexDirection: \"row\", textAlign: \"center\", margin: 10, minHeight: 40 }}>\r\n        {props.activeStep === 0\r\n            ? null\r\n            : <Button\r\n                onClick={props.onBackClick}\r\n                title=\"Regresar\"\r\n                color=\"secondary\"\r\n                variant=\"outlined\"\r\n            >\r\n                <ArrowBack />\r\n            </Button>}\r\n        <Button\r\n            onClick={props.onNextClick}\r\n            disabled={props.disabled}\r\n            color=\"primary\"\r\n            type=\"button\"\r\n            variant=\"outlined\"\r\n            style={{ flex: 1 }}\r\n            type=\"submit\"\r\n            size=\"large\">\r\n            CONTINUAR\r\n  </Button>\r\n    </div>)\r\n}","import React from \"react\";\r\nimport { Stepper, Typography, Step, StepLabel } from \"@material-ui/core\";\r\n\r\nfunction generateStep(item, index, current) {\r\n    let data = {};\r\n    if (current === index) data = { icon: <item.currentIcon /> };\r\n    if (index > current) data = { icon: <item.icon /> };\r\n    return (<Step key={index} >\r\n        <StepLabel {...data} >{item.resumido}</StepLabel>\r\n    </Step >)\r\n}\r\n\r\nexport default function (props: { activeStep: number, steps: any[] }) {\r\n    const { activeStep, steps } = props;\r\n    return (<>\r\n        <Stepper className=\"hide-on-min-height\" alternativeLabel activeStep={activeStep}>\r\n            {steps.map((x, i) => generateStep(x, i, activeStep))}\r\n        </Stepper>\r\n\r\n        <Typography variant=\"h6\" className=\"show-on-min-height\" style={{\r\n            textAlign: \"center\",\r\n            textTransform: \"uppercase\",\r\n            background: \"#3f51b5\",\r\n            paddingTop: 5,\r\n            paddingBottom: 5,\r\n            color: \"white\"\r\n        }}>\r\n            {(steps[activeStep] || {}).t}\r\n        </Typography>\r\n    </>);\r\n}\r\n\r\n\r\n","import React from 'react';\nimport { Paper, Button, CircularProgress, Typography } from '@material-ui/core';\nimport { Switch, Route, withRouter, HashRouter, Redirect, Prompt } from \"react-router-dom\";\nimport {\n  ReceiptOutlined, PlaceOutlined, PersonOutlined, AddShoppingCartOutlined,\n  Receipt, Place, Person, ShoppingCart, MonetizationOn, MonetizationOnOutlined\n} from '@material-ui/icons';\n\nimport { State, Create } from \"./Store.ts\";\nimport { Provider } from \"react-redux\";\nimport API from \"./Services/API\";\nimport * as prefs from \"./Services/Preferences\";\n\nimport TakeOrder from './Components/TakeOrder';\nimport ConfirmOrder from './Components/ConfirmOrder';\nimport ContactData from './Components/ContactData';\nimport Location from './Components/Location';\nimport Payment from './Components/Payment.tsx';\nimport Done from './Components/Done';\nimport { VerifyStep } from \"./Services/StepValidations\";\nimport NavigationButtons from \"./Components/Layouts/NavigationButtons\";\nimport StepsHeader from './Components/Layouts/StepsHeader';\nimport PageRoute from './Components/Layouts/PageRoute';\nconst STEPS = [\n  { t: \"Ingresa tu ubicación\", resumido: \"Ubicación\", icon: PlaceOutlined, currentIcon: Place },\n  { t: \"Elige tus productos\", resumido: \"Elige\", icon: AddShoppingCartOutlined, currentIcon: ShoppingCart },\n  { t: \"Confirma tu pedido\", resumido: \"Confirma\", icon: ReceiptOutlined, currentIcon: Receipt },\n  { t: \"Datos de Contacto\", resumido: \"Contacto\", icon: PersonOutlined, currentIcon: Person },\n  { t: \"Método de Pago\", resumido: \"Pago\", icon: MonetizationOnOutlined, currentIcon: MonetizationOn },\n];\n\n\n\n\nvar reduxStore;\nconst App = withRouter(class extends React.Component {\n  state = new State();\n  constructor(props) {\n    super(props);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleInvoiceDataChange = this.handleInvoiceDataChange.bind(this);\n\n    this.handleMount = this.handleMount.bind(this);\n    this.handleNext = this.handleNext.bind(this);\n    this.handleBack = this.handleBack.bind(this);\n\n    this.handleDataChange = this.handleDataChange.bind(this);\n    this.handleStripeDone = this.handleStripeDone.bind(this);\n\n    const state = new State();\n\n    if (prefs.Get(\"contactData\")) {\n      state.contactData = prefs.Get(\"contactData\");\n    }\n\n    state.store = props.store;\n    // la direccion viene pre-cargada!\n    if (props.direccion) {\n      let msg = VerifyStep(0, { ...state, direccion: props.direccion });\n      if (!msg) {\n        state.direccion = props.direccion;\n        props.history.push(\"/1\");\n      }\n    }\n    this.state = state;\n    reduxStore = Create(state);\n  }\n  PROMISE_GUARDAR;\n  handleMount(step) {\n\n    const State = {\n      ...this.state,\n      ...reduxStore.getState()\n    };\n\n    if (this.state.orderNumber && step !== 5) {\n      // CUANDO SE MUEVE EL PEDIDO, POR EJEMPLO HACIA ATRAS, BORRO TODO Y COMIENZO DE 0\n      const state = { ...new State(), loading: false, productList: [...State.productList] };\n      state.contactData = prefs.Get(\"contactData\") || {};\n      state.invoiceData = null;\n      state.delivery = null;\n      this.setState(state);\n      this.props.history.push(\"/\" + state.activeStep);\n      return 0;\n    }\n    // verifica que los datos esten completos antes de pasar al siguiente paso\n    var prevstep = step - 1;\n    var goToStep = undefined;\n\n\n    if (step >= 0) {\n      while (prevstep >= 0) {\n        let msg = VerifyStep(prevstep, State);\n        if (msg) goToStep = prevstep;\n        prevstep--;\n      }\n    }\n    if (goToStep === step) return;\n    if (goToStep >= 0)\n      return this.props.history.push(\"/\" + goToStep);\n\n    // verifica que los datos asincronicos esten cubiertos antes de pasar el siguiente paso\n    // tambien obtiene la información que este proximo paso necesite\n    if (step > 0) {\n      // mejora en la validacion, pero bueno!\n      if (!this.state.delivery) {\n        console.info(\"No hay costo de envio, verificando la cobertura\");\n        return this.VerificarUbicacion();\n      }\n      if ((step === 1 || step === 2) && !State.productList.length) {\n        console.info(\"No hay productos en la lista, obteniendo productos\");\n        return this.LoadProducts();\n      }\n    }\n    if (step === 5) {\n      // cuando se abre el paso 5, la primera accion es GUARDAR todo\n      if (this.state.orderNumber || this.state.loading) return;\n      if (this.PROMISE_GUARDAR) return;\n\n      this.setState({ loading: \"guardar\", errGuardar: null });\n      this.PROMISE_GUARDAR = API.SaveOrder(State).then(order => {\n        this.setState({ loading: false, orderNumber: order.numero, errGuardar: null }, () => {\n          this.PROMISE_GUARDAR = null;\n        });\n      }).catch(ex => {\n        this.setState({ loading: false, errGuardar: ex }, () => {\n          this.PROMISE_GUARDAR = null;\n        });\n      });\n\n    }\n    this.setState({ activeStep: step });\n  }\n  handleDataChange(prop, value) {\n    this.setState(prev => {\n      const state = { ...prev };\n      if (prop === \"direccion\") {\n        // cuando la direccion CAMBIA, el objeto delivery se borra\n        var prev_position = state[prop].position;\n        var new_position = value ? value.position : null;\n        // si antes no habia posicion, o ahora tampoco hay, no deberia existir el objeto delivery\n        if (!new_position || !prev_position) {\n          if (state.delivery) {\n            console.info(\"App.State borrando DELIVERY:\", state.delivery);\n          }\n          state.delivery = null;\n        } else {\n          // Si las coordinadas son distintas, deberia borrarse el delivery tambien\n          if (prev_position.lat !== new_position.lat || prev_position.lng !== new_position.lng) {\n            if (state.delivery) {\n              console.info(\"App.State borrando DELIVERY:\", state.delivery);\n            }\n            state.delivery = null;\n          }\n        }\n      }\n      state[prop] = value;\n      return state;\n    });\n  }\n\n  LoadProducts() {\n    if (this.state.productList.length) {\n      console.warn(\"Load Products LOADED MORE THAN ONCE\");\n      return;\n    }\n    this.setState({\n      loading: true,\n      loadingMessage: \"Obteniendo los productos de la tienda...\",\n      error: null\n    });\n    return API.GetProducts()\n      .then(products => {\n        let productList = products.map(item => {\n          var pvp_final = 0;\n          if (item.pvp) pvp_final = item.pvp;\n          if (item.pagaIva && this.state.store.porcentajeIVA)\n            pvp_final += (item.pvp * (+this.state.store.porcentajeIVA) / 100);\n          item.pvp_final = pvp_final;\n          return item;\n        });\n        reduxStore.dispatch({\n          type: \"SET_PRODUCT_LIST\",\n          payload: productList\n        });\n\n        this.setState({\n          productList,\n          loading: null,\n          loadingMessage: null\n        }, () => console.info(\"Se han cargado los productos al estado\"))\n      }).catch(ex => {\n        console.dir(ex);\n        if (ex.status === 404) return this.setState({\n          loading: null, loadingMessage: null, productList: [],\n          error: { message: \"Esta tienda no tiene ningun articulo publicado.\" }\n        });\n        this.setState({\n          loading: null, loadingMessage: null, error: { ...ex }\n        });\n      });\n  }\n  VerificarUbicacion() {\n    const { direccion } = this.state;\n    this.setState({\n      loading: true,\n      loadingMessage: \"Verifcando el área de cobertura. Espera un momento.\",\n      error: null,\n      delivery: null\n    });\n    return API.CheckCoverage(direccion.position)\n      .then(results => {\n        if (results.isCovered) {\n          return this.setState({\n            direccion: { ...direccion },\n            delivery: {\n              status: results.deliveryPriceStatus,\n              valor: results.deliveryPrice,\n              metros: results.distance,\n              segundos: results.duration,\n              info_id: results.info_id\n            },\n            loading: null,\n            loadingMessage: null\n          });\n        }\n        if (results.nearestStore) {\n          setTimeout(() => {\n            API.RedirectTo(results.nearestStore,\n              direccion);\n          }, 100);\n          this.setState({\n            error: {\n              message: \"Estamos dirigiendote a la tienda más cercana a ti.\",\n              action: function () { },\n              btnMessage: \"ESPERA UN MOMENTO\"\n            },\n            loading: null,\n            loadingMessage: null\n          });\n        } else {\n          this.setState({\n            error: {\n              message: \"Esta tienda no está disponible para tu área. Intenta con otra ubicación.\",\n              btnMessage: \"CAMBIAR UBICACIÓN\",\n              action: () => {\n                this.props.history.push(\"/0\");\n                this.setState({ error: null, loading: null, loadingMessage: null });\n              }\n            }\n          });\n        }\n      }).catch(error => this.setState({ error }));\n  }\n\n  handleInputChange(event) {\n    const { name, value } = event.currentTarget;\n    this.setState(prev => {\n      const state = { ...prev };\n      if (name.indexOf(\".\") >= 0) {\n        const levels = name.split(\".\");\n        const key = levels.pop();\n        let reference = state;\n        for (let i = 0; i < levels.length; i++) {\n          reference = reference[levels[i]];\n        }\n        reference[key] = value;\n      } else {\n        state[name] = value;\n      }\n      return state;\n    });\n  }\n  handleInvoiceDataChange(invoiceData) {\n    this.setState({ invoiceData });\n  }\n  handleNext(event) {\n    event && event.preventDefault && event.preventDefault();\n    const { contactData, direccion, activeStep } = this.state;\n\n    var deniedReason = VerifyStep(activeStep, {\n      ...this.state,\n      ...reduxStore.getState()\n    });\n    if (deniedReason) return alert(deniedReason);\n\n    if (activeStep === 0 && direccion) {\n      const { gps_enabled, ...storable_data } = direccion;\n      prefs.Set(\"direccion\", JSON.stringify(storable_data));\n    }\n    if (activeStep === 3 && contactData)\n      prefs.Set(\"contactData\", JSON.stringify(contactData));\n\n    this.props.history.push(\"/\" + (this.state.activeStep + 1));\n  }\n  handleBack() {\n    this.props.history.push(\"/\" + (this.state.activeStep - 1));\n  }\n  handleStripeDone(paymentData) {\n    this.setState(prev => {\n      const state = { ...prev };\n      state.stripePaymentData = paymentData;\n      return state;\n    }, this.handleNext.bind(this));\n  }\n\n\n  render() {\n\n    const {\n      activeStep, loading, loadingMessage, error, store,\n      nota,\n      forma_pago, numeroTransaccion,\n      invoiceData, contactData,\n      direccion,\n      errGuardar, orderNumber\n    } = this.state;\n    return (<Provider store={reduxStore} >\n      <form onSubmit={this.handleNext} style={{\n        height: \"inherit\",\n        margin: \"auto\"\n      }}>\n        <Paper style={{\n          maxHeight: \"100%\",\n          minHeight: \"100%\",\n          margin: \"auto\",\n          maxWidth: 700,\n          display: \"flex\",\n          flexDirection: \"column\"\n        }}\n        >\n          <StepsHeader activeStep={activeStep} steps={STEPS} />\n\n          <div style={{ flex: 1, overflow: \"hidden\", display: \"flex\", flexDirection: \"column\" }}>\n            {error\n              ? (<div style={{ flex: 1, textAlign: \"center\", padding: 20 }}>\n                <Typography variant=\"h6\" color=\"secondary\">{error.message}</Typography>\n                <Button fullWidth style={{ marginTop: 20, marginBottom: 20 }} onClick={() => { error.action ? error.action() : window.location.reload() }} variant=\"outlined\" color=\"primary\">\n                  {error.btnMessage || \"REINTENTAR\"}\n                </Button>\n              </div>)\n              : (loading\n                ? <div style={{ flex: 1, textAlign: \"center\", padding: 20 }}>\n                  <CircularProgress size={40} />\n                  <Typography color=\"primary\" variant=\"h6\">{loadingMessage}</Typography>\n                </div>\n                : (<React.Fragment>\n                  {loading && <Prompt message=\"Hay un proceso en progreso, no deberia salir hasta que se complete. Está seguro de salir?\" />}\n                  <Switch>\n                    <PageRoute\n                      path=\"/0\"\n                      onMounted={this.handleMount}\n                      render={props => <Location\n                        {...props}\n                        store={store}\n                        style={{ flex: 1 }}\n                        store={store}\n                        onDataChange={this.handleDataChange}\n                        data={direccion}\n                        prop={\"direccion\"}\n                      />}\n                    />\n\n\n                    <Route\n                      path=\"/1\"\n                      render={props => <TakeOrder\n                        onMounted={this.handleMount}\n                        ID={1}\n                        history={props.history}\n                        path={props.match.path}\n                        style={{ flex: 1 }}\n                      />}\n                    />\n\n\n                    <Route path=\"/2\"\n                      render={props => <ConfirmOrder\n                        onMounted={this.handleMount}\n                        ID={2}\n                        {...props}\n                        style={{ flex: 1 }}\n                        delivery={this.state.delivery}\n                        envio_programado={this.state.envio_programado}\n                        onInputChange={this.handleInputChange}\n                        onDataChange={this.handleDataChange}\n\n                        nota={nota}\n                        store={store}\n                      />}\n                    />\n\n                    <Route path=\"/3\"\n                      render={props =>\n                        <ContactData\n                          onMounted={this.handleMount}\n                          ID={3}\n\n                          {...props}\n                          requireCedula={store && store.requireContactCedula}\n                          requireEmail={store && store.requireContactEmail}\n                          invoiceData={invoiceData}\n                          data={contactData}\n                          onInputChange={this.handleInputChange}\n                          onInvoiceDataChange={this.handleInvoiceDataChange}\n                        />}\n                    />\n\n                    <Route path=\"/4\"\n                      render={props => (<Payment\n                        onMounted={this.handleMount}\n                        ID={4}\n\n                        {...props}\n                        onInputChange={this.handleInputChange}\n                        onStripePaymentDone={this.handleStripeDone}\n                        numeroTransaccion={numeroTransaccion}\n                        forma_pago={forma_pago}\n                        store={store}\n                        delivery={this.state.delivery}\n                      />)} />\n\n                    <Route path=\"/5\"\n                      render={props => (<Done\n                        ID={5}\n                        onMounted={this.handleMount}\n\n                        {...props}\n                        ws_msg={store.ws_msg}\n                        ws_phone={store.ws_phone}\n                        contactData={contactData}\n                        orderNumber={orderNumber}\n                        loading={loading}\n                        error={errGuardar}\n                        saved={Boolean(orderNumber)}\n                      />)} />\n                    <Redirect exact from=\"/\" to=\"/0\"></Redirect>\n                    <Redirect exact from=\"\" to=\"/0\"></Redirect>\n                  </Switch>\n\n                  {STEPS.length > this.state.activeStep && <NavigationButtons\n                    onBackClick={this.handleBack}\n                  />}\n                </React.Fragment>))}\n\n          </div>\n        </Paper>\n      </form>\n    </Provider >);\n  }\n});\n\n\nexport default function (props) {\n  return (<HashRouter>\n    <App {...props} />\n  </HashRouter>);\n}","import React from 'react';\nimport App from './App';\nimport ReactDOM from 'react-dom';\nimport Home from './Home';\nimport Options from './Options';\nimport API from \"./Services/API\";\nimport Stripe from './Components/Payment/Stripe';\n\nvar PRE_LOADED_DIRECCION: any;\nvar params: any;\nif (window.location.search && window.URLSearchParams) {\n    params = new URLSearchParams(window.location.search);\n    console.info(window.location.search);\n\n    var direccion = params && params.get(\"step1\");\n    try {\n        direccion = atob(direccion) && JSON.parse(atob(direccion));\n    } catch (ex) {\n        direccion = null;\n    }\n    PRE_LOADED_DIRECCION = direccion;\n}\nAPI.GetStoreData()\n    .then(store => {\n        if (store.estado === \"DISPONIBLE\" && PRE_LOADED_DIRECCION) {\n            return LaunchApp({ store, direccion: PRE_LOADED_DIRECCION });\n        }\n        if (params && params.get(\"options\")) {\n            return LaunchOptions();\n        }\n        return LaunchHome({ store, direccion: PRE_LOADED_DIRECCION });\n    }).catch(error => LaunchHome({ error }));\nfunction LaunchApp(props: any) {\n    ReactDOM.render(<App {...props} />, document.getElementById('app'));\n}\nfunction LaunchHome(props: any) {\n    ReactDOM.render(<Home {...props} launch={LaunchApp} />, document.getElementById('app'));\n}\nfunction LaunchOptions() {\n    ReactDOM.render(<Options />, document.getElementById('app'));\n}\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();","import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nclass MountableComponent extends React.PureComponent<any, any> {\r\n    componentWillMount() {\r\n        if (this.props.onMounted) this.props.onMounted(\r\n            +this.props.match.path.replace(\"/\", \"\")\r\n        );\r\n    }\r\n    render() {\r\n        const { onMounted, renderProp, ...remain } = this.props;\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\ninterface Props {\r\n    onMounted: (path) => void;\r\n    render: (props: any) => any;\r\n    path: string;\r\n}\r\n\r\nexport default function (props: Props) {\r\n    const { render, path, onMounted } = props;\r\n    return (<Route\r\n        path={path}\r\n        render={routeProps =>\r\n            <MountableComponent\r\n                {...routeProps}\r\n                onMounted={onMounted}\r\n            >\r\n                {render(routeProps)}\r\n            </MountableComponent>}\r\n    />);\r\n}","import React from \"react\";\r\nimport { Typography, Button, Divider } from \"@material-ui/core\";\r\nimport { ParseHorarios } from \"./Services/HorarioCalcs\";\r\n// aqui cargo todo lo relacionado a la información inicial antes de comenzar!\r\nexport default class extends React.Component {\r\n    state = {};\r\n    constructor(props) {\r\n        super(props);\r\n        const { store, error } = props;\r\n        if (store) {\r\n            this.state.logoSrc = store.logoSrc;\r\n            this.state.slogan = store.slogan;\r\n            this.state.titulo = store.titulo;\r\n            if (store.estado === \"NO_DISPONIBLE\") {\r\n                this.state.error = \"La tienda no se encuentra disponible por el momento. Intenta nuevamente después.\";\r\n                this.state.horarios_de_atencion = ParseHorarios(store.horarios);\r\n                if (this.state.horarios_de_atencion && this.state.horarios_de_atencion.length) {\r\n                    this.state.infoHeader += \"\\nHorarios de Atención:\";\r\n                }\r\n            } else if (store.estado === \"CERRADO\") {\r\n                this.state.infoHeader = \"La tienda se encuentra cerrada en este momento, pero aún puedes agregar tu pedido para otro día.\";\r\n                this.state.horarios_de_atencion = ParseHorarios(store.horarios);\r\n                if (this.state.horarios_de_atencion && this.state.horarios_de_atencion.length) {\r\n                    this.state.infoHeader += \"\\nHorarios de Atención:\";\r\n                }\r\n            } else if (store.estado === \"DESHABILITADO\") {\r\n                this.state.error = \"Esta tienda está DESHABILITADA y no recibe pedidos.\";\r\n                this.state._error = \"Ingresaste a: \" + window.location.href;\r\n            }\r\n        } else {\r\n            if (error) {\r\n                if (error.status === 404) {\r\n                    this.state.error = \"La tienda que buscas no existe. Revisa tu enlace.\";\r\n                    this.state._error = \"Ingresaste a: \" + window.location.href;\r\n                } else {\r\n                    this.state.error = error.message;\r\n                    this.state.code = error.code || error.status;\r\n                    this.state._error = error.statusText;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        const { logoSrc, slogan, titulo, error, _error, horarios_de_atencion, infoHeader } = this.state;\r\n        return (<div style={{ width: \"calc(100% - 20px)\", maxWidth: 600, textAlign: \"center\", paddingTop: 30, margin: \"auto\" }}>\r\n            {error\r\n                ? (<React.Fragment>\r\n                    <Typography color=\"secondary\" variant=\"h6\">{error}</Typography>\r\n                    <Typography color=\"secondary\" variant=\"subtitle2\">{_error}</Typography>\r\n                </React.Fragment>)\r\n                : (<React.Fragment>\r\n                    {logoSrc && <img src={logoSrc} style={{ maxWidth: \"100%\", maxHeight: 250, marginTop: 10, marginBottom: 10 }} alt={titulo || \"\"} />}\r\n                    <Typography variant=\"h5\">{titulo || \"Cargando...\"}</Typography>\r\n                    {slogan && <Typography variant=\"subtitle2\">{slogan}</Typography>}\r\n\r\n                    {infoHeader && horarios_de_atencion && <Divider />}\r\n\r\n                    {infoHeader && <Typography color=\"secondary\" variant=\"h6\">{infoHeader}</Typography>}\r\n\r\n                    {horarios_de_atencion && horarios_de_atencion.map((h, index) =>\r\n                        <Typography key={index} color=\"secondary\" variant=\"subtitle1\" style={{ flex: 1, textAlign: \"center\" }}>{h.dias} {h.periodo}</Typography>\r\n                    )}\r\n\r\n                    {(titulo || logoSrc)\r\n                        && (<Button color=\"primary\" onClick={x => this.props.launch(this.props)} fullWidth variant=\"outlined\" style={{ marginTop: 20 }} >\r\n                            EMPECEMOS!\r\n                        </Button>)}\r\n                </React.Fragment >)\r\n            }\r\n        </div>)\r\n    }\r\n}","import React from \"react\";\r\nimport { Card, CardActionArea, CardMedia, CardContent, Typography } from \"@material-ui/core\";\r\n\r\nexport default class Options extends React.Component {\r\n    render() {\r\n        return (<div style={{\r\n            maxWidth: 400, margin: \"auto\", textAlign: \"center\", display: \"table\", height: \"100%\"\r\n        }}>\r\n            <div style={{ display: \"table-cell\", verticalAlign: \"middle\", margin: \"auto\" }}>\r\n                <Card>\r\n                    < CardActionArea component=\"a\" href={window.location.origin + window.location.pathname} >\r\n                        <CardMedia image=\"https://scontent.fuio1-1.fna.fbcdn.net/v/t1.0-9/p960x960/67743881_738186853265393_1248477547620990976_o.jpg?_nc_cat=107&_nc_sid=85a577&_nc_ohc=QWodto61Vl8AX9CT7bU&_nc_ht=scontent.fuio1-1.fna&_nc_tp=6&oh=a698d47723cbac4a7e6a57d9a07322cd&oe=5F2E03D6\" style={{ height: 120, height: \"23vh\" }} />\r\n                        <CardContent>\r\n                            <Typography>LA MARRANADA - DELIVERY</Typography>\r\n                        </CardContent>\r\n                    </ CardActionArea>\r\n                </Card>\r\n\r\n                <Card style={{ marginTop: 10 }}>\r\n                    <CardActionArea component=\"a\" href=\"whatsapp://send?phone=593939939579&text=Hola! Quiero realizar un pedido\" target=\"_blank\" >\r\n                        <CardMedia image=\"data:image/png;base64,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\" style={{ height: 120, height: \"23vh\" }} />\r\n                        <CardContent>\r\n                            <Typography>LA MARRA-EXPRESS!</Typography>\r\n                        </CardContent>\r\n                    </ CardActionArea>\r\n                </Card>\r\n            </div>\r\n        </div >);\r\n    }\r\n}"],"sourceRoot":""}