{"version":3,"sources":["Services/API.js","Services/Preferences.js","App.state.js","Components/ProductDetails.js","Components/TakeOrder.js","Components/ConfirmOrder.js","Services/ValidarIdentificacion.js","Services/ValidateInput.js","Components/InvoiceData.js","Components/ContactData.js","Components/Location.js","Components/Done.js","HOCs/WithValidate.js","App.js","Bootstrapper.js","index.js"],"names":["URL","store","_window$location","window","location","href","origin","data","substring","length","split","replace","Fetch","URI","options","fetch","method","cache","mode","then","response","ok","json","catch","text","x","message","status","statusText","obj","Object","objectSpread","ex","API","GetProducts","GetProduct","ID","SaveOrder","ORDER","body","JSON","stringify","headers","Content-Type","Access-Control-Allow-Origin","GetStoreData","Set","key","item","localStorage","setItem","console","log","Get","result","getItem","parse","warn","undefined","activeStep","items","productList","forma_pago","nota","contactData","telefono","nombre","email","invoiceData","documento","identificacion","razonsocial","direccion","numero_secundario","referencia","position","start_timestamp","Date","valueOf","orderNumber","loading","ProductDetails","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","descripcion","pvpWithTaxes","cantidad","imgSrc","handleInput","bind","assertThisInitialized","handleDone","handleCantidad","handleExit","match","params","id","choosenItems","find","_this2","setState","alert","event","name","currentTarget","prev","newState","target","defineProperty","value","onDone","_this$props","history","new_path","path","substr","indexOf","push","react_default","a","createElement","Fragment","index_es","open","classes","paper","loadingPaper","style","marginTop","marginBottom","textAlign","size","variant","dialogPaper","padding","maxWidth","maxHeight","onClick","color","float","right","top","icons_index_es","src","alt","width","display","flexDirection","margin","flex","toFixed","QuantityButton","marginLeft","marginRight","disabled","inputProps","maxLength","onChange","placeholder","label","multiline","rows","fullWidth","type","React","Component","withStyles","theme","withRouter","height","border","children","styles","root","flexWrap","justifyContent","overflow","gridList","transform","_default","onMounted","stepIndex","handleClick","onItemChange","products","reduce","current","exists","group","grupo","overflowX","overflowY","map","p","index","Carousel","title","react_router","Components_ProductDetails","PureComponent","cols","found","TileBar","actionPosition","subtitle","actionIcon","Tile","cursor","generateCarouselItem","url","paddingLeft","paddingRight","dense","button","primary","secondary","onInputChange","select","SelectProps","native","ValidarIdentificacion","numero","vacioEstaBien","exito","error","mensaje","esValido","isNaN","parseFloat","isNumber","p1","p2","p3","p4","p5","p6","p7","p8","p9","residuo","pri","pub","nat","modulo","d1","d2","d3","d4","d5","d6","d7","d8","d9","d10","isDigit","d11","d12","d13","digitoVerificador","validadorCedulaRuc","char","ValidateInput","tel","i","trim","twoParts","textField","content","paddingTop","paddingBottom","InvoiceData","razonSocial","hasOwnProperty","handleChange","_event$target","preventDefault","msg","b","c","d","e","validateMsg","cedula_err","cedula_props","helperText","rs_err","tel_props","tel_err","email_props","email_err","hay_errores","onSubmit","assign","textFiel","telefono_error","email_error","telefono_props","autoFocus","concat","render","r_props","Components_InvoiceData","onInvoiceDataChange","refs","fields","STORE_LATLNG","lat","lng","defaultCenter","latLng","defaultZoom","bounds","handleMapClick","handlePlacesChanged","handleSearchBoxMounted","handleMapMounted","handleBoundsChanged","handleLocationClick","showLocationButton","prefs","ref","searchBox","getBounds","places","getPlaces","google","maps","LatLngBounds","forEach","place","geometry","viewport","union","extend","placeLocations","placeLoc","center","onPositionChanged","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","isCurrentLocation","err","markerName","_this3","API_KEY","_this$state","Location_Map","googleMapURL","containerElement","loadingElement","mapElement","onPlacesChanged","onSearchBoxMounted","onMapMounted","marker","onBoundsChanged","searchBoxBounds","onLocationClick","Map","withScriptjs","withGoogleMap","lib","disableDefaultUI","zoomControl","clickableIcons","SearchBox_default","controlPosition","ControlPosition","TOP_LEFT","stopPropagation","boxSizing","borderRadius","boxShadow","fontSize","outline","textOverflow","minWidth","background","MarkerWithLabel","labelAnchor","Point","labelStyle","labelVisible","Boolean","ws","Wait","ErrrMsg","IsCompleted","vaiant","code","component","WithValidate","step","_React$Component","_class2","moveToStep","onValidate","inherits","createClass","TakeOrder","A","ConfirmOrder","B","ContactData","C","Location","D","Done","E","STEPS","t","icon","AddShoppingCartOutlined","currentIcon","ShoppingCart","ReceiptOutlined","Receipt","PersonOutlined","Person","PlaceOutlined","Place","App","State","handleActivateStep","handleItemChange","handleInputChange","handleInvoiceDataChange","handlePositionChanged","handleGuardar","validateStep","handleValidateStep","handleNextClick","toConsumableArray","prevstep","goToStep","_","info","dir","_event$currentTarget","levels","pop","reference","ws_phone","ws_msg","final_msg","encodeURIComponent","PrevItem","PrevIndex","splice","new_position","_this$state2","errGuardar","end_timestamp","order","_this4","_this$state3","react_router_dom","minHeight","alternativeLabel","generateStep","reload","G_M_K","whatsAppURL","saved","exact","from","to","RouterButton","errMsg","begin","launch","PERMISSION_DENIED","_error","POSITION_UNAVAILABLE","logoSrc","slogan","titulo","wordWrap","ReactDOM","Bootstrapper_default","src_App","document","getElementById"],"mappings":"+QAAMA,EAAM,yCACZ,SAASC,IAAQ,IAAAC,EACYC,OAAOC,SAAxBC,EADKH,EACLG,KAAMC,EADDJ,EACCI,OACRC,EAAOF,EAAKG,UAAUF,EAAOG,OAAQJ,EAAKI,QAAQC,MAAM,KAC9D,OAASH,GAAQA,EAAK,IAAO,IAAII,QAAQ,KAAM,IAyBnD,SAASC,EAAMC,EAAKC,GAMhB,OAAOC,MAAMF,EAAKC,GALD,CACbE,OAAQ,MACRC,MAAO,SACPC,KAAM,SAE6BC,KAAK,SAAAC,GACxC,OAAIA,EAASC,GACFD,EAASE,OAETF,EAASE,OACXC,MAAM,WACH,OAAOH,EAASI,OAAOL,KAAK,SAAAM,GACxB,KAAM,CACFC,QAASD,EACTE,OAAQP,EAASO,OACjBC,WAAYR,EAASQ,gBAG9BT,KAAK,SAAAU,GACJ,MAAMC,OAAAC,EAAA,EAAAD,CAAA,GACCD,EADP,CAEIF,OAAQP,EAASO,OACjBC,WAAYR,EAASQ,iBAItCL,MAAM,SAAAS,GACL,GAAmB,oBAAfA,EAAGN,QACH,KAAM,CACFA,QAAS,mFACTC,OAAQ,GAIhB,MADKK,EAAGN,UAASM,EAAGN,QAAUM,EAAGJ,YAC3BI,IAGCC,MA7DH,CACRC,YADQ,WAEJ,OAAOtB,EAAMZ,EAAMC,IAAU,aAEjCkC,WAJQ,SAIGC,GACP,OAAOxB,EAAMZ,EAAMC,IAAU,YAAcmC,IAE/CC,UAPQ,SAOEC,GACN,OAAO1B,EAAMZ,EAAMC,IAAU,SAAU,CACnCsC,KAAMC,KAAKC,UAAUH,GACrBtB,OAAQ,OACRE,KAAM,OACNwB,QAAS,CACLC,eAAgB,mBAChBC,8BAA+B,QAI3CC,aAlBQ,WAmBJ,OAAOjC,EAAMZ,EAAMC,IAAU,0BCzB9B,SAAS6C,EAAIC,EAAKC,GACrB7C,OAAO8C,aAAaC,QAAQH,EAAKC,GACjCG,QAAQC,IAAI,eAAiBL,EAAM,WAEhC,SAASM,EAAIL,GAChB,IAAIM,EAASnD,OAAO8C,aAAaM,QAAQP,GACzC,IACIM,EAASd,KAAKgB,MAAMF,GACtB,MAAOtB,GACLmB,QAAQM,KAAK,eAAiBT,EAAMhB,GAExC,MAAe,SAAXsB,GAAgC,UAAXA,EAAsC,SAAXA,GACpDH,QAAQC,IAAI,eAAiBJ,EAAO,QAASM,GAC9B,OAAXA,QAA8BI,IAAXJ,EAA6B,KAC7CA,+CCbPK,WAAa,OACbC,MAAQ,QACRC,YAAc,QACdC,WAAa,OACbC,KAAO,QACPC,YAAc,CACVC,SAAU,GACVC,OAAQ,GACRC,MAAO,SAEXC,YAAc,CACVC,UAAW,EACXC,eAAgB,GAChBC,YAAa,GACbN,SAAU,GACVO,UAAW,GACXL,MAAO,SAEXK,UAAY,CACRC,kBAAmB,GACnBC,WAAY,GACZC,SAAU,WAEdC,iBAAkB,IAAIC,MAAOC,eAC7BC,YAAc,UACdC,QAAU,wBCPRC,cAUF,SAAAA,EAAYC,GAAO,IAAAC,EAOf,GAPerD,OAAAsD,EAAA,EAAAtD,CAAAuD,KAAAJ,IACfE,EAAArD,OAAAwD,EAAA,EAAAxD,CAAAuD,KAAAvD,OAAAyD,EAAA,EAAAzD,CAAAmD,GAAAO,KAAAH,KAAMH,KAVVO,MAAQ,CACJvB,OAAQ,GACRwB,YAAa,GACbC,aAAc,EACdC,SAAU,EACVC,OAAQ,GACR9B,KAAM,GACNiB,SAAS,GAITG,EAAKW,YAAcX,EAAKW,YAAYC,KAAjBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KACnBA,EAAKc,WAAad,EAAKc,WAAWF,KAAhBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAClBA,EAAKe,eAAiBf,EAAKe,eAAeH,KAApBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KACtBA,EAAKgB,WAAahB,EAAKgB,WAAWJ,KAAhBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAClBA,EAAK/C,GAAK8C,EAAMkB,MAAMC,OAAOC,GACzBpB,EAAMqB,cAAgBrB,EAAMqB,aAAa9F,OAAQ,CACjD,IAAIuC,EAAOkC,EAAMqB,aAAaC,KAAK,SAAA/E,GAAC,OAAIA,EAAE6E,MAASnB,EAAK/C,KACpDY,IAAMmC,EAAKM,MAAL3D,OAAAC,EAAA,EAAAD,CAAA,GAAkBkB,EAAlB,CAAwBgC,SAAS,KAThC,OAAAG,mFAYC,IAAAsB,EAAApB,KAChB,GAAKA,KAAKI,MAAMT,QAAhB,CADgB,IAERnB,EAAgBwB,KAAKH,MAArBrB,YACR,GAAIA,GAAeA,EAAYpD,OAAQ,CACnC,IAAMF,EAAOsD,EAAY2C,KAAK,SAAA/E,GAAC,OAAIA,EAAE6E,MAASG,EAAKrE,KACnD,GAAI7B,EACA,OAAO8E,KAAKqB,SAAL5E,OAAAC,EAAA,EAAAD,CAAA,CAAgBkD,SAAS,GAAUzE,IAElDoG,MAAM,4GAEKC,GACX,IAAMC,EAAOD,EAAME,cAAcD,KACjCxB,KAAKqB,SAAS,SAAAK,GACV,IAAMC,EAAQlF,OAAAC,EAAA,EAAAD,CAAA,GAAQiF,GAClBnB,EAAWoB,EAASpB,SAKxB,MAJa,QAATiB,IAAgBjB,GAAYA,GAAY,GAAK,GACpC,WAATiB,IAAmBjB,EAAWA,GAAY,EAAI,EAAKA,EAAW,GAClEoB,EAASpB,SAAWA,EACpBzC,QAAQC,IAAI,gCAAiCwC,GACtCoB,wCAGHJ,GAAO,IACPK,EAAWL,EAAXK,OACR5B,KAAKqB,SAAL5E,OAAAoF,EAAA,EAAApF,CAAA,GAAiBmF,EAAOJ,KAAOI,EAAOE,6CAGtC9B,KAAKH,MAAMkC,OAAXtF,OAAAC,EAAA,EAAAD,CAAA,GAAuBuD,KAAKI,QAC5BJ,KAAKc,kDAEI,IAAAkB,EACkBhC,KAAKH,MAAxBkB,EADCiB,EACDjB,MAAOkB,EADND,EACMC,QACTC,EAAWnB,EAAMoB,KAAKC,OAAO,EAAGrB,EAAMoB,KAAKE,QAAQ,sBACzDJ,EAAQK,KAAKJ,oCAGbpE,QAAQC,IAAI,4BADP,IAEGqC,EAAUJ,KAAVI,MACR,OAAQmC,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACHtC,EAAMT,SAAW4C,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQC,MAAM,EAAMC,QAAS,CAAEC,MAAO9C,KAAKH,MAAMgD,QAAQE,eACvER,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEC,UAAW,IAAKC,aAAc,IAAKC,UAAW,WACxDZ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAkBS,KAAM,KACxBb,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYU,QAAQ,MAApB,iBAGRd,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQC,MAAOxC,EAAMT,QAASkD,QAAS,CAAEC,MAAO9C,KAAKH,MAAMgD,QAAQS,cAC/Df,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAeK,MAAO,CAAEO,QAAS,EAAGC,SAAU,IAAKC,UAAW,SAC1DlB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAKe,QAAS1D,KAAKc,WAAY6C,MAAM,YAAYX,MAAO,CAAEY,MAAO,QAASC,MAAO,GAAIC,IAAK,GAAIxE,SAAU,aACpGiD,EAAAC,EAAAC,cAACsB,EAAA,EAAD,OAEJxB,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEQ,SAAU,OAAQC,UAAW,OAASO,IAAK5D,EAAMI,QAAU,GAAIyD,IAAK7D,EAAMvB,SACxF0D,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEkB,MAAO,OAAQC,QAAS,OAAQC,cAAe,QACzD7B,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYK,MAAO,CAAEqB,OAAQ,GAAIC,KAAM,GAAKjB,QAAQ,SAC/CjD,EAAMvB,QAEX0D,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYK,MAAO,CAAEqB,OAAQ,IAAMhB,QAAQ,SAA3C,KACOjD,EAAME,aAAaiE,QAAQ,KAGtChC,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYK,MAAO,CAAEqB,OAAQ,IAAMhB,QAAQ,SACtCjD,EAAMC,aAEXkC,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEkB,MAAO,OAAQf,UAAW,SAAUF,UAAW,GAAIC,aAAc,KAC3EX,EAAAC,EAAAC,cAAC+B,EAAD,CAAgBd,QAAS1D,KAAKa,eAAgBW,KAAK,OAC/Ce,EAAAC,EAAAC,cAACsB,EAAA,EAAD,OAEJxB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYK,MAAO,CAAEmB,QAAS,eAAgBM,WAAY,GAAIC,YAAa,IAAMrB,QAAQ,MACpFjD,EAAMG,UAAY,GAEvBgC,EAAAC,EAAAC,cAAC+B,EAAD,CAAgBG,SAAUvE,EAAMG,UAAY,EAAGmD,QAAS1D,KAAKa,eAAgBW,KAAK,UAC9Ee,EAAAC,EAAAC,cAACsB,EAAA,EAAD,QAGRxB,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEkB,MAAO,MAAOG,OAAQ,SAChC9B,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAWb,MAAO1B,EAAM1B,KACpBkG,WAAY,CAAEC,UAAW,KACzBC,SAAU9E,KAAKS,YACfe,KAAK,OACLmC,MAAM,UACNoB,YAAY,uCACZC,MAAM,mBACN3B,QAAQ,WACR4B,WAAS,EAACC,KAAK,IAAIC,WAAS,MAGxC5C,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACIJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQyC,KAAK,SAAS1B,QAAS1D,KAAKY,WAAY+C,MAAM,UAAUN,QAAQ,YAAxE,qBA5GSgC,IAAMC,WAkHpBC,uBAjIA,SAAAC,GAAK,MAAK,CACrBlC,YAAa,CACTE,SAAU,IACVC,UAAW,oBACXR,UAAW,GACXC,aAAc,IAElBH,aAAc,CACV0B,WAAY,GACZC,YAAa,GACbR,MAAO,oBACPV,SAAU,OAsHH+B,CAAmBE,YAAW7F,IAE7C,SAAS4E,EAAe3E,GACpB,IAAMmD,EAAQ,CAAE0C,OAAQ,GAAIxB,MAAO,GAAIyB,OAAQ,kBAE/C,OADI9F,EAAM8E,iBAAiB3B,EAAM2C,OACzBpD,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACJgC,SAAU9E,EAAM8E,SAChBjB,QAAS7D,EAAM6D,QACflC,KAAM3B,EAAM2B,KAAMwB,MAAOA,GAExBnD,EAAM+F,UC1If,IAAMC,EAAS,CACXC,KAAM,CACF3B,QAAS,OACT4B,SAAU,OACVC,eAAgB,eAChBC,SAAU,UAEdC,SAAU,CACNH,SAAU,SAEVI,UAAW,gCAKf,SAAAC,EAAYvG,GAAO,IAAAC,EAAA,OAAArD,OAAAsD,EAAA,EAAAtD,CAAAuD,KAAAoG,GACftG,EAAArD,OAAAwD,EAAA,EAAAxD,CAAAuD,KAAAvD,OAAAyD,EAAA,EAAAzD,CAAA2J,GAAAjG,KAAAH,KAAMH,IACFA,EAAMwG,WAAWxG,EAAMwG,UAAUxG,EAAMyG,WAC3CxG,EAAKyG,YAAczG,EAAKyG,YAAY7F,KAAjBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAHJA,2EAKPyB,GACRvB,KAAKH,MAAMoC,QAAQK,KAAKtC,KAAKH,MAAMkB,MAAMoB,KAAO,iBAAmBZ,EAAME,cAAcR,qCAElF,IAAAG,EAAApB,KACLlC,QAAQC,IAAI,sBADP,IAAAiE,EAE6DhC,KAAKH,MAA/DrB,EAFHwD,EAEGxD,YAAawE,EAFhBhB,EAEgBgB,MAAO9B,EAFvBc,EAEuBd,aAAcH,EAFrCiB,EAEqCjB,MAAOyF,EAF5CxE,EAE4CwE,aAC3CC,EAAWjI,EAAYkI,OAAO,SAAChF,EAAMiF,GACvC,IAAIC,EAASlF,EAAKP,KAAK,SAAA/E,GAAC,OAAIA,EAAEyK,QAAUF,EAAQG,QAShD,OARKF,IACDA,EAAS,CACLC,MAAOF,EAAQG,MACfvI,MAAO,IAEXmD,EAAKY,KAAKsE,IAEdA,EAAOrI,MAAM+D,KAAKqE,GACXjF,GACR,IAEH,OAAM+E,GAAYA,EAASrL,OAKnBmH,EAAAC,EAAAC,cAAA,OAAKO,MAAKvG,OAAAC,EAAA,EAAAD,CAAA,GAAOuG,EAAP,CAAcG,UAAW,OAAQ4D,UAAW,SAAUC,UAAW,UAC9EP,EAASQ,IAAI,SAACC,EAAGC,GAAJ,OACT5E,EAAAC,EAAAC,cAAC2E,EAAD,CAAU1J,IAAKyJ,EACZzD,QAAStC,EAAKmF,YACdvD,MAAO,CAAEC,UAAW,GAAIC,aAAc,IACtCmE,MAAOH,EAAEL,MACTtI,MAAO2I,EAAE3I,MACT2C,aAAcA,MAEtBqB,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,CAAOnF,KAAMpB,EAAMoB,KAAO,qBACtBI,EAAAC,EAAAC,cAAC8E,EAAD,CACIrG,aAAcA,GAAgB,GAC9Ba,OAAQyE,EACRhI,YAAaA,MAjBb+D,EAAAC,EAAAC,cAAA,OAAKO,MAAKvG,OAAAC,EAAA,EAAAD,CAAA,GAAOuG,EAAP,CAAcG,UAAW,YACvCZ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYU,QAAQ,MAApB,sFA3BagC,IAAMmC,eAiDnC,SAASJ,EAASvH,GACd,OAAQ0C,EAAAC,EAAAC,cAAA,OAAKO,MAAKvG,OAAAC,EAAA,EAAAD,CAAA,GAAOoD,EAAMmD,QAC3BT,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYU,QAAQ,KAAKL,MAAO,CAAEyB,WAAY,KAAO5E,EAAMwH,OAC3D9E,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAU8E,KAAM,IAAKzE,MAAO6C,EAAOK,UAC9BrG,EAAMtB,MAAM0I,IAAI,SAACtJ,GACd,IAAM+J,GAAS7H,EAAMqB,cAAgB,IAAIC,KAAK,SAAA/E,GAAC,OAAIA,EAAE6E,KAAOtD,EAAKsD,KACjE,OAKhB,SAA8BtD,EAAM4C,EAAUmD,GAC1C,IAAMiE,EAAU,CACZN,MAAO1J,EAAKkB,OACZ+I,eAAgB,QAChBC,SAAUlK,EAAK2C,aAAaiE,QAAQ,IAEpChE,IACAoH,EAAQG,WAAavF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYU,QAAQ,QAAQL,MAAO,CAAEW,MAAO,OAAQe,YAAa,IAAjE,IAAyEnE,IAElG,IAAMwH,EAAO,CACTC,OAAQ,WAERzH,IACAwH,EAAKpC,OAAS,sBAElB,OAAQpD,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAcK,MAAO+E,EAAMrK,IAAKC,EAAKsD,GAAIyC,QAASA,EAASzC,GAAItD,EAAKsD,GAAI0C,MAAM,WAClFpB,EAAAC,EAAAC,cAAA,OAAKuB,IAAKrG,EAAK6C,OAAQyD,IAAKtG,EAAKkB,SACjC0D,EAAAC,EAAAC,cAACE,EAAA,EAAoBgF,IAtBNM,CAAqBtK,EAAM+J,GAASA,EAAMnH,SAAUV,EAAM6D,+BCpE7E,SAAA0C,EAAYvG,GAAO,IAAAC,EAAA,OAAArD,OAAAsD,EAAA,EAAAtD,CAAAuD,KAAAoG,GACftG,EAAArD,OAAAwD,EAAA,EAAAxD,CAAAuD,KAAAvD,OAAAyD,EAAA,EAAAzD,CAAA2J,GAAAjG,KAAAH,KAAMH,IACFA,EAAMwG,WAAWxG,EAAMwG,UAAUxG,EAAMyG,WAC3CxG,EAAKyG,YAAczG,EAAKyG,YAAY7F,KAAjBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAHJA,2EAKPyB,GACR,IAAMN,EAAKM,EAAME,cAAcR,GAC/BjB,KAAKH,MAAMoC,QAAQK,KAAKtC,KAAKH,MAAMkB,MAAMmH,IAAM,iBAAmBjH,oCAE7D,IAAAG,EAAApB,KACLlC,QAAQC,IAAI,yBADP,IAEG8B,EAAUG,KAAVH,MACR,OAAQ0C,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEmF,YAAa,GAAIC,aAAc,GAAInC,SAAU,OAAQ3B,KAAM,IAC7E/B,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMK,MAAO,CAAEE,aAAc,IAAMmF,OAAO,IACpCxI,EAAMtB,OAAS,IAAI0I,IAAI,SAAA7K,GAAC,OAoCjBlB,EApCqCkB,EAoC/BsH,EApCkCtC,EAAKmF,YAsC9DhE,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAUjF,IAAKxC,EAAK+F,GAAIqH,QAAM,EAAC5E,QAASA,EAASzC,GAAI/F,EAAK+F,IACtDsB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAc4F,QAASrN,EAAK2D,OAAQ2J,UAAWtN,EAAKwD,MAAQ,KAC5D6D,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACIJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYK,MAAO,CAAEqB,OAAQ,EAAGd,QAAS,GAAKF,QAAQ,MAAtD,IAA6DnI,EAAKqF,YALlF,IAAyBrF,EAAMwI,KAlCnBnB,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEkB,MAAO,OAAQf,UAAW,WACpCZ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIqC,MAAM,8BACND,YAAY,2CACZE,WAAS,EACTzD,KAAK,OACLoD,WAAY,CAAEC,UAAW,KACzB/C,MAAOjC,EAAMnB,KACboG,SAAUjF,EAAM4I,cAChBvD,KAAM,EACNlC,MAAO,CAAEkB,MAAO,MAAOG,OAAQ,OAAQnB,aAAc,GAAID,UAAW,MAGxEV,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIqC,MAAM,kCACN0D,QAAM,EACN5G,MAAOjC,EAAMpB,WACb+C,KAAK,aACLsD,SAAUjF,EAAM4I,cAChBpF,QAAQ,WACRL,MAAO,CAAEkB,MAAO,MAAOG,OAAQ,OAAQnB,aAAc,GAAID,UAAW,IACpE0F,YAAa,CAAEC,QAAQ,IAEvBrG,EAAAC,EAAAC,cAAA,UAAQX,MAAO,GAAf,YACAS,EAAAC,EAAAC,cAAA,UAAQX,MAAO,GAAf,kCAGRS,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,CAAOnF,KAAMtC,EAAMkB,MAAMoB,KAAO,qBAC5BI,EAAAC,EAAAC,cAAC8E,EAAD,CAAgB/I,YAAaqB,EAAMrB,YAAa0C,aAAcrB,EAAMtB,OAAS,GAAIwD,OAAQlC,EAAM2G,wBA7ClFnB,IAAMmC,eCLpB,IAAAqB,EAAA,SAAU/G,EAAO9C,GAG5B,GAFK8C,IAAOA,EAAQ,IAEF,KADlB9C,GAAaA,GACb,CACA,GAAkB,IAAdA,EAAiB,CACjB,GAAqB,KAAjB8C,EAAM1G,OAAe,MAAO,yCAChC,GAAqB,KAAjB0G,EAAM1G,QAA2B,kBAAV0G,EAA2B,OAE1D,OAAkB,IAAd9C,GACqB,KAAjB8C,EAAM1G,OAAsB,4CAIxC,SAA4B0N,EAAQC,EAAeC,EAAOC,GACtD,IAAIC,EAAU,GACVC,GAAW,EACf,GAAIJ,IAuLevM,EAvLgBsM,EAwLvB,KAARtM,QAAqB6B,GAAP7B,GAA2B,MAAPA,GAAsB,aAAPA,GAvLjD0M,EAAU,GACVC,GAAW,OAEX,GAkLR,SAAkB3M,GAAO,OAAQ4M,MAAMC,WAAW7M,IAlLtC8M,CAASR,GAAS,CAEdA,EAAO1N,OAAS,GAChB8N,EAAU,+CACHJ,EAAO1N,OAAS,IAAM0N,EAAO1N,OAAS,GAC7C8N,EAAU,4CACHJ,EAAO1N,OAAS,KACvB8N,EAAU,2CAId,IAkDIK,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAzDAC,EAAU,EACVC,GAAM,EACNC,GAAM,EACNC,GAAM,EAENC,EAAS,GASPC,EAAKvB,EAAO1G,OAAO,EAAG,GACtBkI,EAAKxB,EAAO1G,OAAO,EAAG,GACtBmI,EAAKzB,EAAO1G,OAAO,EAAG,GACtBoI,EAAK1B,EAAO1G,OAAO,EAAG,GACtBqI,EAAK3B,EAAO1G,OAAO,EAAG,GACtBsI,EAAK5B,EAAO1G,OAAO,EAAG,GACtBuI,EAAK7B,EAAO1G,OAAO,EAAG,GACtBwI,EAAK9B,EAAO1G,OAAO,EAAG,GACtByI,EAAK/B,EAAO1G,OAAO,EAAG,GACtB0I,EAAMhC,EAAO1G,OAAO,EAAG,GAY7B,GAXK2I,EAAQV,KAAKnB,EAAU,kCACvB6B,EAAQT,KAAKpB,EAAU,kCACvB6B,EAAQR,KAAKrB,EAAU,kCACvB6B,EAAQP,KAAKtB,EAAU,kCACvB6B,EAAQN,KAAKvB,EAAU,kCACvB6B,EAAQL,KAAKxB,EAAU,kCACvB6B,EAAQJ,KAAKzB,EAAU,kCACvB6B,EAAQH,KAAK1B,EAAU,kCACvB6B,EAAQF,KAAK3B,EAAU,kCACvB6B,EAAQD,KAAM5B,EAAU,mCAEzBJ,EAAO1N,OAAS,GAAI,CACpB,IAAM4P,EAAMlC,EAAO1G,OAAO,GAAI,GACxB6I,EAAMnC,EAAO1G,OAAO,GAAI,GACxB8I,EAAMpC,EAAO1G,OAAO,GAAI,GAC1B4I,IAAQD,EAAQC,KAAM9B,EAAU,mCAChC+B,IAAQF,EAAQE,KAAM/B,EAAU,mCAChCgC,IAAQH,EAAQG,KAAMhC,EAAU,mCAkB9B,GAANqB,GAAiB,GAANA,IACXrB,EAAU,+CACVC,GAAW,GAIXoB,EAAK,GACLJ,GAAM,GACNZ,EAAU,EAALc,IAAkB,KAAId,GAAM,IACjCC,EAAU,EAALc,IAAkB,KAAId,GAAM,IACjCC,EAAU,EAALc,IAAkB,KAAId,GAAM,IACjCC,EAAU,EAALc,IAAkB,KAAId,GAAM,IACjCC,EAAU,EAALc,IAAkB,KAAId,GAAM,IACjCC,EAAU,EAALc,IAAkB,KAAId,GAAM,IACjCC,EAAU,EAALc,IAAkB,KAAId,GAAM,IACjCC,EAAU,EAALc,IAAkB,KAAId,GAAM,IACjCC,EAAU,EAALc,IAAkB,KAAId,GAAM,GACjCK,EAAS,IAKE,GAANG,GACLL,GAAM,EACNX,EAAU,EAALc,EACLb,EAAU,EAALc,EACLb,EAAU,EAALc,EACLb,EAAU,EAALc,EACLb,EAAU,EAALc,EACLb,EAAU,EAALc,EACLb,EAAU,EAALc,EACLb,EAAU,EAALc,EACLb,EAAK,GAIM,GAANQ,IACLN,GAAM,EACNV,EAAU,EAALc,EACLb,EAAU,EAALc,EACLb,EAAU,EAALc,EACLb,EAAU,EAALc,EACLb,EAAU,EAALc,EACLb,EAAU,EAALc,EACLb,EAAU,EAALc,EACLb,EAAU,EAALc,EACLb,EAAU,EAALc,GAOT,IAAMM,EAA+B,IAHrCnB,GADOT,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAC9BK,GAGwB,EAAIA,EAASJ,EAG3C,GAAPE,GACIiB,GAAqBN,IACrB3B,EAAU,4DACVC,GAAW,GAGY,QAAvBL,EAAO1G,OAAO,EAAG,KACjB8G,EAAU,oEACVC,GAAW,IAGH,GAAPc,GACDkB,GAAqBL,IACrB5B,EAAU,yDACVC,GAAW,GAEa,OAAxBL,EAAO1G,OAAO,GAAI,KAClB8G,EAAU,gEACVC,GAAW,IAIH,GAAPgB,IACDgB,GAAqBL,IACrB5B,EAAU,iEACVC,GAAW,GAEXL,EAAO1N,OAAS,IAA8B,OAAxB0N,EAAO1G,OAAO,GAAI,KACxC8G,EAAU,qDACVC,GAAW,IAGnBA,GAAW,OAGXD,EAAU,iCAiBtB,IAAuB1M,EAbnB,OAAI2M,GAAuB,IAAXD,GACRF,GAASA,IACN,KAEQ,IAAXE,IACAA,EAAU,wDAEVD,GAASA,EAAMC,GACZA,GAvLJkC,CAAmBtJ,GAAO,KA0L9B,SAASiJ,EAAQM,GAAQ,OAAOA,GAAQ,KAAOA,GAAQ,ICnM9D,IAqBeC,EArBO,CAClBC,IADkB,SACdzJ,GACA,GAAKA,EAAL,CACA,GAAIA,EAAM1G,OAAS,EAAG,MAAO,yDAC7B,IAAK,IAAIoQ,EAAI,EAAGA,EAAI1J,EAAM1G,OAAQoQ,IAC9B,GAAmB,MAAb1J,EAAM0J,KAAcT,EAAQjJ,EAAM0J,KAA2B,KAApB1J,EAAM0J,GAAGC,OACpD,MAAO,oFAInB3M,MAVkB,SAUZgD,GACF,GAAKA,EAAL,CACA,GAAIA,EAAM1G,OAAS,EAAG,MAAO,4CAC7B,IAAIsQ,EAAW5J,EAAMzG,MAAM,KAC3B,OAAwB,IAApBqQ,EAAStQ,OAAqB,4CAC5BsQ,EAAS,GAAGrJ,QAAQ,MAAQ,EAC9BP,EAAM2J,OAAOpJ,QAAQ,MAAQ,EAAU,4CACvCP,EAAM2J,OAAOpJ,QAAQ,OAAS,EAAU,4CACxCP,EAAM2J,OAAOpJ,QAAQ,OAAS,EAAU,iDAA5C,EAH6C,+CCZ/CW,EAAQ,CACV2I,UAAW,CACP1I,UAAW,GACXC,aAAc,IAElB0I,QAAS,CACLC,WAAY,GACZ1D,YAAa,GACbC,aAAc,GACd0D,cAAe,IAIjBC,cASF,SAAAA,EAAYlM,GAAO,IAAAC,EAEf,GAFerD,OAAAsD,EAAA,EAAAtD,CAAAuD,KAAA+L,IACfjM,EAAArD,OAAAwD,EAAA,EAAAxD,CAAAuD,KAAAvD,OAAAyD,EAAA,EAAAzD,CAAAsP,GAAA5L,KAAAH,KAAMH,KATVO,MAAQ,CACJpB,UAAW,EACXC,eAAgB,GAChB+M,YAAa,GACbpN,SAAU,GACVO,UAAW,GACXL,MAAO,IAIHe,EAAM3E,KACN,IAAK,IAAMwC,KAAOmC,EAAM3E,KAChB2E,EAAM3E,KAAK+Q,eAAevO,KAC1BoC,EAAKM,MAAM1C,GAAOmC,EAAM3E,KAAKwC,IAL1B,OASfoC,EAAKoM,aAAepM,EAAKoM,aAAaxL,KAAlBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KACpBA,EAAKgB,WAAahB,EAAKgB,WAAWJ,KAAhBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAClBA,EAAKc,WAAad,EAAKc,WAAWF,KAAhBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAXHA,4EAaNyB,GAAO,IAAA4K,EACQ5K,EAAMK,OAAtBJ,EADQ2K,EACR3K,KAAMM,EADEqK,EACFrK,MACd9B,KAAKqB,SAAL5E,OAAAoF,EAAA,EAAApF,CAAA,GACK+E,EAAOM,yCAGH,IAAAE,EACkBhC,KAAKH,MAAxBkB,EADCiB,EACDjB,MAAOkB,EADND,EACMC,QACTC,EAAWnB,EAAMoB,KAAKC,OAAO,EAAGrB,EAAMoB,KAAKE,QAAQ,kBACzDJ,EAAQK,KAAKJ,sCAENX,GACPA,EAAM6K,iBACN,IAAMC,EAyHd,SAAqBjM,GAAO,IAChBpB,EAAuEoB,EAAvEpB,UAAWC,EAA4DmB,EAA5DnB,eAAgB+M,EAA4C5L,EAA5C4L,YAAapN,EAA+BwB,EAA/BxB,SAAUO,EAAqBiB,EAArBjB,UAAWL,EAAUsB,EAAVtB,MACjE0D,EAAIvD,GAAkB,GACtBqN,EAAIN,GAAe,GACnBO,EAAI3N,GAAY,GAChB4N,EAAIrN,GAAa,GACjBsN,EAAI3N,GAAS,GACbuN,EAAM,GACV,GAAI7J,EAAEpH,QAAUkR,EAAElR,QAAUmR,EAAEnR,QAAUoR,EAAEpR,QAAUqR,EAAErR,OAAQ,CAC1D,IAAKoH,EAAEpH,OAAQ,MAAO,sCACtB,IAAKkR,EAAElR,OAAQ,MAAO,0BAEtB,GADAiR,EAAMxD,EAAsB5J,EAAgBD,GACnC,OAAOqN,EAEhB,GADAA,EAAME,GAAKjB,EAAcC,IAAIgB,GACpB,OAAOF,EAEhB,GADAA,EAAMI,GAAKnB,EAAcxM,MAAM2N,GACtB,OAAOJ,GAzIJK,CAAY1M,KAAKI,OACzBiM,EACA/K,MAAM+K,IAEFrM,KAAKH,MAAMkC,QACX/B,KAAKH,MAAMkC,OAAO/B,KAAKI,OAC3BJ,KAAKc,+CAKT,IAAM6L,EAAa3M,KAAKI,MAAMnB,eACxB4J,EAAsB7I,KAAKI,MAAMnB,eAAgBe,KAAKI,MAAMpB,WAC5D,GACA4N,EAAe,GACjBD,IACAC,EAAa3D,OAAQ,EACrB2D,EAAaC,WAAaF,GAE9B,IAAMG,EAAU9M,KAAKI,MAAMnB,kBAAoBe,KAAKI,MAAM4L,aAAe,IAAIP,OACvE,qCACA,GACAsB,EAAY,GACZC,EAAU1B,EAAcC,IAAIvL,KAAKI,MAAMxB,UACzCoO,IACAD,EAAU9D,OAAQ,EAClB8D,EAAUF,WAAaG,GAE3B,IAAMC,EAAc,GACdC,EAAY5B,EAAcxM,MAAMkB,KAAKI,MAAMtB,OAC7CoO,IACAD,EAAYhE,OAAQ,EACpBgE,EAAYJ,WAAaK,GAG7B,IAAMC,EAAcR,GAAcG,GAAUE,GAAWE,EAEvD,OAAQ3K,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQC,MAAM,GAClBL,EAAAC,EAAAC,cAAA,QAAM2K,SAAUpN,KAAKY,YACjB2B,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAeK,MAAOA,EAAM4I,SACxBrJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAWb,MAAO9B,KAAKI,MAAMpB,UACzBwC,KAAK,YACLsD,SAAU9E,KAAKkM,aACfxD,QAAM,EACNC,YAAa,CAAEC,QAAQ,GACvBzD,WAAS,EACTH,MAAM,YACNhC,MAAOA,EAAM2I,WAEbpJ,EAAAC,EAAAC,cAAA,UAAQX,MAAO,GAAf,OACAS,EAAAC,EAAAC,cAAA,UAAQX,MAAO,GAAf,UACAS,EAAAC,EAAAC,cAAA,UAAQX,MAAO,GAAf,cAGJS,EAAAC,EAAAC,cAACE,EAAA,EAADlG,OAAA4Q,OAAA,CAAW7L,KAAK,iBACZoD,WAAY,CAAEC,UAAW,IACzBC,SAAU9E,KAAKkM,aACflH,MAAM,sBACNlD,MAAO9B,KAAKI,MAAMnB,gBAAkB,GACpC+D,MAAOA,EAAM2I,UACbxG,WAAS,GAELyH,IAGRrK,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAWnB,KAAK,cACZoD,WAAY,CAAEC,UAAW,KACzBC,SAAU9E,KAAKkM,aACflH,MAAM,eACNlD,MAAO9B,KAAKI,MAAM4L,aAAe,GACjC/G,WAAS,EACTC,KAAM,EACNlC,MAAOA,EAAM2I,UACbxG,WAAS,IAGb5C,EAAAC,EAAAC,cAACE,EAAA,EAADlG,OAAA4Q,OAAA,CAAW7L,KAAK,WACZoD,WAAY,CAAEC,UAAW,IACzBC,SAAU9E,KAAKkM,aACflH,MAAM,WACNlD,MAAO9B,KAAKI,MAAMxB,UAAY,GAC9BoE,MAAOA,EAAM2I,UACbxG,WAAS,GACL4H,IAGRxK,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAWnB,KAAK,YACZoD,WAAY,CAAEC,UAAW,KACzBC,SAAU9E,KAAKkM,aACflH,MAAM,YACNlD,MAAO9B,KAAKI,MAAMjB,WAAa,GAC/B8F,WAAS,EACTC,KAAM,EACNlC,MAAOA,EAAM2I,UACbxG,WAAS,IAGb5C,EAAAC,EAAAC,cAACE,EAAA,EAADlG,OAAA4Q,OAAA,CAAW7L,KAAK,QACZoD,WAAY,CAAEC,UAAW,KACzBC,SAAU9E,KAAKkM,aACflH,MAAM,QACNlD,MAAO9B,KAAKI,MAAMtB,OAAS,GAC3BkE,MAAOA,EAAM2I,UACbxG,WAAS,GACL8H,KAIZ1K,EAAAC,EAAAC,cAACE,EAAA,EAAD,KACIJ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQyC,KAAK,SAAS1B,QAAS1D,KAAKc,WAAY6C,MAAM,YAAYN,QAAQ,YAA1E,SAGAd,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQgC,SAAUwI,EAAa/H,KAAK,SAASzB,MAAM,UAAUN,QAAQ,YAArE,qBAnJMgC,IAAMmC,eAgLjBjC,2BAAW,SAAAC,GAAK,MAAK,CAChC1C,MAAO,CACHW,UAAW,oBACXR,UAAW,GACXC,aAAc,MAJPqC,CAMXwG,GClME/I,EAAQ,CACV8C,KAAM,CAAEvC,QAAS,YAAae,KAAM,GACpCgJ,SAAU,CAAErK,UAAW,GAAIC,aAAc,mBAQzC,SAAAkD,EAAYvG,GAAO,IAAAC,EAAA,OAAArD,OAAAsD,EAAA,EAAAtD,CAAAuD,KAAAoG,IACftG,EAAArD,OAAAwD,EAAA,EAAAxD,CAAAuD,KAAAvD,OAAAyD,EAAA,EAAAzD,CAAA2J,GAAAjG,KAAAH,KAAMH,KALVO,MAAQ,CACJmN,eAAgB,GAChBC,YAAa,IAIT3N,EAAMwG,WAAWxG,EAAMwG,UAAUxG,EAAMyG,WAC3CxG,EAAKyG,YAAczG,EAAKyG,YAAY7F,KAAjBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAHJA,6EAMfE,KAAKH,MAAMoC,QAAQK,KAAKtC,KAAKH,MAAMkB,MAAMoB,KAAO,kDAE3C,IACGtC,EAAUG,KAAVH,MAEF0N,EAAiBjC,EAAcC,IAAI1L,EAAM3E,KAAK0D,UAChD6O,EAAiB,GACjBF,IACAE,EAAexE,OAAQ,EACvBwE,EAAeZ,WAAaU,GAEhC,IAAMC,EAAclC,EAAcxM,MAAMe,EAAM3E,KAAK4D,OAC/CmO,EAAc,GAMlB,OALIO,IACAP,EAAYhE,OAAQ,EACpBgE,EAAYJ,WAAaW,GAGrBjL,EAAAC,EAAAC,cAAA,OAAKO,MAAOA,EAAM8C,MACtBvD,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACI+K,WAAW,EACX1I,MAAM,gCACNG,WAAS,EACTP,WAAY,CAAEC,UAAW,KACzB7B,MAAOA,EAAM2I,UACbnK,KAAK,qBACLM,MAAOjC,EAAM3E,KAAK2D,OAClBiG,SAAUjF,EAAM4I,gBAEpBlG,EAAAC,EAAAC,cAACE,EAAA,EAADlG,OAAA4Q,OAAA,CACIrI,MAAM,YACNG,WAAS,EACTP,WAAY,CAAEC,UAAW,GAAIO,KAAM,SACnCpC,MAAOA,EAAM2I,UACbnK,KAAK,uBACLM,MAAOjC,EAAM3E,KAAK0D,SAClBkG,SAAUjF,EAAM4I,eACZgF,IAERlL,EAAAC,EAAAC,cAACE,EAAA,EAADlG,OAAA4Q,OAAA,CACIrI,MAAM,QACNG,WAAS,EACTP,WAAY,CAAEC,UAAW,IAAKO,KAAM,SACpCpC,MAAOA,EAAM2I,UACbnK,KAAK,oBACLM,MAAOjC,EAAM3E,KAAK4D,MAClBgG,SAAUjF,EAAM4I,eACZwE,IAGR1K,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYK,MAAO,CAAEC,UAAW,IAAMI,QAAQ,SAA9C,sBACAd,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEkB,MAAO,OAAQhB,aAAc,GAAIC,UAAW,WACtDZ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQU,QAAQ,WAAWM,MAAM,YAAYP,KAAK,QAC9CJ,MAAO,CAAEkB,MAAO,MAAOG,OAAQ,QAAUX,QAAS1D,KAAKuG,aAD3D,oCAKJhE,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,CAAOnF,KAAI,GAAAwL,OAAK9N,EAAMkB,MAAMoB,KAAjB,iBACPyL,OAAQ,SAAAC,GAAO,OAAItL,EAAAC,EAAAC,cAACqL,EAADrR,OAAA4Q,OAAA,GAAiBQ,EAAjB,CAA0B3S,KAAM2E,EAAMd,YAAagD,OAAQlC,EAAMkO,kCArEvE1I,IAAMC,+CCH7B0I,EAAO,GAEPnI,EAAS,CACXoI,OAAQ,CACJhL,UAAW,GACXC,aAAc,KAGhBgL,EAAe,CACjBC,KAAM,QAAUC,KAAM,yBAUtB,SAAAhI,EAAYvG,GAAO,IAAAC,EAAA,OAAArD,OAAAsD,EAAA,EAAAtD,CAAAuD,KAAAoG,IACftG,EAAArD,OAAAwD,EAAA,EAAAxD,CAAAuD,KAAAvD,OAAAyD,EAAA,EAAAzD,CAAA2J,GAAAjG,KAAAH,KAAMH,KARVO,MAAQ,CACJT,SAAS,EACT0O,cAAe,GACfC,OAAQ,KACRC,YAAa,GACbC,OAAQ,MAIJ3O,EAAMwG,WAAWxG,EAAMwG,UAAUxG,EAAMyG,WAC3CxG,EAAK2O,eAAiB3O,EAAK2O,eAAe/N,KAApBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KACtBA,EAAK4O,oBAAsB5O,EAAK4O,oBAAoBhO,KAAzBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAC3BA,EAAK6O,uBAAyB7O,EAAK6O,uBAAuBjO,KAA5BjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAC9BA,EAAK8O,iBAAmB9O,EAAK8O,iBAAiBlO,KAAtBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KACxBA,EAAK+O,oBAAsB/O,EAAK+O,oBAAoBnO,KAAzBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAC3BA,EAAKgP,oBAAsBhP,EAAKgP,oBAAoBpO,KAAzBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAC3BA,EAAKM,MAAM2O,mBAAqBC,EAAU,OAT3BlP,sFAWImP,GACnBjB,EAAKkB,UAAYD,2CAEJA,GACbjB,EAAK/G,IAAMgI,gDAGXjP,KAAKqB,SAAS,CAAEmN,OAAQR,EAAK/G,IAAIkI,4DAGjC,IAAMC,EAASpB,EAAKkB,UAAUG,YACxBb,EAAS,IAAI1T,OAAOwU,OAAOC,KAAKC,aAEtCJ,EAAOK,QAAQ,SAAAC,GACPA,EAAMC,SAASC,SACfpB,EAAOqB,MAAMH,EAAMC,SAASC,UAE5BpB,EAAOsB,OAAOJ,EAAMC,SAAS5U,YAGrC,IAAMgV,EAAiBX,EAAOnI,IAAI,SAAAyI,GAAK,MAAK,CACxCpQ,SAAUoQ,EAAMC,SAAS5U,SACzByG,KAAMkO,EAAMlO,QAEZwO,EAAWhQ,KAAKI,MAAMiO,cACtB0B,GAAkBA,EAAe3U,SACjC4U,EAAWD,EAAe,IAE9B/P,KAAKqB,SAAS,CACV4O,OAAQD,EAAS1Q,WAErBU,KAAKH,MAAMqQ,kBAAkB,CACzB/B,IAAK6B,EAAS1Q,SAAS6O,MACvBC,IAAK4B,EAAS1Q,SAAS8O,MACvB5M,KAAMwO,EAASxO,oDAGF,IAAAJ,EAAApB,KACTb,EAAca,KAAKH,MAAnBV,UAER,GAAIA,GAAaA,EAAUG,SACvB,OAAOU,KAAKqB,SAAS,CACjB4O,OAAOxT,OAAAC,EAAA,EAAAD,CAAA,GAAM0C,EAAUG,UACvBiP,YAAa,KAGrB4B,UAAUC,YAAYC,mBAAmB,SAAA/Q,GACrC,IAAMgP,EAAS,CACXH,IAAK7O,EAASgR,OAAOC,SACrBnC,IAAK9O,EAASgR,OAAOE,UACrBhP,KAAM,uBAEVJ,EAAKC,SAAS,CACVgN,cAAc5R,OAAAC,EAAA,EAAAD,CAAA,GAAM6R,EAAP,CAAemC,mBAAmB,IAC/ClC,YAAa,GACb5O,SAAS,IAEbyB,EAAKvB,MAAMqQ,kBAAkB5B,IAC9B,SAAAoC,GACCtP,EAAKC,SAAS,CACV1B,SAAS,EACT0O,cAAc5R,OAAAC,EAAA,EAAAD,CAAA,GAAMyR,GACpByC,WAAY,8CAITnO,GACXxC,KAAKH,MAAMqQ,kBAAkB,CAAE/B,IAAK3L,EAAE8L,OAAOH,MAAOC,IAAK5L,EAAE8L,OAAOF,MAAO5M,KAAM,mDAE7D,IAAAoP,EAAA5Q,KAClBmQ,UAAUC,YAAYC,mBAAmB,SAAA/Q,GACrC,IAAM2Q,EAAS,CACX9B,IAAK7O,EAASgR,OAAOC,SACrBnC,IAAK9O,EAASgR,OAAOE,UACrBhP,KAAM,uBAEVoP,EAAK/Q,MAAMqQ,kBAAkBD,GAC7BW,EAAKvP,SAAS,CAAE4O,YACjB,SAAAS,GACC,IAAMtQ,EAAQ,CAAE6P,OAAOxT,OAAAC,EAAA,EAAAD,CAAA,GAAMmU,EAAKxQ,MAAMiO,gBACpCjO,EAAM6P,OAAOQ,2BACNrQ,EAAM6P,OAAOQ,kBACpBG,EAAK/Q,MAAMqQ,kBAAkB9P,EAAM6P,SAEvCW,EAAKvP,SAASjB,sCAGb,IAAA4B,EACyChC,KAAKH,MAA3CV,EADH6C,EACG7C,UAAWsJ,EADdzG,EACcyG,cAAeoI,EAD7B7O,EAC6B6O,QAD7BC,EAEsE9Q,KAAKI,MAAxEiO,EAFHyC,EAEGzC,cAAeE,EAFlBuC,EAEkBvC,YAAa0B,EAF/Ba,EAE+Bb,OAAQzB,EAFvCsC,EAEuCtC,OAAQO,EAF/C+B,EAE+C/B,mBACpD,OAAQxM,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEiD,SAAU,OAAQkC,YAAa,GAAIC,aAAc,GAAI9D,KAAM,IAC7E/B,EAAAC,EAAAC,cAACsO,EAAD,CACIC,aAAY,+CAAArD,OAAiDkD,GAAW,GAA5D,8CAEZI,iBAAkB1O,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAE0C,OAAQ,WACxCwL,eAAgB3O,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAE0C,OAAM,UACpCyL,WAAY5O,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAE0C,OAAM,UAChChC,QAAS1D,KAAKyO,eACdF,YAAaA,EACb6C,gBAAiBpR,KAAK0O,oBACtB2C,mBAAoBrR,KAAK2O,uBACzB2C,aAActR,KAAK4O,iBACnB2C,OAAQpS,EAAUG,SAClB2Q,OAAQA,GAAU5B,EAClBmD,gBAAiBxR,KAAK6O,oBACtB4C,gBAAiBjD,EACjBkD,gBAAiB1R,KAAK8O,oBACtBC,mBAAoBA,IAExBxM,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACInB,KAAK,8BACLM,MAAO3C,EAAUC,kBACjB0F,SAAU2D,EACV7D,WAAY,CAAEC,UAAW,KACzBG,MAAM,SACND,YAAY,sDACZI,WAAS,EACTnC,MAAO6C,EAAOoI,SAGlB1L,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACInB,KAAK,uBACLM,MAAO3C,EAAUE,WACjByF,SAAU2D,EACV7D,WAAY,CAAEC,UAAW,KACzBG,MAAM,cACND,YAAY,mDACZI,WAAS,EACTnC,MAAO6C,EAAOoI,iBAnJD5I,IAAMmC,eA0J7BmK,EAAMC,uBAAaC,wBAAc,SAAahS,GAAO,IAK/CyP,EAAWxU,OAAXwU,OACR,OAAQ/M,EAAAC,EAAAC,cAACqP,EAAA,UAADrV,OAAA4Q,OAAA,GACAxN,EADA,CAEJoP,IAAKpP,EAAMyR,aACX7V,QAAS,CACLsW,kBAAkB,EAClBC,aAAa,EACbC,gBAAgB,KAGpB1P,EAAAC,EAAAC,cAACyP,EAAA1P,EAAD,CACIgM,OAAQ3O,EAAM4R,gBACdL,gBAAiBvR,EAAMuR,gBACvBe,gBAAiB7C,EAAOC,KAAK6C,gBAAgBC,SAC7CpD,IAAKpP,EAAMwR,oBACX9O,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEmB,QAAS,OAAQC,cAAe,MAAOF,MAAO,oBAAqBG,OAAQ,IACrF9B,EAAAC,EAAAC,cAAA,SACI2C,KAAK,OACLN,SAtBhB,SAAkBvD,GACdA,EAAM6K,iBACN7K,EAAM+Q,mBAqBMvN,YAAY,6BACZ/B,MAAO,CACHsB,KAAM,EACNiO,UAAS,aACT5M,OAAM,wBACND,OAAQ,GACRnC,QAAO,SACPiP,aAAY,MACZC,UAAS,+BACTC,SAAQ,OACRC,QAAO,OACPC,aAAY,cAGnB/S,EAAMkP,mBACAxM,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQK,MAAO,CACdS,UAAW,GACXF,QAAS,EACTsP,SAAU,GACVC,WAAY,OACZL,UAAS,gCACVpP,QAAQ,YACPd,EAAAC,EAAAC,cAACsB,EAAA,EAAD,OAEF,OAGblE,EAAM0R,OACAhP,EAAAC,EAAAC,cAACsQ,EAAA,gBAAD,CACC3W,GAAC,EAAC4W,YAAa,IAAIlY,OAAOwU,OAAOC,KAAK0D,MAAM,EAAG,GAC/C3T,SAAUO,EAAM0R,OAChB2B,WAAY,CAAEJ,WAAY,OAAQnN,OAAQ,iBAAkBpC,QAAS,QACrE4P,aAAcC,QAAQvT,EAAM0R,OAAO/P,OAEnCe,EAAAC,EAAAC,cAACE,EAAA,EAAD,KAAa9C,EAAM0R,OAAO/P,OAE5B,uBC/NV,SAAA4E,EAAYvG,GAAO,IAAAC,EAAA,OAAArD,OAAAsD,EAAA,EAAAtD,CAAAuD,KAAAoG,IACftG,EAAArD,OAAAwD,EAAA,EAAAxD,CAAAuD,KAAAvD,OAAAyD,EAAA,EAAAzD,CAAA2J,GAAAjG,KAAAH,KAAMH,KAJVO,MAAQ,CACJT,SAAS,GAKLE,EAAMwG,WAAWxG,EAAMwG,UAAUxG,EAAMyG,WAH5BxG,wEAKV,IAAAkC,EAC0BhC,KAAKH,MAA5BF,EADHqC,EACGrC,QAASsJ,EADZjH,EACYiH,MAAOoK,EADnBrR,EACmBqR,GAExB,OAAQ9Q,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEG,UAAW,SAAU8C,SAAU,OAAQ1C,QAAS,KACjE5D,EACK4C,EAAAC,EAAAC,cAAC6Q,EAAD,MACCrK,EACG1G,EAAAC,EAAAC,cAAC8Q,GAAYtK,GACb1G,EAAAC,EAAAC,cAAC+Q,GAAD,CAAaH,GAAIA,YAjBVhO,IAAMC,WAsBnC,SAASgO,EAAKzT,GACV,OAAQ0C,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACJH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAkBS,KAAM,KACxBb,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAY8Q,OAAO,MAAnB,iBAGR,SAASF,GAAQ1T,GACb,OAAQ0C,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACJH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYU,QAAQ,KAAKM,MAAM,aAAc9D,EAAMxD,SACnDkG,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYU,QAAQ,UAAUM,MAAM,aAAc9D,EAAM6T,KAAxD,MAAiE7T,EAAMvD,QACvEiG,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQU,QAAQ,WAAWM,MAAM,UAAUwB,WAAS,EAACnC,MAAO,CAAEC,UAAW,KAAzE,sBACuBV,EAAAC,EAAAC,cAACsB,EAAA,EAAD,QAI/B,SAASyP,GAAY3T,GACjB,OAAQ0C,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACJH,EAAAC,EAAAC,cAACsB,EAAA,EAAD,CAAoB2O,SAAS,QAAQ1P,MAAO,CAAEqB,OAAQ,MACtD9B,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYU,QAAQ,MAApB,+BACAd,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYU,QAAQ,SAApB,qHAIAd,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQgR,UAAU,IAAI3Y,KAAK,IAAIgI,MAAO,CAAEqB,OAAQ,IAAMhB,QAAQ,YAAYM,MAAM,WAAhF,gBACC9D,EAAMwT,GACA9Q,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQf,OAAO,SAASoB,MAAO,CAAEqB,OAAQ,IAAMhB,QAAQ,WAAWM,MAAM,YAAYgQ,UAAU,IAAI3Y,KAAM6E,EAAMwT,IAA9G,sBAEC9Q,EAAAC,EAAAC,cAAA,OAAKwB,IAAI,WAAWD,IAAI,WAAWhB,MAAO,CAAE0C,OAAQ,GAAIxB,MAAO,GAAIO,WAAY,MAEjF,MCvDC,IAAAmP,GAAA,SAAUtO,EAAWuO,GAChC,gBAAAC,GAII,SAAAC,EAAYlU,GAAO,IAAAC,EAAArD,OAAAsD,EAAA,EAAAtD,CAAAuD,KAAA+T,IACfjU,EAAArD,OAAAwD,EAAA,EAAAxD,CAAAuD,KAAAvD,OAAAyD,EAAA,EAAAzD,CAAAsX,GAAA5T,KAAAH,KAAMH,KAJVO,MAAQ,CACJwN,QAAQ,GAIR,IAAMoG,EAAanU,EAAMoU,WAAWJ,GAFrB,OAGXG,GAAc,IACdnU,EAAMoC,QAAQK,KAAK,IAAM0R,GACzBlU,EAAKM,MAAMwN,QAAS,GALT9N,EAJvB,OAAArD,OAAAyX,EAAA,EAAAzX,CAAAsX,EAAAD,GAAArX,OAAA0X,EAAA,EAAA1X,CAAAsX,EAAA,EAAArW,IAAA,SAAAoE,MAAA,WAaQ,OAAK9B,KAAKI,MAAMwN,OACTrL,EAAAC,EAAAC,cAAC6C,EAAD7I,OAAA4Q,OAAA,CAAW/G,UAAWuN,GAAU7T,KAAKH,QADb,SAbvCkU,EAAA,CAAqB1O,IAAMC,YCiBzB8O,GAAYR,GAAaS,EAAG,GAC5BC,GAAeV,GAAaW,EAAG,GAC/BC,GAAcZ,GAAaa,EAAG,GAC9BC,GAAWd,GAAae,EAAG,GAC3BC,GAAOhB,GAAaiB,EAAG,GAEvBC,GAAQ,CACZ,CAAEC,EAAG,sBAAuBC,KAAMC,IAAyBC,YAAaC,KACxE,CAAEJ,EAAG,qBAAsBC,KAAMI,IAAiBF,YAAaG,KAC/D,CAAEN,EAAG,qBAAsBC,KAAMM,IAAgBJ,YAAaK,KAC9D,CAAER,EAAG,0BAAwBC,KAAMQ,IAAeN,YAAaO,MAyRlDC,eApRb,SAAAA,EAAY7V,GAAO,IAAAC,EAAA,OAAArD,OAAAsD,EAAA,EAAAtD,CAAAuD,KAAA0V,IACjB5V,EAAArD,OAAAwD,EAAA,EAAAxD,CAAAuD,KAAAvD,OAAAyD,EAAA,EAAAzD,CAAAiZ,GAAAvV,KAAAH,KAAMH,KAFRO,MAAQ,IAAIuV,EAGV7V,EAAK8V,mBAAqB9V,EAAK8V,mBAAmBlV,KAAxBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAC1BA,EAAK+V,iBAAmB/V,EAAK+V,iBAAiBnV,KAAtBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KACxBA,EAAKgW,kBAAoBhW,EAAKgW,kBAAkBpV,KAAvBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KACzBA,EAAKiW,wBAA0BjW,EAAKiW,wBAAwBrV,KAA7BjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAC/BA,EAAKkW,sBAAwBlW,EAAKkW,sBAAsBtV,KAA3BjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAE7BA,EAAKmW,cAAgBnW,EAAKmW,cAAcvV,KAAnBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAErBA,EAAKoW,aAAepW,EAAKoW,aAAaxV,KAAlBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KACpBA,EAAKqW,mBAAqBrW,EAAKqW,mBAAmBzV,KAAxBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAC1BA,EAAKsW,gBAAkBtW,EAAKsW,gBAAgB1V,KAArBjE,OAAAkE,EAAA,EAAAlE,QAAAkE,EAAA,EAAAlE,CAAAqD,KAEvBA,EAAKM,MAAMzB,YAAcqQ,EAAU,gBAAkBlP,EAAKM,MAAMzB,YAChEmB,EAAKM,MAAMrB,YAAciQ,EAAU,gBAAkBlP,EAAKM,MAAMrB,YAChEe,EAAKM,MAAMjB,UAAY6P,EAAU,cAAgBlP,EAAKM,MAAMjB,UAhB3CW,kFAkBA+T,GAEjB,GAAI7T,KAAKI,MAAMV,YAAa,CAC1B,IAAMU,EAAK3D,OAAAC,EAAA,EAAAD,CAAA,GAAQ,IAAIkZ,EAAZ,CAAqBhW,SAAS,EAAOnB,YAAY/B,OAAA4Z,EAAA,EAAA5Z,CAAKuD,KAAKI,MAAM5B,eAK5E,OAJA4B,EAAMzB,YAAcqQ,EAAU,gBAAkB5O,EAAMzB,YACtDyB,EAAMrB,YAAciQ,EAAU,gBAAkB5O,EAAMrB,YACtDqB,EAAMjB,UAAY6P,EAAU,cAAgB5O,EAAMjB,UAClDa,KAAKqB,SAASjB,GACP,EAET,IAAIkW,EAAWzC,EAAO,EAClB0C,OAAWlY,EACf,GAAIwV,GAAQ,EACV,KAAOyC,GAAY,GAAG,CACVtW,KAAKkW,aAAaI,KACnBC,EAAWD,GACpBA,IAGJ,OAAOC,uCAEI1C,GACX,IAAa,IAATA,GAAuB,IAATA,KACX7T,KAAKI,MAAM7B,MAAMnD,OACpB,MAAO,iDAEX,GAAa,IAATyY,IACG7T,KAAKI,MAAM3B,WAAY,MAAO,kCAErC,GAAa,IAAToV,GAAc7T,KAAKI,MAAMzB,YAAa,CACxC,IAAMvC,EAAI4D,KAAKI,MAAMzB,YACrB,IAAKvC,EAAEyC,OAAQ,MAAO,gCACtB,IAAKzC,EAAEwC,SAAU,MAAO,kCACxB,IAAIyN,EAAMf,EAAcC,IAAInP,EAAEwC,UAC9B,GAAIyN,EAAK,OAAOA,EAEhB,GADAA,EAAMf,EAAcxM,MAAM1C,EAAE0C,OACnB,OAAOuN,EAElB,GAAa,IAATwH,GAAc7T,KAAKI,MAAMjB,UAAW,CACtC,IAAM/C,EAAI4D,KAAKI,MAAMjB,UACrB,IAAK/C,EAAEkD,SAAU,MAAO,uCACxB,IAAKlD,EAAEiD,WAAY,MAAO,iGAIV,IAAA+B,EAAApB,KAClBpD,EAAIY,eAAe1B,KAAK,SAAAM,GAAC,OACvBgF,EAAKC,SAAL5E,OAAAC,EAAA,EAAAD,CAAA,GAAmBL,MACnBN,KAAK,SAAA0a,GAAC,OACN5Z,EAAIC,cAAcf,KAAK,SAAA0C,GAAW,OAChC4C,EAAKC,SAAS,CACZ7C,cACAmB,SAAS,GACR,kBAAM7B,QAAQ2Y,KAAK,gDAExBva,MAAM,SAAAS,GAEN,GADAmB,QAAQ4Y,IAAI/Z,GACM,MAAdA,EAAGL,OAAgB,OAAO8E,EAAKC,SAAS,CAAE1B,SAAS,EAAO8G,SAAU,KACxErF,EAAKC,SAAS,CAAE1B,SAAS,EAAOsJ,MAAMxM,OAAAC,EAAA,EAAAD,CAAA,GAAME,kDAG7BwK,GACjBnH,KAAKqB,SAAS,CAAE/C,WAAY6I,8CAEZ5F,GAAO,IAAAoV,EACCpV,EAAME,cAAtBD,EADemV,EACfnV,KAAMM,EADS6U,EACT7U,MACd9B,KAAKqB,SAAS,SAAAK,GACZ,IAAMtB,EAAK3D,OAAAC,EAAA,EAAAD,CAAA,GAAQiF,GACnB,GAAIF,EAAKa,QAAQ,MAAQ,EAAG,CAI1B,IAHA,IAAMuU,EAASpV,EAAKnG,MAAM,KACpBqC,EAAMkZ,EAAOC,MACfC,EAAY1W,EACPoL,EAAI,EAAGA,EAAIoL,EAAOxb,OAAQoQ,IACjCsL,EAAYA,EAAUF,EAAOpL,IAE/BsL,EAAUpZ,GAAOoE,OAEjB1B,EAAMoB,GAAQM,EAEhB,OAAO1B,0CAGG,IAAA0Q,EAC2C9Q,KAAKI,MAApD2W,EADIjG,EACJiG,SAAUC,EADNlG,EACMkG,OAAQrY,EADdmS,EACcnS,YAAae,EAD3BoR,EAC2BpR,YACvC,IAAKqX,IAAaC,EAAQ,MAAO,GACjC,IAAMC,EAAYD,EACf1b,QAAQ,YAAaqD,EAAYE,QAClCvD,QAAQ,mBAAoBoE,GAC9B,MAAO,0CAAAiO,OACKoJ,EADL,aAAApJ,OAEGuJ,mBAAmBD,6CAEdtZ,GACf,IAAIwZ,EAAWnX,KAAKI,MAAM7B,MAAM4C,KAAK,SAAA/E,GAAC,OAAIA,EAAE6E,KAAOtD,EAAKsD,KACxD,IAAKkW,GAAYxZ,EAAK4C,SAAU,CAC9B,IAAMhC,EAAK9B,OAAA4Z,EAAA,EAAA5Z,CAAOuD,KAAKI,MAAM7B,OAE7B,OADAA,EAAM+D,KAAK3E,GACJqC,KAAKqB,SAAS,CAAE9C,UAEzB,GAAI4Y,EAAU,CACZ,IAAM5Y,EAAK9B,OAAA4Z,EAAA,EAAA5Z,CAAOuD,KAAKI,MAAM7B,OACzB6Y,EAAY7Y,EAAM8D,QAAQ8U,GAC1BxZ,EAAK4C,SACPhC,EAAM6Y,GAAazZ,EAEnBY,EAAM8Y,OAAOD,EAAW,GAE1BpX,KAAKqB,SAAS,CAAE9C,2DAGIQ,GACtBiB,KAAKqB,SAAS,CAAEtC,gBACZA,EACFiQ,EAAU,cAAe7R,KAAKC,UAAU2B,IAExCiQ,EAAU,6DAGQsI,GACpBtX,KAAKqB,SAAS,SAAAK,GACZ,IAAMtB,EAAK3D,OAAAC,EAAA,EAAAD,CAAA,GAAQiF,GAGnB,OAFAtB,EAAMjB,UAAN1C,OAAAC,EAAA,EAAAD,CAAA,GAAuB2D,EAAMjB,WAC7BiB,EAAMjB,UAAUG,SAAWgY,EACpBlX,8CAGO,IAAAmX,EAC+BvX,KAAKI,MAA5CzB,EADQ4Y,EACR5Y,YAAaQ,EADLoY,EACKpY,UAAWb,EADhBiZ,EACgBjZ,WACb,IAAfA,GAAoBK,GACtBqQ,EAAU,cAAe7R,KAAKC,UAAUuB,IAEvB,IAAfL,GAAoBa,GACtB6P,EAAU,YAAa7R,KAAKC,UAAU+B,0CAE5BgI,GAAO,IAAAyJ,EAAA5Q,KACnBA,KAAK4V,mBAAmBzO,GACxBnH,KAAKqB,SAAS,CAAE1B,QAAS,UAAW6X,WAAY,OAChD,IAAMva,EAAKR,OAAAC,EAAA,EAAAD,CAAA,GAAQuD,KAAKI,OAOxB,cANOnD,EAAMwJ,gBACNxJ,EAAM0C,eACN1C,EAAMgM,aACNhM,EAAMua,WACbva,EAAMwa,eAAgB,IAAIjY,MAAOC,UAE1B7C,EAAII,UAAUC,GAAOnB,KAAK,SAAA4b,GAC/B9G,EAAKvP,SAAS,CAAE1B,SAAS,EAAOD,YAAagY,EAAM5O,OAAQ0O,WAAY,SACtEtb,MAAM,SAAAS,GACPiU,EAAKvP,SAAS,CAAE1B,SAAS,EAAO6X,WAAY7a,uCAGvC,IAAAgb,EAAA3X,KAAA4X,EAMH5X,KAAKI,MALD9B,EADDsZ,EACCtZ,WAAYE,EADboZ,EACapZ,YAAamB,EAD1BiY,EAC0BjY,QAASsJ,EADnC2O,EACmC3O,MACxC1K,EAFKqZ,EAELrZ,MAAOE,EAFFmZ,EAEEnZ,WAAYC,EAFdkZ,EAEclZ,KACnBK,EAHK6Y,EAGL7Y,YAAaJ,EAHRiZ,EAGQjZ,YACbQ,EAJKyY,EAILzY,UACAqY,EALKI,EAKLJ,WAAY9X,EALPkY,EAKOlY,YAEd,OACE6C,EAAAC,EAAAC,cAACoV,EAAA,EAAD,KACEtV,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAOK,MAAO,CACZS,UAAW,OACXqU,UAAW,OACXzT,OAAQ,OACRb,SAAU,IACVW,QAAS,OACTC,cAAe,WAEf7B,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAASoV,kBAAgB,EAACzZ,WAAYA,GACnCwW,GAAM7N,IAAI,SAAC7K,EAAGoP,GAAJ,OA6HvB,SAAsB7N,EAAMwJ,EAAOR,GACjC,IAAIzL,EAAO,GACPyL,IAAYQ,IAAOjM,EAAO,CAAE8Z,KAAMzS,EAAAC,EAAAC,cAAC9E,EAAKuX,YAAN,QAClC/N,EAAQR,IAASzL,EAAO,CAAE8Z,KAAMzS,EAAAC,EAAAC,cAAC9E,EAAKqX,KAAN,QACpC,OAAQzS,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMjF,IAAKyJ,GACjB5E,EAAAC,EAAAC,cAACE,EAAA,EAAczH,EAAQyC,EAAKoX,IAlICiD,CAAa5b,EAAGoP,EAAGlN,MAE1CiE,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEsB,KAAM,EAAG2B,SAAU,SAAU9B,QAAS,OAAQC,cAAe,WACxE6E,EACI1G,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEsB,KAAM,EAAGnB,UAAW,SAAUI,QAAS,KACtDhB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYU,QAAQ,KAAKM,MAAM,aAAasF,EAAM5M,SAClDkG,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQwC,WAAS,EAACnC,MAAO,CAAEC,UAAW,GAAIC,aAAc,IAAMQ,QAAS,SAAAtH,GAAC,OAAItB,OAAOC,SAASkd,UAAU5U,QAAQ,WAAWM,MAAM,WAA/H,eAIa,SAAZhE,EACE4C,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEsB,KAAM,EAAGnB,UAAW,SAAUI,QAAS,KACtDhB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAkBS,KAAM,KACxBb,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYgB,MAAM,UAAUN,QAAQ,MAApC,8CAECd,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACA/C,EACG4C,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,CAAQjL,QAAQ,iGAChB,KAAKkG,EAAAC,EAAAC,cAAE6E,EAAA,EAAF,KACP/E,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,CAAOnF,KAAK,KACVyL,OAAQ,SAAA/N,GAAK,OAAI0C,EAAAC,EAAAC,cAAC2R,GAAD3X,OAAA4Q,OAAA,GACXxN,EADW,CAEfoU,WAAY0D,EAAKxB,mBACjB9P,UAAWsR,EAAK/B,mBAChBpP,aAAcmR,EAAK9B,iBACnB3U,aAAc3C,EACdC,YAAaA,QAGjB+D,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,CAAOnF,KAAK,KACVyL,OAAQ,SAAA/N,GAAK,OAAI0C,EAAAC,EAAAC,cAAC6R,GAAD7X,OAAA4Q,OAAA,GACXxN,EADW,CAEfrB,YAAaA,EACbyV,WAAY0D,EAAKxB,mBACjB9P,UAAWsR,EAAK/B,mBAChBpP,aAAcmR,EAAK9B,iBACnBpN,cAAekP,EAAK7B,kBACpBvX,MAAOA,EACPG,KAAMA,EACND,WAAYA,QAGhB8D,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,CAAOnF,KAAK,KACVyL,OAAQ,SAAA/N,GAAK,OACX0C,EAAAC,EAAAC,cAAC+R,GAAD/X,OAAA4Q,OAAA,GACMxN,EADN,CAEEoU,WAAY0D,EAAKxB,mBACjBpX,YAAaA,EACb7D,KAAMyD,EACN8J,cAAekP,EAAK7B,kBACpB/H,oBAAqB4J,EAAK5B,wBAC1B1P,UAAWsR,EAAK/B,yBAGtBrT,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,CAAOnF,KAAK,KAAKyL,OAAQ,SAAA/N,GAAK,OAC3B0C,EAAAC,EAAAC,cAACiS,GAADjY,OAAA4Q,OAAA,GACKxN,EADL,CAECoU,WAAY0D,EAAKxB,mBACjBtF,QAAS8G,EAAKvX,MAAM8X,MACpB7R,UAAWsR,EAAK/B,mBAChB1F,kBAAmByH,EAAK3B,sBACxB7W,UAAWA,EAAWsJ,cAAekP,EAAK7B,wBAC9CvT,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,CAAOnF,KAAK,KACVyL,OAAQ,SAAA/N,GAAK,OAAK0C,EAAAC,EAAAC,cAACmS,GAADnY,OAAA4Q,OAAA,GACZxN,EADY,CAEhBwT,GAAIsE,EAAKQ,cACTlE,WAAY0D,EAAKxB,mBACjB9P,UAAWsR,EAAK1B,cAChBtW,QAASA,EACTsJ,MAAOuO,EACPY,MAAOhF,QAAQ1T,SAEnB6C,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,CAAU+Q,OAAK,EAACC,KAAK,IAAIC,GAAG,OAC5BhW,EAAAC,EAAAC,cAAC6E,EAAA,EAAD,CAAU+Q,OAAK,EAACC,KAAK,GAAGC,GAAG,QAE5BzD,GAAM1Z,SAAW4E,KAAKI,MAAM9B,WACzB,KACAiE,EAAAC,EAAAC,cAAC+V,GAAD,CACA9U,QAAS1D,KAAKoW,gBACdzR,SAAUyO,QAAQpT,KAAKkW,aAAalW,KAAKI,MAAM9B,aAC/CA,WAAY0B,KAAKI,MAAM9B,WACvBma,OAAQzY,KAAKkW,aAAalW,KAAKI,MAAM9B,yBA7QzC+G,IAAMC,WAwRlBkT,GAAe/S,YAErB,SAAoB5F,GAYlB,OAAQ0C,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEkB,MAAO,qBAAsBC,QAAS,OAAQC,cAAe,MAAOjB,UAAW,SAAUkB,OAAQ,GAAIyT,UAAW,KAC9G,IAArBjY,EAAMvB,WACH,KACAiE,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQe,QANd,WACE7D,EAAMoC,QAAQK,KAAK,KAAOzC,EAAMvB,WAAa,KAKlB+I,MAAM,WAAW1D,MAAM,YAAYN,QAAQ,YAClEd,EAAAC,EAAAC,cAACsB,EAAA,EAAD,OAEJxB,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACEe,QAlBJ,WACM7D,EAAM4Y,OACRnX,MAAMzB,EAAM4Y,QAEZ5Y,EAAMoC,QAAQK,KAAK,KAAOzC,EAAMvB,WAAa,IAE/CuB,EAAM6D,WAaJiB,SAAU9E,EAAM8E,SAChBhB,MAAM,UACNyB,KAAK,SACL/B,QAAQ,WACRL,MAAO,CAAEsB,KAAM,GACflB,KAAK,SAPP,mCCrUA,SAAAgD,EAAYvG,GAAO,IAAAC,EAAA,OAAArD,OAAAsD,EAAA,EAAAtD,CAAAuD,KAAAoG,IACftG,EAAArD,OAAAwD,EAAA,EAAAxD,CAAAuD,KAAAvD,OAAAyD,EAAA,EAAAzD,CAAA2J,GAAAjG,KAAAH,KAAMH,KAEVO,MAAQ,CAAEsY,OAAO,GAHE5Y,EAcnB4Y,MAAQ,WAEJ,OADA5Y,EAAKuB,SAAS,CAAEqX,OAAO,IACE,OAArB1J,EAAU,OACHlP,EAAKD,MAAM8Y,SAEjBxI,UAAUC,iBAGfD,UAAUC,YAAYC,mBAAmB,SAAA/Q,GACrCxE,OAAM,IAAUwE,EAASgR,OAAOC,SAChCzV,OAAM,IAAUwE,EAASgR,OAAOE,UAChC1Q,EAAKD,MAAM8Y,SACX3J,EAAU,OAAO,IAClB,SAAA/F,GACKA,EAAMyK,OAASzK,EAAM2P,kBACrB9Y,EAAKuB,SAAS,CACV4H,MAAO,8CACP4P,OAAQ5P,EAAM5M,QAASqX,KAAMzK,EAAMyK,OAEhCzK,EAAMyK,OAASzK,EAAM6P,qBAC5BhZ,EAAKuB,SAAS,CACV4H,MAAO,yDACP4P,OAAQ5P,EAAM5M,QAASqX,KAAMzK,EAAMyK,OAGvC5T,EAAKuB,SAAS,CAAE4H,MAAOA,EAAM5M,QAASqX,KAAMzK,EAAMyK,OAEtD1E,EAAU,OAAO,KAtBclP,EAAKuB,SAAS,CAC7C4H,MAAO,4DApBInJ,mFAIC,IAAAsB,EAAApB,KAChBpD,EAAIY,eAAe1B,KAAK,SAAAM,GACpBgF,EAAKC,SAAL5E,OAAAC,EAAA,EAAAD,CAAA,GAAmBL,MACpBF,MAAM,SAAA+M,GACL7H,EAAKC,SAAS,CACV4H,MAAOA,EAAM5M,QACbqX,KAAMzK,EAAMyK,0CAkCf,IAAA9C,EAAA5Q,KAAA8Q,EACqD9Q,KAAKI,MAAvD2Y,EADHjI,EACGiI,QAASC,EADZlI,EACYkI,OAAQC,EADpBnI,EACoBmI,OAAQhQ,EAD5B6H,EAC4B7H,MAAO4P,EADnC/H,EACmC+H,OAAQH,EAD3C5H,EAC2C4H,MAChD,OAAQnW,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEkB,MAAO,oBAAqBV,SAAU,IAAKL,UAAW,SAAU0I,WAAY,GAAIxH,OAAQ,SAEtGqU,EAASnW,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACJqW,EAAUxW,EAAAC,EAAAC,cAAA,OAAKuB,IAAK+U,EAAS/V,MAAO,CAAEQ,SAAU,OAAQC,UAAW,IAAKR,UAAW,GAAIC,aAAc,MAAW,KACjHX,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYU,QAAQ,MAAM4V,GAAU,eACnCD,EAASzW,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYU,QAAQ,aAAa2V,GAAuB,KAElEzW,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQgB,MAAM,UAAUD,QAAS1D,KAAK0Y,MAAOvT,WAAS,EAAC9B,QAAQ,WAAWL,MAAO,CAAEC,UAAW,KAA9F,eAEGgG,EACI1G,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEkB,MAAO,SACpB3B,EAAAC,EAAAC,cAACsB,EAAA,EAAD,CAAkB2O,SAAS,UAC3BnQ,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYU,QAAQ,SAAS4F,GAC7B1G,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYU,QAAQ,SAASwV,GAC7BtW,EAAAC,EAAAC,cAACE,EAAA,EAAD,CACIK,MAAO,CAAEC,UAAW,GAAIiW,SAAU,cAClCxV,QAAS,kBAAMkN,EAAK/Q,MAAM8Y,UAC1BtV,QAAQ,WACRM,MAAM,WAJV,2BAMOpB,EAAAC,EAAAC,cAAA,OAAKO,MAAO,CAAEkB,MAAO,SAC5B3B,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAYU,QAAQ,MAApB,kEAGAd,EAAAC,EAAAC,cAACsB,EAAA,EAAD,CAAY2O,SAAS,mBAvEpBrN,IAAMC,WCDnC6T,IAASvL,OAAOrL,EAAAC,EAAAC,cAAC2W,GAAD,CAAcT,OADf,kBAAMQ,IAASvL,OAAOrL,EAAAC,EAAAC,cAAC4W,GAAD,MAASC,SAASC,eAAe,WACpBD,SAASC,eAAe","file":"static/js/main.5da9aa88.chunk.js","sourcesContent":["const URL = \"http://runfoodapp.ddns.net:10000/data/\";\r\nfunction store() {\r\n    const { href, origin } = window.location;\r\n    const data = href.substring(origin.length, href.length).split(\"/\");\r\n    return ((data && data[1]) || \"\").replace(/#/g, \"\");\r\n}\r\nconst API = {\r\n    GetProducts() {\r\n        return Fetch(URL + store() + \"/product\");\r\n    },\r\n    GetProduct(ID) {\r\n        return Fetch(URL + store() + \"/product/\" + ID);\r\n    },\r\n    SaveOrder(ORDER) {\r\n        return Fetch(URL + store() + \"/order\", {\r\n            body: JSON.stringify(ORDER),\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Access-Control-Allow-Origin': '*'\r\n            }\r\n        });\r\n    },\r\n    GetStoreData() {\r\n        return Fetch(URL + store() + \"?withgooglemapskey=1\");\r\n    }\r\n}\r\n\r\nfunction Fetch(URI, options) {\r\n    const DEFAULTS = {\r\n        method: \"GET\",\r\n        cache: \"reload\",\r\n        mode: \"cors\"\r\n    };\r\n    return fetch(URI, options || DEFAULTS).then(response => {\r\n        if (response.ok) {\r\n            return response.json();\r\n        } else {\r\n            return response.json()\r\n                .catch(() => {\r\n                    return response.text().then(x => {\r\n                        throw {\r\n                            message: x,\r\n                            status: response.status,\r\n                            statusText: response.statusText\r\n                        }\r\n                    })\r\n                }).then(obj => {\r\n                    throw {\r\n                        ...obj,\r\n                        status: response.status,\r\n                        statusText: response.statusText\r\n                    }\r\n                })\r\n        }\r\n    }).catch(ex => {\r\n        if (ex.message === \"Failed to fetch\") {\r\n            throw {\r\n                message: \"Este servicio no se encuentra disponible por el momento. Intentelo más tarde.\",\r\n                status: 0\r\n            }\r\n        }\r\n        if (!ex.message) ex.message = ex.statusText;\r\n        throw ex;\r\n    });\r\n}\r\nexport default API;","export function Set(key, item) {\r\n    window.localStorage.setItem(key, item);\r\n    console.log(\"Preferences.\" + key + \" stored\");\r\n}\r\nexport function Get(item) {\r\n    let result = window.localStorage.getItem(item);\r\n    try {\r\n        result = JSON.parse(result);\r\n    } catch (ex) {\r\n        console.warn(\"Preferences.\" + item, ex);\r\n    }\r\n    if (result === \"true\" || result === \"false\") return result === \"true\";\r\n    console.log(\"Preferences.\" + item + \" sent\", result);\r\n    if (result === null || result === undefined) return null;\r\n    return result;\r\n}","export default class {\r\n    activeStep = 0;\r\n    items = [];\r\n    productList = [];\r\n    forma_pago = 1;\r\n    nota = \"\";\r\n    contactData = {\r\n        telefono: \"\",\r\n        nombre: \"\",\r\n        email: \"\"\r\n    };\r\n    invoiceData = {\r\n        documento: 1,\r\n        identificacion: \"\",\r\n        razonsocial: \"\",\r\n        telefono: \"\",\r\n        direccion: \"\",\r\n        email: \"\"\r\n    };\r\n    direccion = {\r\n        numero_secundario: \"\",\r\n        referencia: \"\",\r\n        position: null\r\n    };\r\n    start_timestamp = new Date().valueOf();\r\n    orderNumber = null;\r\n    loading = \"data\";\r\n}","import React from \"react\";\r\nimport { Dialog, DialogContent, Typography, IconButton, TextField, Button, DialogActions, Fab, CircularProgress, withStyles } from \"@material-ui/core\";\r\nimport { Add, Remove, Close } from \"@material-ui/icons\";\r\nimport { withRouter } from \"react-router-dom\";\r\nconst styles = theme => ({\r\n    dialogPaper: {\r\n        maxWidth: 450,\r\n        maxHeight: \"calc(100% - 20px)\",\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    },\r\n    loadingPaper: {\r\n        marginLeft: 10,\r\n        marginRight: 10,\r\n        width: \"calc(100% - 20px)\",\r\n        maxWidth: 450\r\n    }\r\n});\r\n\r\nclass ProductDetails extends React.Component {\r\n    state = {\r\n        nombre: \"\",\r\n        descripcion: \"\",\r\n        pvpWithTaxes: 0,\r\n        cantidad: 1,\r\n        imgSrc: \"\",\r\n        nota: \"\",\r\n        loading: true\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleInput = this.handleInput.bind(this);\r\n        this.handleDone = this.handleDone.bind(this);\r\n        this.handleCantidad = this.handleCantidad.bind(this);\r\n        this.handleExit = this.handleExit.bind(this);\r\n        this.ID = props.match.params.id;\r\n        if (props.choosenItems && props.choosenItems.length) {\r\n            let item = props.choosenItems.find(x => x.id === (+this.ID));\r\n            if (item) this.state = { ...item, loading: false };\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (!this.state.loading) return;\r\n        const { productList } = this.props;\r\n        if (productList && productList.length) {\r\n            const data = productList.find(x => x.id === (+this.ID));\r\n            if (data)\r\n                return this.setState({ loading: false, ...data });\r\n        }\r\n        alert(\"No se encontró el producto en la lista. Recargue la pantalla.\");\r\n    }\r\n    handleCantidad(event) {\r\n        const name = event.currentTarget.name;\r\n        this.setState(prev => {\r\n            const newState = { ...prev };\r\n            let cantidad = newState.cantidad;\r\n            if (name === \"add\") cantidad = (cantidad || 0) + 1;\r\n            if (name === \"remove\") cantidad = cantidad <= 0 ? 0 : (cantidad - 1);\r\n            newState.cantidad = cantidad;\r\n            console.log(\"Product Details new cantidad \", cantidad);\r\n            return newState;\r\n        });\r\n    }\r\n    handleInput(event) {\r\n        const { target } = event;\r\n        this.setState({ [target.name]: target.value });\r\n    }\r\n    handleDone() {\r\n        this.props.onDone({ ...this.state });\r\n        this.handleExit();\r\n    }\r\n    handleExit() {\r\n        const { match, history } = this.props;\r\n        const new_path = match.path.substr(0, match.path.indexOf(\"/view-product/:id\"))\r\n        history.push(new_path);\r\n    }\r\n    render() {\r\n        console.log(\"Product Details rendered\");\r\n        const { state } = this;\r\n        return (<React.Fragment>\r\n            {state.loading && <Dialog open={true} classes={{ paper: this.props.classes.loadingPaper }}>\r\n                <div style={{ marginTop: 100, marginBottom: 100, textAlign: \"center\" }}>\r\n                    <CircularProgress size={30} />\r\n                    <Typography variant=\"h5\">Cargando...</Typography>\r\n                </div>\r\n            </Dialog>}\r\n            <Dialog open={!state.loading} classes={{ paper: this.props.classes.dialogPaper }} >\r\n                <DialogContent style={{ padding: 0, maxWidth: 350, maxHeight: \"100%\" }}  >\r\n                    <Fab onClick={this.handleExit} color=\"secondary\" style={{ float: \"right\", right: 10, top: 10, position: \"absolute\" }}>\r\n                        <Close />\r\n                    </Fab>\r\n                    <img style={{ maxWidth: \"100%\", maxHeight: \"40%\" }} src={state.imgSrc || \"\"} alt={state.nombre}></img>\r\n                    <div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\" }}>\r\n                        <Typography style={{ margin: 10, flex: 1 }} variant=\"title\">\r\n                            {state.nombre}\r\n                        </Typography>\r\n                        <Typography style={{ margin: 10 }} variant=\"title\">\r\n                            $ {state.pvpWithTaxes.toFixed(2)}\r\n                        </Typography>\r\n                    </div>\r\n                    <Typography style={{ margin: 10 }} variant=\"body2\">\r\n                        {state.descripcion}\r\n                    </Typography>\r\n                    <div style={{ width: \"100%\", textAlign: \"center\", marginTop: 20, marginBottom: 20 }}>\r\n                        <QuantityButton onClick={this.handleCantidad} name=\"add\">\r\n                            <Add />\r\n                        </QuantityButton>\r\n                        <Typography style={{ display: \"inline-block\", marginLeft: 20, marginRight: 20 }} variant=\"h6\">\r\n                            {state.cantidad || 0}\r\n                        </Typography>\r\n                        <QuantityButton disabled={state.cantidad <= 0} onClick={this.handleCantidad} name=\"remove\">\r\n                            <Remove />\r\n                        </QuantityButton>\r\n                    </div>\r\n                    <div style={{ width: \"95%\", margin: \"auto\" }}>\r\n                        <TextField value={state.nota}\r\n                            inputProps={{ maxLength: 200 }}\r\n                            onChange={this.handleInput}\r\n                            name=\"nota\"\r\n                            color=\"default\"\r\n                            placeholder=\"Ej. Sin Salsa, verduras aparte, etc.\"\r\n                            label=\"Agrega una nota:\"\r\n                            variant=\"outlined\"\r\n                            multiline rows=\"3\" fullWidth />\r\n                    </div>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button type=\"button\" onClick={this.handleDone} color=\"primary\" variant=\"outlined\">AGREGAR</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </React.Fragment>);\r\n    }\r\n}\r\nexport default withStyles(styles)(withRouter(ProductDetails));\r\n\r\nfunction QuantityButton(props) {\r\n    const style = { height: 50, width: 50, border: \"1px solid gray\" };\r\n    if (props.disabled) delete style.border;\r\n    return (<IconButton\r\n        disabled={props.disabled}\r\n        onClick={props.onClick}\r\n        name={props.name} style={style}\r\n    >\r\n        {props.children}\r\n    </IconButton>)\r\n}","import React from \"react\";\r\nimport { Typography, GridList, GridListTile, GridListTileBar } from \"@material-ui/core\";\r\nimport ProductDetails from \"./ProductDetails\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nconst styles = {\r\n    root: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        overflow: 'hidden'\r\n    },\r\n    gridList: {\r\n        flexWrap: 'nowrap',\r\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n        transform: 'translateZ(0)',\r\n    }\r\n};\r\n\r\nexport default class extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleClick(event) {\r\n        this.props.history.push(this.props.match.path + \"/view-product/\" + event.currentTarget.id);\r\n    }\r\n    render() {\r\n        console.log(\"TakeOrder rendered\");\r\n        const { productList, style, choosenItems, match, onItemChange } = this.props;\r\n        const products = productList.reduce((prev, current) => {\r\n            let exists = prev.find(x => x.group === current.grupo);\r\n            if (!exists) {\r\n                exists = {\r\n                    group: current.grupo,\r\n                    items: []\r\n                }\r\n                prev.push(exists);\r\n            }\r\n            exists.items.push(current);\r\n            return prev;\r\n        }, []);\r\n\r\n        if (!(products && products.length)) {\r\n            return (<div style={{ ...style, textAlign: \"center\" }}>\r\n                <Typography variant=\"h6\">Esta tienda no tiene productos disponibles. Intenta nuevamente después.</Typography>\r\n            </div>)\r\n        }\r\n        return (<div style={{ ...style, textAlign: \"left\", overflowX: \"hidden\", overflowY: \"auto\" }}>\r\n            {products.map((p, index) =>\r\n                (<Carousel key={index}\r\n                    onClick={this.handleClick}\r\n                    style={{ marginTop: 10, marginBottom: 10 }}\r\n                    title={p.group}\r\n                    items={p.items}\r\n                    choosenItems={choosenItems}\r\n                />))}\r\n            <Route path={match.path + \"/view-product/:id\"} >\r\n                <ProductDetails\r\n                    choosenItems={choosenItems || []}\r\n                    onDone={onItemChange}\r\n                    productList={productList}\r\n                />\r\n            </Route>\r\n        </div>);\r\n    }\r\n}\r\nfunction Carousel(props) {\r\n    return (<div style={{ ...props.style }}>\r\n        <Typography variant=\"h6\" style={{ marginLeft: 10 }}>{props.title}</Typography>\r\n        <GridList cols={2.5} style={styles.gridList}>\r\n            {props.items.map((item) => {\r\n                const found = (props.choosenItems || []).find(x => x.id === item.id);\r\n                return generateCarouselItem(item, found && found.cantidad, props.onClick);\r\n            })}\r\n        </GridList>\r\n    </div>)\r\n}\r\nfunction generateCarouselItem(item, cantidad, onClick) {\r\n    const TileBar = {\r\n        title: item.nombre,\r\n        actionPosition: \"right\",\r\n        subtitle: item.pvpWithTaxes.toFixed(2)\r\n    }\r\n    if (cantidad) {\r\n        TileBar.actionIcon = <Typography variant=\"body2\" style={{ color: \"#fff\", marginRight: 5 }} >x{cantidad}</Typography>;\r\n    }\r\n    const Tile = {\r\n        cursor: \"pointer\"\r\n    };\r\n    if (cantidad) {\r\n        Tile.border = \"3px dashed #f50057\";\r\n    }\r\n    return (<GridListTile style={Tile} key={item.id} onClick={onClick} id={item.id} color=\"inherit\">\r\n        <img src={item.imgSrc} alt={item.nombre} />\r\n        <GridListTileBar {...TileBar} />\r\n    </GridListTile>);\r\n}","import React from \"react\";\r\nimport { Typography, TextField, List, ListItem, ListItemText, ListItemSecondaryAction } from \"@material-ui/core\";\r\nimport { Route } from \"react-router-dom\";\r\nimport ProductDetails from \"./ProductDetails\";\r\n\r\nexport default class extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleClick(event) {\r\n        const id = event.currentTarget.id;\r\n        this.props.history.push(this.props.match.url + \"/view-product/\" + id);\r\n    }\r\n    render() {\r\n        console.log(\"ConfirmOrder rendered\");\r\n        const { props } = this;\r\n        return (<div style={{ paddingLeft: 10, paddingRight: 10, overflow: \"auto\", flex: 1 }}>\r\n            <List style={{ marginBottom: 10 }} dense={true}>\r\n                {(props.items || []).map(x => generateRowItem(x, this.handleClick))}\r\n            </List>\r\n            <div style={{ width: \"100%\", textAlign: \"center\" }}>\r\n                <TextField\r\n                    label=\"Agrega una nota a tu pedido\"\r\n                    placeholder=\"Ej. Sin cubiertos, sin salas extra, etc.\"\r\n                    multiline\r\n                    name=\"nota\"\r\n                    inputProps={{ maxLength: 200 }}\r\n                    value={props.nota}\r\n                    onChange={props.onInputChange}\r\n                    rows={2}\r\n                    style={{ width: \"95%\", margin: \"auto\", marginBottom: 10, marginTop: 10 }}\r\n                />\r\n\r\n                <TextField\r\n                    label=\"Selecciona tu método de pago\"\r\n                    select\r\n                    value={props.forma_pago}\r\n                    name=\"forma_pago\"\r\n                    onChange={props.onInputChange}\r\n                    variant=\"outlined\"\r\n                    style={{ width: \"95%\", margin: \"auto\", marginBottom: 10, marginTop: 10 }}\r\n                    SelectProps={{ native: true }}\r\n                >\r\n                    <option value={1}>Efectivo</option>\r\n                    <option value={2}>Tarjeta de Crédito/Debito</option>\r\n                </TextField>\r\n            </div>\r\n            <Route path={props.match.path + \"/view-product/:id\"} >\r\n                <ProductDetails productList={props.productList} choosenItems={props.items || []} onDone={props.onItemChange} />\r\n            </Route>\r\n        </div>)\r\n    }\r\n}\r\n\r\nfunction generateRowItem(data, onClick) {\r\n    return (\r\n        <ListItem key={data.id} button onClick={onClick} id={data.id}>\r\n            <ListItemText primary={data.nombre} secondary={data.nota || \"\"} />\r\n            <ListItemSecondaryAction>\r\n                <Typography style={{ margin: 0, padding: 0 }} variant=\"h6\">x{data.cantidad}</Typography>\r\n            </ListItemSecondaryAction>\r\n        </ListItem>)\r\n}\r\n","export default function (value, documento) {\r\n    if (!value) value = \"\";\r\n    documento = +documento;\r\n    if (documento === 3) { return; }\r\n    if (documento === 1) {\r\n        if (value.length !== 13) return \"Número de RUC debe tener 13 digitos\";\r\n        if (value.length === 13 && value === \"9999999999999\") return;\r\n    }\r\n    if (documento === 2) {\r\n        if (value.length !== 10) return \"Número de Cedula debe tener 10 digitos\";\r\n    }\r\n    return validadorCedulaRuc(value, false);\r\n}\r\nfunction validadorCedulaRuc(numero, vacioEstaBien, exito, error) {\r\n    var mensaje = '';\r\n    var esValido = false;\r\n    if (vacioEstaBien && isEmptyOrNull(numero)) {\r\n        mensaje = '';\r\n        esValido = true;\r\n    } else {\r\n        if (isNumber(numero)) {\r\n\r\n            if (numero.length < 10) {\r\n                mensaje = \"El numero de Cedula debe tener 10 dígitos\";\r\n            } else if (numero.length > 10 && numero.length < 13) {\r\n                mensaje = \"El numero de RUC debe tener 13 dígitos\";\r\n            } else if (numero.length > 13) {\r\n                mensaje = \"El numero tiene más de 13 dígitos\";\r\n            }\r\n\r\n\r\n            var suma = 0;\r\n            var residuo = 0;\r\n            var pri = false;\r\n            var pub = false;\r\n            var nat = false;\r\n            var numeroProvincias = 22;\r\n            var modulo = 11;\r\n\r\n            /* Verifico que el campo no contenga letras */\r\n            var ok = 1;\r\n            /*for (i=0; i numeroProvincias){\r\n            mensaje = 'El código de la provincia (dos primeros dígitos) es inválido'); esValido = fals;\r\n        } */\r\n\r\n            /* Aqui almacenamos los digitos de la cedula en variables. */\r\n            const d1 = numero.substr(0, 1);\r\n            const d2 = numero.substr(1, 1);\r\n            const d3 = numero.substr(2, 1);\r\n            const d4 = numero.substr(3, 1);\r\n            const d5 = numero.substr(4, 1);\r\n            const d6 = numero.substr(5, 1);\r\n            const d7 = numero.substr(6, 1);\r\n            const d8 = numero.substr(7, 1);\r\n            const d9 = numero.substr(8, 1);\r\n            const d10 = numero.substr(9, 1);\r\n            if (!isDigit(d1)) mensaje = \"El digito 1 no es un número\";\r\n            if (!isDigit(d2)) mensaje = \"El digito 2 no es un número\";\r\n            if (!isDigit(d3)) mensaje = \"El digito 3 no es un número\";\r\n            if (!isDigit(d4)) mensaje = \"El digito 4 no es un número\";\r\n            if (!isDigit(d5)) mensaje = \"El digito 5 no es un número\";\r\n            if (!isDigit(d6)) mensaje = \"El digito 6 no es un número\";\r\n            if (!isDigit(d7)) mensaje = \"El digito 7 no es un número\";\r\n            if (!isDigit(d8)) mensaje = \"El digito 8 no es un número\";\r\n            if (!isDigit(d9)) mensaje = \"El digito 9 no es un número\";\r\n            if (!isDigit(d10)) mensaje = \"El digito 10 no es un número\";\r\n\r\n            if (numero.length > 10) {\r\n                const d11 = numero.substr(10, 1);\r\n                const d12 = numero.substr(10, 1);\r\n                const d13 = numero.substr(10, 1);\r\n                if (d11 && !isDigit(d11)) mensaje = \"El digito 11 no es un número\";\r\n                if (d12 && !isDigit(d12)) mensaje = \"El digito 12 no es un número\";\r\n                if (d13 && !isDigit(d13)) mensaje = \"El digito 13 no es un número\";\r\n            }\r\n\r\n            /* El tercer digito es: */\r\n            /* 9 para sociedades privadas y extranjeros */\r\n            /* 6 para sociedades publicas */\r\n            /* menor que 6 (0,1,2,3,4,5) para personas naturales */\r\n\r\n            let p1;\r\n            let p2;\r\n            let p3;\r\n            let p4;\r\n            let p5;\r\n            let p6;\r\n            let p7;\r\n            let p8;\r\n            let p9;\r\n\r\n            if (d3 == 7 || d3 == 8) {\r\n                mensaje = 'El tercer dígito ingresado es inválido';\r\n                esValido = false;\r\n            }\r\n\r\n            /* Solo para personas naturales (modulo 10) */\r\n            if (d3 < 6) {\r\n                nat = true;\r\n                p1 = d1 * 2; if (p1 >= 10) p1 -= 9;\r\n                p2 = d2 * 1; if (p2 >= 10) p2 -= 9;\r\n                p3 = d3 * 2; if (p3 >= 10) p3 -= 9;\r\n                p4 = d4 * 1; if (p4 >= 10) p4 -= 9;\r\n                p5 = d5 * 2; if (p5 >= 10) p5 -= 9;\r\n                p6 = d6 * 1; if (p6 >= 10) p6 -= 9;\r\n                p7 = d7 * 2; if (p7 >= 10) p7 -= 9;\r\n                p8 = d8 * 1; if (p8 >= 10) p8 -= 9;\r\n                p9 = d9 * 2; if (p9 >= 10) p9 -= 9;\r\n                modulo = 10;\r\n            }\r\n\r\n            /* Solo para sociedades publicas (modulo 11) */\r\n            /* Aqui el digito verficador esta en la posicion 9, en las otras 2 en la pos. 10 */\r\n            else if (d3 == 6) {\r\n                pub = true;\r\n                p1 = d1 * 3;\r\n                p2 = d2 * 2;\r\n                p3 = d3 * 7;\r\n                p4 = d4 * 6;\r\n                p5 = d5 * 5;\r\n                p6 = d6 * 4;\r\n                p7 = d7 * 3;\r\n                p8 = d8 * 2;\r\n                p9 = 0;\r\n            }\r\n\r\n            /* Solo para entidades privadas (modulo 11) */\r\n            else if (d3 == 9) {\r\n                pri = true;\r\n                p1 = d1 * 4;\r\n                p2 = d2 * 3;\r\n                p3 = d3 * 2;\r\n                p4 = d4 * 7;\r\n                p5 = d5 * 6;\r\n                p6 = d6 * 5;\r\n                p7 = d7 * 4;\r\n                p8 = d8 * 3;\r\n                p9 = d9 * 2;\r\n            }\r\n\r\n            suma = p1 + p2 + p3 + p4 + p5 + p6 + p7 + p8 + p9;\r\n            residuo = suma % modulo;\r\n\r\n            /* Si residuo=0, dig.ver.=0, caso contrario 10 - residuo*/\r\n            const digitoVerificador = residuo == 0 ? 0 : modulo - residuo;\r\n\r\n            /* ahora comparamos el elemento de la posicion 10 con el dig. ver.*/\r\n            if (pub == true) {\r\n                if (digitoVerificador != d9) {\r\n                    mensaje = 'El ruc de la empresa del sector público es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                /* El ruc de las empresas del sector publico terminan con 0001*/\r\n                if (numero.substr(9, 4) != '0001') {\r\n                    mensaje = 'El ruc de la empresa del sector público debe terminar con 0001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n            else if (pri == true) {\r\n                if (digitoVerificador != d10) {\r\n                    mensaje = 'El ruc de la empresa del sector privado es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                if (numero.substr(10, 3) != '001') {\r\n                    mensaje = 'El ruc de la empresa del sector privado debe terminar con 001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n\r\n            else if (nat == true) {\r\n                if (digitoVerificador != d10) {\r\n                    mensaje = 'El número de cédula de la persona natural es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                if (numero.length > 10 && numero.substr(10, 3) != '001') {\r\n                    mensaje = 'El ruc de la persona natural debe terminar con 001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n            esValido = true;\r\n\r\n        } else {\r\n            mensaje = 'Este campo solo admite numeros';\r\n        }\r\n    }\r\n\r\n    if (esValido && mensaje == '') {\r\n        if (exito) { exito(); }\r\n        return \"\";\r\n    } else {\r\n        if (mensaje == '') {\r\n            mensaje = 'La cantidad de digitos no corresponde a Cedula o RUC'\r\n        }\r\n        if (error) { error(mensaje); }\r\n        return mensaje;\r\n    }\r\n}\r\nexport function isDigit(char) { return char >= \"0\" && char <= \"9\"; }\r\nfunction isNumber(obj) { return !isNaN(parseFloat(obj)) }\r\nfunction isEmptyOrNull(obj) {\r\n    if (obj === '' || obj == undefined || obj == null || obj == 'undefined') {\r\n        return true\r\n    } else {\r\n        return false;\r\n    }\r\n}","import { isDigit } from \"./ValidarIdentificacion\";\r\n\r\nconst ValidateInput = {\r\n    tel(value) {\r\n        if (!value) return;\r\n        if (value.length < 7) return \"El número de telefono debe tener al menos 7 digitos\";\r\n        for (let i = 0; i < value.length; i++) {\r\n            if (!(value[i] === \"+\" || isDigit(value[i]) || value[i].trim() === \"\")) {\r\n                return \"El número debe tener uno de estos formatos: '09123456789' o '+5931234567890'\";\r\n            }\r\n        }\r\n    },\r\n    email(value) {\r\n        if (!value) return;\r\n        if (value.length < 5) return \"El email no está escrito correctamente\";\r\n        let twoParts = value.split(\"@\");\r\n        if (twoParts.length !== 2) return \"El email no está escrito correctamente\";\r\n        if (!(twoParts[1].indexOf(\".\") >= 0)) return \"El email no está escrito correctamente\";\r\n        if (value.trim().indexOf(\" \") >= 0) return \"El email no está escrito correctamente\";\r\n        if (value.trim().indexOf(\"\\t\") >= 0) return \"El email no está escrito correctamente\";\r\n        if (value.trim().indexOf(\"\\r\") >= 0) return \"El email no está escrito correctamente\";\r\n    }\r\n}\r\nexport default ValidateInput;","import React from \"react\";\r\nimport { Dialog, DialogContent, TextField, Button, DialogActions, withStyles } from \"@material-ui/core\";\r\nimport ValidarIdentificacion from \"../Services/ValidarIdentificacion\";\r\nimport ValidateInput from \"../Services/ValidateInput\";\r\n\r\nconst style = {\r\n    textField: {\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    },\r\n    content: {\r\n        paddingTop: 10,\r\n        paddingLeft: 10,\r\n        paddingRight: 10,\r\n        paddingBottom: 0\r\n    }\r\n};\r\n\r\nclass InvoiceData extends React.PureComponent {\r\n    state = {\r\n        documento: 1,\r\n        identificacion: \"\",\r\n        razonSocial: \"\",\r\n        telefono: \"\",\r\n        direccion: \"\",\r\n        email: \"\"\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.data) {\r\n            for (const key in props.data) {\r\n                if (props.data.hasOwnProperty(key)) {\r\n                    this.state[key] = props.data[key];\r\n                }\r\n            }\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleExit = this.handleExit.bind(this);\r\n        this.handleDone = this.handleDone.bind(this);\r\n    }\r\n    handleChange(event) {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    handleExit() {\r\n        const { match, history } = this.props;\r\n        const new_path = match.path.substr(0, match.path.indexOf(\"/invoice-data\"));\r\n        history.push(new_path);\r\n    }\r\n    handleDone(event) {\r\n        event.preventDefault();\r\n        const msg = validateMsg(this.state);\r\n        if (msg) {\r\n            alert(msg);\r\n        } else {\r\n            if (this.props.onDone)\r\n                this.props.onDone(this.state);\r\n            this.handleExit();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const cedula_err = this.state.identificacion\r\n            ? ValidarIdentificacion(this.state.identificacion, this.state.documento)\r\n            : \"\";\r\n        const cedula_props = {};\r\n        if (cedula_err) {\r\n            cedula_props.error = true;\r\n            cedula_props.helperText = cedula_err;\r\n        }\r\n        const rs_err = (this.state.identificacion && !(this.state.razonSocial || \"\").trim())\r\n            ? \"Esta campo no puede estar vacío\"\r\n            : \"\";\r\n        const tel_props = {};\r\n        const tel_err = ValidateInput.tel(this.state.telefono)\r\n        if (tel_err) {\r\n            tel_props.error = true;\r\n            tel_props.helperText = tel_err;\r\n        }\r\n        const email_props = {};\r\n        const email_err = ValidateInput.email(this.state.email)\r\n        if (email_err) {\r\n            email_props.error = true;\r\n            email_props.helperText = email_err;\r\n        }\r\n\r\n        const hay_errores = cedula_err || rs_err || tel_err || email_err;\r\n\r\n        return (<Dialog open={true} >\r\n            <form onSubmit={this.handleDone}>\r\n                <DialogContent style={style.content}>\r\n                    <TextField value={this.state.documento}\r\n                        name=\"documento\"\r\n                        onChange={this.handleChange}\r\n                        select\r\n                        SelectProps={{ native: true }}\r\n                        fullWidth\r\n                        label=\"Documento\"\r\n                        style={style.textField}\r\n                    >\r\n                        <option value={1}>RUC</option>\r\n                        <option value={2}>Cedula</option>\r\n                        <option value={3}>Pasaporte</option>\r\n                    </TextField>\r\n\r\n                    <TextField name=\"identificacion\"\r\n                        inputProps={{ maxLength: 20 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"# de Identificacion\"\r\n                        value={this.state.identificacion || \"\"}\r\n                        style={style.textField}\r\n                        fullWidth\r\n\r\n                        {...cedula_props}\r\n                    />\r\n\r\n                    <TextField name=\"razonSocial\"\r\n                        inputProps={{ maxLength: 200 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Razon Social\"\r\n                        value={this.state.razonSocial || \"\"}\r\n                        multiline\r\n                        rows={2}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                    />\r\n\r\n                    <TextField name=\"telefono\"\r\n                        inputProps={{ maxLength: 50 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Telefono\"\r\n                        value={this.state.telefono || \"\"}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                        {...tel_props}\r\n                    />\r\n\r\n                    <TextField name=\"direccion\"\r\n                        inputProps={{ maxLength: 300 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Direccion\"\r\n                        value={this.state.direccion || \"\"}\r\n                        multiline\r\n                        rows={3}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                    />\r\n\r\n                    <TextField name=\"email\"\r\n                        inputProps={{ maxLength: 150 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Email\"\r\n                        value={this.state.email || \"\"}\r\n                        style={style.textField}\r\n                        fullWidth\r\n                        {...email_props}\r\n                    />\r\n\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button type=\"button\" onClick={this.handleExit} color=\"secondary\" variant=\"outlined\">\r\n                        SALIR\r\n                </Button>\r\n                    <Button disabled={hay_errores} type=\"submit\" color=\"primary\" variant=\"outlined\">\r\n                        AGREGAR\r\n                </Button>\r\n                </DialogActions>\r\n            </form>\r\n        </Dialog>)\r\n    }\r\n}\r\n\r\nfunction validateMsg(state) {\r\n    const { documento, identificacion, razonSocial, telefono, direccion, email } = state;\r\n    let a = identificacion || \"\";\r\n    let b = razonSocial || \"\";\r\n    let c = telefono || \"\";\r\n    let d = direccion || \"\";\r\n    let e = email || \"\";\r\n    let msg = \"\";\r\n    if (a.length || b.length || c.length || d.length || e.length) {\r\n        if (!a.length) return \"Agregue el numero de identificacion\";\r\n        if (!b.length) return \"Agregue la Razon Social\";\r\n        msg = ValidarIdentificacion(identificacion, documento);\r\n        if (msg) return msg;\r\n        msg = c && ValidateInput.tel(c);\r\n        if (msg) return msg;\r\n        msg = e && ValidateInput.email(e);\r\n        if (msg) return msg;\r\n    }\r\n}\r\n\r\nexport default withStyles(theme => ({\r\n    paper: {\r\n        maxHeight: \"calc(100% - 30px)\",\r\n        marginTop: 15,\r\n        marginBottom: 15\r\n    }\r\n}))(InvoiceData);","import React from \"react\";\r\nimport { TextField, Typography, Button } from \"@material-ui/core\";\r\nimport { Route } from \"react-router-dom\";\r\nimport InvoiceData from \"./InvoiceData\";\r\nimport ValidateInput from \"../Services/ValidateInput\";\r\n\r\nconst style = {\r\n    root: { padding: \"20px 10px\", flex: 1 },\r\n    textFiel: { marginTop: 10, marginBottom: 10 }\r\n}\r\n\r\nexport default class extends React.Component {\r\n    state = {\r\n        telefono_error: \"\",\r\n        email_error: \"\"\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleClick() {\r\n        this.props.history.push(this.props.match.path + \"/invoice-data\");\r\n    }\r\n    render() {\r\n        const { props } = this;\r\n\r\n        const telefono_error = ValidateInput.tel(props.data.telefono);\r\n        let telefono_props = {};\r\n        if (telefono_error) {\r\n            telefono_props.error = true;\r\n            telefono_props.helperText = telefono_error;\r\n        }\r\n        const email_error = ValidateInput.email(props.data.email);\r\n        let email_props = {};\r\n        if (email_error) {\r\n            email_props.error = true;\r\n            email_props.helperText = email_error;\r\n        }\r\n\r\n        return (<div style={style.root}>\r\n            <TextField\r\n                autoFocus={true}\r\n                label=\"Nombre (Nombres y Apellidos)*\"\r\n                fullWidth\r\n                inputProps={{ maxLength: 300 }}\r\n                style={style.textField}\r\n                name=\"contactData.nombre\"\r\n                value={props.data.nombre}\r\n                onChange={props.onInputChange}\r\n            />\r\n            <TextField\r\n                label=\"Telefono*\"\r\n                fullWidth\r\n                inputProps={{ maxLength: 50, type: \"phone\" }}\r\n                style={style.textField}\r\n                name=\"contactData.telefono\"\r\n                value={props.data.telefono}\r\n                onChange={props.onInputChange}\r\n                {...telefono_props}\r\n            />\r\n            <TextField\r\n                label=\"Email\"\r\n                fullWidth\r\n                inputProps={{ maxLength: 150, type: \"email\" }}\r\n                style={style.textField}\r\n                name=\"contactData.email\"\r\n                value={props.data.email}\r\n                onChange={props.onInputChange}\r\n                {...email_props}\r\n            />\r\n\r\n            <Typography style={{ marginTop: 20 }} variant=\"body2\">NECESITAS FACTURA?</Typography>\r\n            <div style={{ width: \"100%\", marginBottom: 10, textAlign: \"center\" }}>\r\n                <Button variant=\"outlined\" color=\"secondary\" size=\"small\"\r\n                    style={{ width: \"90%\", margin: \"auto\" }} onClick={this.handleClick}>\r\n                    Agregar Datos de Facturación\r\n                </Button>\r\n            </div>\r\n            <Route path={`${props.match.path}/invoice-data`}\r\n                render={r_props => <InvoiceData {...r_props} data={props.invoiceData} onDone={props.onInvoiceDataChange} />}\r\n            />\r\n        </div>)\r\n    }\r\n}","import React from \"react\";\r\nimport { TextField, Typography, Button } from \"@material-ui/core\";\r\nimport { withGoogleMap, GoogleMap, withScriptjs } from \"react-google-maps\";\r\nimport SearchBox from \"react-google-maps/lib/components/places/SearchBox\";\r\nimport { MarkerWithLabel } from \"react-google-maps/lib/components/addons/MarkerWithLabel\";\r\nimport { GpsFixed } from \"@material-ui/icons\";\r\nimport * as prefs from \"../Services/Preferences\";\r\n\r\nconst refs = {};\r\n\r\nconst styles = {\r\n    fields: {\r\n        marginTop: 10,\r\n        marginBottom: 10\r\n    }\r\n}\r\nconst STORE_LATLNG = {\r\n    lat: -0.263496, lng: -78.488272\r\n}\r\nexport default class extends React.PureComponent {\r\n    state = {\r\n        loading: false,\r\n        defaultCenter: {},\r\n        latLng: null,\r\n        defaultZoom: 12,\r\n        bounds: null\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n        this.handleMapClick = this.handleMapClick.bind(this);\r\n        this.handlePlacesChanged = this.handlePlacesChanged.bind(this);\r\n        this.handleSearchBoxMounted = this.handleSearchBoxMounted.bind(this);\r\n        this.handleMapMounted = this.handleMapMounted.bind(this);\r\n        this.handleBoundsChanged = this.handleBoundsChanged.bind(this);\r\n        this.handleLocationClick = this.handleLocationClick.bind(this);\r\n        this.state.showLocationButton = prefs.Get(\"geo\");\r\n    }\r\n    handleSearchBoxMounted(ref) {\r\n        refs.searchBox = ref;\r\n    }\r\n    handleMapMounted(ref) {\r\n        refs.map = ref;\r\n    }\r\n    handleBoundsChanged() {\r\n        this.setState({ bounds: refs.map.getBounds() });\r\n    }\r\n    handlePlacesChanged() {\r\n        const places = refs.searchBox.getPlaces();\r\n        const bounds = new window.google.maps.LatLngBounds();\r\n\r\n        places.forEach(place => {\r\n            if (place.geometry.viewport) {\r\n                bounds.union(place.geometry.viewport)\r\n            } else {\r\n                bounds.extend(place.geometry.location)\r\n            }\r\n        });\r\n        const placeLocations = places.map(place => ({\r\n            position: place.geometry.location,\r\n            name: place.name\r\n        }));\r\n        let placeLoc = this.state.defaultCenter;\r\n        if (placeLocations && placeLocations.length) {\r\n            placeLoc = placeLocations[0];\r\n        }\r\n        this.setState({\r\n            center: placeLoc.position\r\n        });\r\n        this.props.onPositionChanged({\r\n            lat: placeLoc.position.lat(),\r\n            lng: placeLoc.position.lng(),\r\n            name: placeLoc.name\r\n        });\r\n    }\r\n    componentWillMount() {\r\n        const { direccion } = this.props;\r\n        // prev stored\r\n        if (direccion && direccion.position) {\r\n            return this.setState({\r\n                center: { ...direccion.position },\r\n                defaultZoom: 20\r\n            });\r\n        }\r\n        navigator.geolocation.getCurrentPosition(position => {\r\n            const latLng = {\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude,\r\n                name: \"Ubicación Actual\"\r\n            };\r\n            this.setState({\r\n                defaultCenter: { ...latLng, isCurrentLocation: true },\r\n                defaultZoom: 20,\r\n                loading: false\r\n            });\r\n            this.props.onPositionChanged(latLng);\r\n        }, err => {\r\n            this.setState({\r\n                loading: false,\r\n                defaultCenter: { ...STORE_LATLNG },\r\n                markerName: \"\"\r\n            });\r\n        })\r\n    }\r\n    handleMapClick(a) {\r\n        this.props.onPositionChanged({ lat: a.latLng.lat(), lng: a.latLng.lng(), name: \"\" });\r\n    }\r\n    handleLocationClick() {\r\n        navigator.geolocation.getCurrentPosition(position => {\r\n            const center = {\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude,\r\n                name: \"Ubicación Actual\"\r\n            }\r\n            this.props.onPositionChanged(center);\r\n            this.setState({ center });\r\n        }, err => {\r\n            const state = { center: { ...this.state.defaultCenter } };\r\n            if (state.center.isCurrentLocation) {\r\n                delete state.center.isCurrentLocation;\r\n                this.props.onPositionChanged(state.center);\r\n            }\r\n            this.setState(state);\r\n        })\r\n    }\r\n    render() {\r\n        const { direccion, onInputChange, API_KEY } = this.props;\r\n        const { defaultCenter, defaultZoom, center, bounds, showLocationButton } = this.state;\r\n        return (<div style={{ overflow: \"auto\", paddingLeft: 10, paddingRight: 10, flex: 1 }}>\r\n            <Map\r\n                googleMapURL={`https://maps.googleapis.com/maps/api/js?key=${API_KEY || \"\"}&v=3.exp&libraries=geometry,drawing,places`}\r\n                //googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\"\r\n                containerElement={<div style={{ height: \"300px\" }} />}\r\n                loadingElement={<div style={{ height: `100%` }} />}\r\n                mapElement={<div style={{ height: `100%` }} />}\r\n                onClick={this.handleMapClick}\r\n                defaultZoom={defaultZoom}\r\n                onPlacesChanged={this.handlePlacesChanged}\r\n                onSearchBoxMounted={this.handleSearchBoxMounted}\r\n                onMapMounted={this.handleMapMounted}\r\n                marker={direccion.position}\r\n                center={center || defaultCenter}\r\n                onBoundsChanged={this.handleBoundsChanged}\r\n                searchBoxBounds={bounds}\r\n                onLocationClick={this.handleLocationClick}\r\n                showLocationButton={showLocationButton}\r\n            />\r\n            <TextField\r\n                name=\"direccion.numero_secundario\"\r\n                value={direccion.numero_secundario}\r\n                onChange={onInputChange}\r\n                inputProps={{ maxLength: 100 }}\r\n                label=\"Numero\"\r\n                placeholder=\"Ej. Dpto 101, Oficina 304, Manzana 10 Villa 4, etc.\"\r\n                fullWidth\r\n                style={styles.fields}\r\n            />\r\n\r\n            <TextField\r\n                name=\"direccion.referencia\"\r\n                value={direccion.referencia}\r\n                onChange={onInputChange}\r\n                inputProps={{ maxLength: 200 }}\r\n                label=\"Referencia*\"\r\n                placeholder=\"Ej. Al lado de la panaderia 'El Pan de Cada Dia'\"\r\n                fullWidth\r\n                style={styles.fields}\r\n            />\r\n\r\n        </div>)\r\n    }\r\n}\r\n\r\nconst Map = withScriptjs(withGoogleMap(function Map(props) {\r\n    function changeFn(event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n    }\r\n    const { google } = window;\r\n    return (<GoogleMap\r\n        {...props}\r\n        ref={props.onMapMounted}\r\n        options={{\r\n            disableDefaultUI: true,\r\n            zoomControl: true,\r\n            clickableIcons: false\r\n        }}\r\n    >\r\n        <SearchBox\r\n            bounds={props.searchBoxBounds}\r\n            onPlacesChanged={props.onPlacesChanged}\r\n            controlPosition={google.maps.ControlPosition.TOP_LEFT}\r\n            ref={props.onSearchBoxMounted}>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\", width: \"calc(100% - 10px)\", margin: 5 }}>\r\n                <input\r\n                    type=\"text\"\r\n                    onChange={changeFn}\r\n                    placeholder=\"Busca tu dirección aqui\"\r\n                    style={{\r\n                        flex: 1,\r\n                        boxSizing: `border-box`,\r\n                        border: `1px solid transparent`,\r\n                        height: 40,\r\n                        padding: `0 10px`,\r\n                        borderRadius: `3px`,\r\n                        boxShadow: `0 2px 6px rgba(0, 0, 0, 0.3)`,\r\n                        fontSize: `14px`,\r\n                        outline: `none`,\r\n                        textOverflow: `ellipses`\r\n                    }}\r\n                />\r\n                {props.showLocationButton\r\n                    ? (<Button style={{\r\n                        maxHeight: 40,\r\n                        padding: 5,\r\n                        minWidth: 40,\r\n                        background: \"#fff\",\r\n                        boxShadow: `0 2px 6px rgba(0, 0, 0, 0.3)`\r\n                    }} variant=\"outlined\" >\r\n                        <GpsFixed />\r\n                    </Button>)\r\n                    : null}\r\n            </div>\r\n        </SearchBox>\r\n        {props.marker\r\n            ? (<MarkerWithLabel\r\n                x labelAnchor={new window.google.maps.Point(0, 0)}\r\n                position={props.marker}\r\n                labelStyle={{ background: \"#fff\", border: \"1px solid grey\", padding: \"10px\" }}\r\n                labelVisible={Boolean(props.marker.name)}\r\n            >\r\n                <Typography>{props.marker.name}</Typography>\r\n            </MarkerWithLabel>)\r\n            : null}\r\n    </GoogleMap>)\r\n}));","import React from \"react\";\r\nimport { CheckCircleOutline, Edit } from \"@material-ui/icons\";\r\nimport { Typography, Button, CircularProgress } from \"@material-ui/core\";\r\n\r\n\r\n\r\nexport default class extends React.Component {\r\n    state = {\r\n        loading: false\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        // en este caso, al comenzar se guardar inmediatamente.\r\n        if (props.onMounted) props.onMounted(props.stepIndex);\r\n    }\r\n    render() {\r\n        const { loading, error, ws } = this.props;\r\n\r\n        return (<div style={{ textAlign: \"center\", overflow: \"auto\", padding: 10 }}>\r\n            {loading\r\n                ? <Wait />\r\n                : (error\r\n                    ? <ErrrMsg {...error} />\r\n                    : <IsCompleted ws={ws} />)}\r\n        </div>)\r\n    }\r\n}\r\n\r\nfunction Wait(props) {\r\n    return (<React.Fragment>\r\n        <CircularProgress size={40} />\r\n        <Typography vaiant=\"h5\">Guardando...</Typography>\r\n    </React.Fragment>);\r\n}\r\nfunction ErrrMsg(props) {\r\n    return (<React.Fragment>\r\n        <Typography variant=\"h6\" color=\"secondary\" >{props.message}</Typography>\r\n        <Typography variant=\"caption\" color=\"secondary\" >{props.code} | {props.status}</Typography>\r\n        <Button variant=\"outlined\" color=\"primary\" fullWidth style={{ marginTop: 20 }} >\r\n            Regresar al Pedido <Edit />\r\n        </Button>\r\n    </React.Fragment>);\r\n}\r\nfunction IsCompleted(props) {\r\n    return (<React.Fragment>\r\n        <CheckCircleOutline fontSize=\"large\" style={{ margin: 20 }} />\r\n        <Typography variant=\"h5\">Tu pedido ha sido recibido!</Typography>\r\n        <Typography variant=\"body2\">\r\n            En un momento nos comunicaremos contigo para coordinar la entrega de tu pedido.\r\n            Mantente pendiente a tu telefono.\r\n     </Typography>\r\n        <Button component=\"a\" href=\"/\" style={{ margin: 10 }} variant=\"contained\" color=\"primary\">NUEVO PEDIDO</Button>\r\n        {props.ws\r\n            ? (<Button target=\"_blank\" style={{ margin: 10 }} variant=\"outlined\" color=\"secondary\" component=\"a\" href={props.ws}>\r\n                CHATEA CON NOSOTROS\r\n                <img alt=\"Whatsapp\" src=\"./ws.png\" style={{ height: 20, width: 20, marginLeft: 5 }}></img>\r\n            </Button>)\r\n            : null}\r\n    </React.Fragment>);\r\n}","import React from \"react\";\r\n\r\nexport default function (Component, step) {\r\n    return class extends React.Component {\r\n        state = {\r\n            render: true\r\n        }\r\n        constructor(props) {\r\n            super(props);\r\n            const moveToStep = props.onValidate(step);\r\n            if (moveToStep >= 0) {\r\n                props.history.push(\"/\" + moveToStep);\r\n                this.state.render = false;\r\n            }\r\n        }\r\n        render() {\r\n            if (!this.state.render) return null;\r\n            return <Component stepIndex={step} {...this.props} />\r\n        }\r\n    }\r\n}\r\n","import React from 'react';\nimport { Paper, Stepper, Step, StepLabel, Button, CircularProgress, Typography } from '@material-ui/core';\nimport { Switch, Route, withRouter, HashRouter, Redirect, Prompt } from \"react-router-dom\";\nimport {\n  ReceiptOutlined, PlaceOutlined, PersonOutlined, AddShoppingCartOutlined,\n  Receipt, Place, Person, ShoppingCart, ArrowBack\n} from '@material-ui/icons';\n\nimport API from \"./Services/API\";\nimport * as prefs from \"./Services/Preferences\";\nimport State from \"./App.state\";\n\nimport A from './Components/TakeOrder';\nimport B from './Components/ConfirmOrder';\nimport C from './Components/ContactData';\nimport D from './Components/Location';\nimport E from './Components/Done';\nimport WithValidate from './HOCs/WithValidate';\nimport ValidateInput from './Services/ValidateInput';\n\nconst TakeOrder = WithValidate(A, 0);\nconst ConfirmOrder = WithValidate(B, 1);\nconst ContactData = WithValidate(C, 2);\nconst Location = WithValidate(D, 3);\nconst Done = WithValidate(E, 4);\n\nconst STEPS = [\n  { t: \"Elige tus productos\", icon: AddShoppingCartOutlined, currentIcon: ShoppingCart },\n  { t: \"Confirma tu pedido\", icon: ReceiptOutlined, currentIcon: Receipt },\n  { t: \"Registra tus datos\", icon: PersonOutlined, currentIcon: Person },\n  { t: \"Ingresa tu ubicación\", icon: PlaceOutlined, currentIcon: Place }\n];\n\nclass App extends React.Component {\n  state = new State();\n  constructor(props) {\n    super(props);\n    this.handleActivateStep = this.handleActivateStep.bind(this);\n    this.handleItemChange = this.handleItemChange.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleInvoiceDataChange = this.handleInvoiceDataChange.bind(this);\n    this.handlePositionChanged = this.handlePositionChanged.bind(this);\n\n    this.handleGuardar = this.handleGuardar.bind(this);\n\n    this.validateStep = this.validateStep.bind(this);\n    this.handleValidateStep = this.handleValidateStep.bind(this);\n    this.handleNextClick = this.handleNextClick.bind(this);\n\n    this.state.contactData = prefs.Get(\"contactData\") || this.state.contactData;\n    this.state.invoiceData = prefs.Get(\"invoiceData\") || this.state.invoiceData;\n    this.state.direccion = prefs.Get(\"direccion\") || this.state.direccion;\n  }\n  handleValidateStep(step) {\n    // CUANDO SE MUEVE EL PEDIDO, POR EJEMPLO HACIA ATRAS, BORRO TODO Y COMIENZO DE 0\n    if (this.state.orderNumber) {\n      const state = { ...new State(), loading: false, productList: [...this.state.productList] };\n      state.contactData = prefs.Get(\"contactData\") || state.contactData;\n      state.invoiceData = prefs.Get(\"invoiceData\") || state.invoiceData;\n      state.direccion = prefs.Get(\"direccion\") || state.direccion;\n      this.setState(state);\n      return 0;\n    }\n    var prevstep = step - 1;\n    var goToStep = undefined;\n    if (step >= 0) {\n      while (prevstep >= 0) {\n        let msg = this.validateStep(prevstep);\n        if (msg) goToStep = prevstep;\n        prevstep--;\n      }\n    }\n    return goToStep;\n  }\n  validateStep(step) {\n    if (step === 0 || step === 1) {\n      if (!this.state.items.length)\n        return \"Para continuar seleccione la menos un producto\";\n    }\n    if (step === 1) {\n      if (!this.state.forma_pago) return \"Seleccione el Método de Pago\";\n    }\n    if (step === 2 && this.state.contactData) {\n      const x = this.state.contactData;\n      if (!x.nombre) return \"Agregue un nombre de contacto\";\n      if (!x.telefono) return \"Agregue un telefono de contacto\";\n      let msg = ValidateInput.tel(x.telefono);\n      if (msg) return msg;\n      msg = ValidateInput.email(x.email);\n      if (msg) return msg;\n    }\n    if (step === 3 && this.state.direccion) {\n      const x = this.state.direccion;\n      if (!x.position) return \"Confirme su ubicación en el mapa.\";\n      if (!x.referencia) return \"Agregue la referencia de la direccion de entrega.\";\n    }\n    return;\n  }\n  componentDidMount() {\n    API.GetStoreData().then(x =>\n      this.setState({ ...x })\n    ).then(_ =>\n      API.GetProducts().then(productList =>\n        this.setState({\n          productList,\n          loading: false\n        }, () => console.info(\"Se han cargado los productos al estado\"))\n      )\n    ).catch(ex => {\n      console.dir(ex);\n      if (ex.status === 404) return this.setState({ loading: false, products: [] });\n      this.setState({ loading: false, error: { ...ex } });\n    });\n  }\n  handleActivateStep(index) {\n    this.setState({ activeStep: index });\n  }\n  handleInputChange(event) {\n    const { name, value } = event.currentTarget;\n    this.setState(prev => {\n      const state = { ...prev };\n      if (name.indexOf(\".\") >= 0) {\n        const levels = name.split(\".\");\n        const key = levels.pop();\n        let reference = state;\n        for (let i = 0; i < levels.length; i++) {\n          reference = reference[levels[i]];\n        }\n        reference[key] = value;\n      } else {\n        state[name] = value;\n      }\n      return state;\n    });\n  }\n  whatsAppURL() {\n    const { ws_phone, ws_msg, contactData, orderNumber } = this.state;\n    if (!ws_phone || !ws_msg) return \"\";\n    const final_msg = ws_msg\n      .replace(/__NAME__/g, contactData.nombre).\n      replace(/__ORDER_NUMER__/g, orderNumber);\n    return \"https://api.whatsapp.com/send?\" +\n      (`phone=${ws_phone}&`) +\n      `text=${encodeURIComponent(final_msg)}`\n  }\n  handleItemChange(item) {\n    let PrevItem = this.state.items.find(x => x.id === item.id);\n    if (!PrevItem && item.cantidad) {\n      const items = [...this.state.items];\n      items.push(item);\n      return this.setState({ items });\n    }\n    if (PrevItem) {\n      const items = [...this.state.items];\n      let PrevIndex = items.indexOf(PrevItem);\n      if (item.cantidad) {\n        items[PrevIndex] = item;\n      } else {\n        items.splice(PrevIndex, 1);\n      }\n      this.setState({ items });\n    }\n  }\n  handleInvoiceDataChange(invoiceData) {\n    this.setState({ invoiceData });\n    if (invoiceData) {\n      prefs.Set(\"invoiceData\", JSON.stringify(invoiceData));\n    } else {\n      prefs.Set(\"invoiceData\");\n    }\n  }\n  handlePositionChanged(new_position) {\n    this.setState(prev => {\n      const state = { ...prev };\n      state.direccion = { ...state.direccion };\n      state.direccion.position = new_position;\n      return state;\n    });\n  }\n  handleNextClick() {\n    const { contactData, direccion, activeStep } = this.state;\n    if (activeStep === 2 && contactData)\n      prefs.Set(\"contactData\", JSON.stringify(contactData));\n\n    if (activeStep === 3 && direccion)\n      prefs.Set(\"direccion\", JSON.stringify(direccion));\n  }\n  handleGuardar(index) {\n    this.handleActivateStep(index);\n    this.setState({ loading: \"guardar\", errGuardar: null });\n    const ORDER = { ...this.state };\n    delete ORDER.products;\n    delete ORDER.loading;\n    delete ORDER.error;\n    delete ORDER.errGuardar;\n    ORDER.end_timestamp = new Date().valueOf();\n\n    return API.SaveOrder(ORDER).then(order => {\n      this.setState({ loading: false, orderNumber: order.numero, errGuardar: null });\n    }).catch(ex => {\n      this.setState({ loading: false, errGuardar: ex });\n    });\n  }\n  render() {\n    const { activeStep, productList, loading, error,\n      items, forma_pago, nota,\n      invoiceData, contactData,\n      direccion,\n      errGuardar, orderNumber\n    } = this.state;\n    return (\n      <HashRouter>\n        <Paper style={{\n          maxHeight: \"100%\",\n          minHeight: \"100%\",\n          margin: \"auto\",\n          maxWidth: 700,\n          display: \"flex\",\n          flexDirection: \"column\"\n        }}>\n          <Stepper alternativeLabel activeStep={activeStep}>\n            {STEPS.map((x, i) => generateStep(x, i, activeStep))}\n          </Stepper>\n          <div style={{ flex: 1, overflow: \"hidden\", display: \"flex\", flexDirection: \"column\" }}>\n            {error\n              ? (<div style={{ flex: 1, textAlign: \"center\", padding: 20 }}>\n                <Typography variant=\"h6\" color=\"secondary\">{error.message}</Typography>\n                <Button fullWidth style={{ marginTop: 20, marginBottom: 20 }} onClick={x => window.location.reload()} variant=\"outlined\" color=\"primary\">\n                  REINTENTAR\n                  </Button>\n              </div>)\n              : (loading === \"data\"\n                ? (<div style={{ flex: 1, textAlign: \"center\", padding: 20 }}>\n                  <CircularProgress size={40} />\n                  <Typography color=\"primary\" variant=\"h6\">Obteniendo información de la Tienda...</Typography>\n                </div>)\n                : (<React.Fragment>\n                  {loading\n                    ? <Prompt message=\"Hay un proceso en progreso, no deberia salir hasta que se complete. Está seguro de salir?\" />\n                    : null}< Switch >\n                    <Route path=\"/0\"\n                      render={props => <TakeOrder\n                        {...props}\n                        onValidate={this.handleValidateStep}\n                        onMounted={this.handleActivateStep}\n                        onItemChange={this.handleItemChange}\n                        choosenItems={items}\n                        productList={productList}\n                      />}\n                    />\n                    <Route path=\"/1\"\n                      render={props => <ConfirmOrder\n                        {...props}\n                        productList={productList}\n                        onValidate={this.handleValidateStep}\n                        onMounted={this.handleActivateStep}\n                        onItemChange={this.handleItemChange}\n                        onInputChange={this.handleInputChange}\n                        items={items}\n                        nota={nota}\n                        forma_pago={forma_pago}\n                      />}\n                    />\n                    <Route path=\"/2\"\n                      render={props =>\n                        <ContactData\n                          {...props}\n                          onValidate={this.handleValidateStep}\n                          invoiceData={invoiceData}\n                          data={contactData}\n                          onInputChange={this.handleInputChange}\n                          onInvoiceDataChange={this.handleInvoiceDataChange}\n                          onMounted={this.handleActivateStep}\n                        />}\n                    />\n                    <Route path=\"/3\" render={props =>\n                      (<Location\n                        {...props}\n                        onValidate={this.handleValidateStep}\n                        API_KEY={this.state.G_M_K}\n                        onMounted={this.handleActivateStep}\n                        onPositionChanged={this.handlePositionChanged}\n                        direccion={direccion} onInputChange={this.handleInputChange} />)} />\n                    <Route path=\"/4\"\n                      render={props => (<Done\n                        {...props}\n                        ws={this.whatsAppURL()}\n                        onValidate={this.handleValidateStep}\n                        onMounted={this.handleGuardar}\n                        loading={loading}\n                        error={errGuardar}\n                        saved={Boolean(orderNumber)}\n                      />)} />\n                    <Redirect exact from=\"/\" to=\"/0\"></Redirect>\n                    <Redirect exact from=\"\" to=\"/0\"></Redirect>\n                  </Switch >\n                  {STEPS.length === this.state.activeStep\n                    ? null\n                    : <RouterButton\n                      onClick={this.handleNextClick}\n                      disabled={Boolean(this.validateStep(this.state.activeStep))}\n                      activeStep={this.state.activeStep}\n                      errMsg={this.validateStep(this.state.activeStep)}\n                    />}\n                </React.Fragment>))}\n          </div>\n        </Paper>\n      </HashRouter >\n    );\n  }\n}\nexport default App;\n\nconst RouterButton = withRouter(NextButton);\n\nfunction NextButton(props) {\n  function fn() {\n    if (props.errMsg) {\n      alert(props.errMsg);\n    } else {\n      props.history.push(\"/\" + (props.activeStep + 1));\n    }\n    props.onClick();\n  }\n  function back() {\n    props.history.push(\"/\" + (props.activeStep - 1));\n  }\n  return (<div style={{ width: \"calct(100% - 20px)\", display: \"flex\", flexDirection: \"row\", textAlign: \"center\", margin: 10, minHeight: 40 }}>\n    {props.activeStep === 0\n      ? null\n      : <Button onClick={back} title=\"Regresar\" color=\"secondary\" variant=\"outlined\">\n        <ArrowBack />\n      </Button>}\n    <Button\n      onClick={fn}\n      disabled={props.disabled}\n      color=\"primary\"\n      type=\"button\"\n      variant=\"outlined\"\n      style={{ flex: 1 }}\n      size=\"large\">\n      CONTINUAR\n  </Button>\n  </div>)\n}\n\nfunction generateStep(item, index, current) {\n  let data = {};\n  if (current === index) data = { icon: <item.currentIcon /> };\n  if (index > current) data = { icon: <item.icon /> };\n  return (<Step key={index} >\n    <StepLabel {...data} >{item.t}</StepLabel>\n  </Step >)\n}","import React from \"react\";\r\nimport { Typography, Button } from \"@material-ui/core\";\r\nimport { MyLocation, LocationDisabled } from \"@material-ui/icons\";\r\nimport API from \"./Services/API\";\r\nimport * as prefs from \"./Services/Preferences\";\r\n\r\n// aqui cargo todo lo relacionado a la información inicial antes de comenzar!\r\nexport default class extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    state = { begin: true }\r\n    componentDidMount() {\r\n        API.GetStoreData().then(x => {\r\n            this.setState({ ...x });\r\n        }).catch(error => {\r\n            this.setState({\r\n                error: error.message,\r\n                code: error.code\r\n            });\r\n        });\r\n    }\r\n    begin = () => {\r\n        this.setState({ begin: false });\r\n        if (prefs.Get(\"geo\") !== null) {\r\n            return this.props.launch();\r\n        }\r\n        if (!navigator.geolocation) return this.setState({\r\n            error: \"Tu navegador no soporta la función de Ubicación.\"\r\n        });\r\n        navigator.geolocation.getCurrentPosition(position => {\r\n            window[\"lat\"] = position.coords.latitude;\r\n            window[\"lon\"] = position.coords.longitude;\r\n            this.props.launch();\r\n            prefs.Set(\"geo\", true);\r\n        }, error => {\r\n            if (error.code === error.PERMISSION_DENIED) {\r\n                this.setState({\r\n                    error: \"No se ha podido establecer tu ubicación.\",\r\n                    _error: error.message, code: error.code\r\n                })\r\n            } else if (error.code === error.POSITION_UNAVAILABLE) {\r\n                this.setState({\r\n                    error: \"Tu navegador no nos permite encontrar tu ubicación.\",\r\n                    _error: error.message, code: error.code\r\n                })\r\n            } else {\r\n                this.setState({ error: error.message, code: error.code });\r\n            }\r\n            prefs.Set(\"geo\", false);\r\n        });\r\n    }\r\n    render() {\r\n        const { logoSrc, slogan, titulo, error, _error, begin } = this.state;\r\n        return (<div style={{ width: \"calc(100% - 20px)\", maxWidth: 600, textAlign: \"center\", paddingTop: 30, margin: \"auto\" }}>\r\n            {\r\n                begin ? (<React.Fragment>\r\n                    {logoSrc ? <img src={logoSrc} style={{ maxWidth: \"100%\", maxHeight: 350, marginTop: 10, marginBottom: 10 }} /> : null}\r\n                    <Typography variant=\"h6\">{titulo || \"Cargando...\"}</Typography>\r\n                    {slogan ? <Typography variant=\"subtitle2\">{slogan}</Typography> : null}\r\n\r\n                    <Button color=\"primary\" onClick={this.begin} fullWidth variant=\"outlined\" style={{ marginTop: 20 }} >EMPECEMOS!</Button>\r\n                </React.Fragment>)\r\n                    : (error\r\n                        ? (<div style={{ width: \"100%\" }}>\r\n                            <LocationDisabled fontSize=\"large\" />\r\n                            <Typography variant=\"body2\">{error}</Typography>\r\n                            <Typography variant=\"body1\">{_error}</Typography>\r\n                            <Button\r\n                                style={{ marginTop: 20, wordWrap: \"break-word\" }}\r\n                                onClick={() => this.props.launch()}\r\n                                variant=\"outlined\"\r\n                                color=\"primary\"\r\n                            >ENTRAR DE TODAS FORMAS</Button>\r\n                        </div>) : (<div style={{ width: \"100%\" }}>\r\n                            <Typography variant=\"h5\">\r\n                                Primero necesitamos que nos permitas acceder a tu ubicación\r\n                    </Typography>\r\n                            <MyLocation fontSize=\"large\" />\r\n                        </div>))\r\n            }\r\n        </div>)\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport Bootstrapper from './Bootstrapper';\n\nconst launch = () => ReactDOM.render(<App />, document.getElementById('app'));\nReactDOM.render(<Bootstrapper launch={launch} />, document.getElementById('app'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();"],"sourceRoot":""}